<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>数据增强 代码</title>
    <url>/2021/04/21/Data-Augmention/</url>
    <content><![CDATA[<p>打算做一套数据增强都适用的代码，放在博客方便copy</p>
<span id="more"></span>

<h3 id="导包"><a href="#导包" class="headerlink" title="导包"></a>导包</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> matplotlib <span class="token keyword">as</span> mpl
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> os
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> sklearn
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token keyword">import</span> time

<span class="token keyword">from</span> tensorflow <span class="token keyword">import</span> keras

<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>version_info<span class="token punctuation">)</span>
<span class="token keyword">for</span> module <span class="token keyword">in</span> mpl<span class="token punctuation">,</span> np<span class="token punctuation">,</span> pd<span class="token punctuation">,</span> sklearn<span class="token punctuation">,</span> tf<span class="token punctuation">,</span> keras<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>__name__<span class="token punctuation">,</span> module<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>

<span class="token comment"># import PIL</span>
<span class="token comment"># import IPython</span>
<span class="token comment"># import kerastuner as kt</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="导入文件"><a href="#导入文件" class="headerlink" title="导入文件"></a>导入文件</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> random<span class="token punctuation">,</span> shutil

<span class="token comment">#将 dir 目录下 train 中的各个文件夹中的文件随机移动到 dir 创建的 val 同名目录</span>
<span class="token builtin">dir</span> <span class="token operator">=</span> <span class="token string">r'G:/dataset/rgbdsm/rgdsm/256_256/three grades-newGan/train/61-100'</span>
rate <span class="token operator">=</span> <span class="token number">0.2</span> <span class="token comment">#选取的比例</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>

    trainpath <span class="token operator">=</span> <span class="token builtin">dir</span> <span class="token operator">+</span> <span class="token string">"\\train"</span>
<span class="token comment">#     print(trainpath)</span>
    <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>trainpath<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment">#          print(file)</span>
        filepath <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>trainpath<span class="token punctuation">,</span><span class="token builtin">file</span><span class="token punctuation">)</span>  <span class="token comment">#每个子文件夹</span>
<span class="token comment">#         print("filepath = %s " %  filepath)</span>

        files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>filepath<span class="token punctuation">)</span>         <span class="token comment">#每个子文件夹的所有文件列表</span>
        filelength <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span>
<span class="token comment">#         print("filelength = %d " % filelength)</span>

        picklength <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>filelength <span class="token operator">*</span> rate<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"picklength = %d "</span> <span class="token operator">%</span> picklength<span class="token punctuation">)</span>
        sample <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>files<span class="token punctuation">,</span> picklength<span class="token punctuation">)</span> <span class="token comment">#从每个子文件夹中随机选取</span>
<span class="token comment">#         print("len-sample = %d " % len(sample))</span>

        <span class="token builtin">list</span> <span class="token operator">=</span> filepath<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span>
        testpath <span class="token operator">=</span>  <span class="token builtin">dir</span> <span class="token operator">+</span> <span class="token string">"\\test\\"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#         print("valpath = %s"%valpath)</span>
        isExists <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>testpath<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> isExists<span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>testpath<span class="token punctuation">)</span>

        <span class="token keyword">for</span> name <span class="token keyword">in</span> sample<span class="token punctuation">:</span>
<span class="token comment">#             print("name = %s"%name)</span>
            shutil<span class="token punctuation">.</span>move<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>testpath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="导入文件-1"><a href="#导入文件-1" class="headerlink" title="导入文件"></a>导入文件</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 每个日期的图片都要分20%给验证集 2021-4-20</span>

<span class="token comment"># 1. 把每个分组的不同日期的图片分别归类到每个分组</span>
<span class="token keyword">import</span> os<span class="token punctuation">,</span> random<span class="token punctuation">,</span> shutil

<span class="token builtin">dir</span> <span class="token operator">=</span> <span class="token string">r'G:/dataset/rgbdsm/rgdsm/256_256/three grades-class'</span>

datename <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'20160607'</span><span class="token punctuation">,</span> <span class="token string">'170707'</span><span class="token punctuation">,</span> <span class="token string">'2018.05.14'</span><span class="token punctuation">,</span> <span class="token string">'2018.05.23'</span><span class="token punctuation">,</span> <span class="token string">'2018.05.29'</span><span class="token punctuation">,</span> <span class="token string">'2018.06.08'</span><span class="token punctuation">,</span> <span class="token string">'2018.06.12'</span><span class="token punctuation">,</span>
       <span class="token string">'180625'</span><span class="token punctuation">,</span> <span class="token string">'200528'</span><span class="token punctuation">,</span> <span class="token string">'200603'</span><span class="token punctuation">,</span> <span class="token string">'200612'</span><span class="token punctuation">]</span>

trainpath <span class="token operator">=</span> <span class="token builtin">dir</span> <span class="token operator">+</span> <span class="token string">"\\train"</span>
<span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>trainpath<span class="token punctuation">)</span><span class="token punctuation">:</span>
    filepath <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>trainpath<span class="token punctuation">,</span><span class="token builtin">file</span><span class="token punctuation">)</span>  <span class="token comment">#每个子文件夹</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"filepath = %s "</span> <span class="token operator">%</span>  filepath<span class="token punctuation">)</span>

    files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>filepath<span class="token punctuation">)</span>         <span class="token comment">#每个子文件夹的所有文件列表</span>

    <span class="token keyword">for</span> date <span class="token keyword">in</span> datename<span class="token punctuation">:</span>
        testpath <span class="token operator">=</span>  filepath <span class="token operator">+</span> <span class="token string">"\\"</span> <span class="token operator">+</span> date
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"testpath = %s "</span> <span class="token operator">%</span>  testpath<span class="token punctuation">)</span>
        isExists <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>testpath<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> isExists<span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>testpath<span class="token punctuation">)</span>
    <span class="token comment"># 输出所有文件和文件夹</span>
    <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> files<span class="token punctuation">:</span>
        <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'.jpg'</span><span class="token punctuation">:</span>
            split<span class="token operator">=</span><span class="token builtin">file</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>        <span class="token comment">#截取文件名前十个字符</span>
            <span class="token keyword">for</span> date <span class="token keyword">in</span> datename<span class="token punctuation">:</span>
                <span class="token keyword">if</span> date <span class="token keyword">in</span> split<span class="token punctuation">:</span>
                    shutil<span class="token punctuation">.</span>move<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#                     print(date)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 2. 把训练集每个分组的图片分20%到验证集test文件夹下</span>
<span class="token keyword">import</span> os<span class="token punctuation">,</span> random<span class="token punctuation">,</span> shutil
rate <span class="token operator">=</span> <span class="token number">0.2</span>

<span class="token keyword">for</span> classname <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>trainpath<span class="token punctuation">)</span><span class="token punctuation">:</span>
    filepath <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>trainpath<span class="token punctuation">,</span> classname<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"filepath = %s "</span> <span class="token operator">%</span>  filepath<span class="token punctuation">)</span>
    <span class="token keyword">for</span> datename <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">:</span>
        datepath <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span>datename<span class="token punctuation">)</span>  <span class="token comment">#每个子文件夹</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"datepath = %s "</span> <span class="token operator">%</span>  datepath<span class="token punctuation">)</span>

        files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>datepath<span class="token punctuation">)</span>         <span class="token comment">#每个子文件夹的所有文件列表</span>
        filelength <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"filelength = %d "</span> <span class="token operator">%</span> filelength<span class="token punctuation">)</span>

        picklength <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>filelength <span class="token operator">*</span> rate<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"picklength = %d "</span> <span class="token operator">%</span> picklength<span class="token punctuation">)</span>
        sample <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>files<span class="token punctuation">,</span> picklength<span class="token punctuation">)</span> <span class="token comment">#从每个子文件夹中随机选取</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"len-sample = %d "</span> <span class="token operator">%</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sample<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token builtin">list</span> <span class="token operator">=</span> filepath<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span>
        testpath <span class="token operator">=</span>  <span class="token builtin">dir</span> <span class="token operator">+</span> <span class="token string">"\\test\\"</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"testpath = %s"</span><span class="token operator">%</span>testpath<span class="token punctuation">)</span>
        isExists <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>testpath<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> isExists<span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>testpath<span class="token punctuation">)</span>

        <span class="token keyword">for</span> name <span class="token keyword">in</span> sample<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"originpath = %s"</span><span class="token operator">%</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>datepath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"afterpath = %s"</span><span class="token operator">%</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>testpath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span>
            shutil<span class="token punctuation">.</span>move<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>datepath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>testpath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 3. 把训练集每个分组的图片提取出来，并删除文件夹</span>
<span class="token keyword">for</span> classname <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>trainpath<span class="token punctuation">)</span><span class="token punctuation">:</span>
    filepath <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>trainpath<span class="token punctuation">,</span> classname<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"filepath = %s "</span> <span class="token operator">%</span>  filepath<span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> datename <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">:</span>
        datepath <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span>datename<span class="token punctuation">)</span>  <span class="token comment">#每个子文件夹</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"datepath = %s "</span> <span class="token operator">%</span>  datepath<span class="token punctuation">)</span>

        files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>datepath<span class="token punctuation">)</span>         <span class="token comment">#每个子文件夹的所有文件列表</span>
        filelength <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"filelength = %d "</span> <span class="token operator">%</span> filelength<span class="token punctuation">)</span>

        <span class="token keyword">for</span> name <span class="token keyword">in</span> files<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"originpath = %s"</span><span class="token operator">%</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>datepath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"afterpath = %s"</span><span class="token operator">%</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span>
            shutil<span class="token punctuation">.</span>move<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>datepath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>datepath<span class="token punctuation">)</span><span class="token punctuation">:</span>
            os<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span>datepath<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>AI</category>
      </categories>
      <tags>
        <tag>share</tag>
      </tags>
  </entry>
  <entry>
    <title>图像识别分类 代码</title>
    <url>/2021/04/15/Machine-Learning-Share/</url>
    <content><![CDATA[<p>打算做一套图像识别都适用的代码，放在博客方便copy</p>
<span id="more"></span>

<h3 id="导包"><a href="#导包" class="headerlink" title="导包"></a>导包</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> matplotlib <span class="token keyword">as</span> mpl
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> os
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> sklearn
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
<span class="token keyword">import</span> time

<span class="token keyword">from</span> tensorflow <span class="token keyword">import</span> keras

<span class="token keyword">print</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>version_info<span class="token punctuation">)</span>
<span class="token keyword">for</span> module <span class="token keyword">in</span> mpl<span class="token punctuation">,</span> np<span class="token punctuation">,</span> pd<span class="token punctuation">,</span> sklearn<span class="token punctuation">,</span> tf<span class="token punctuation">,</span> keras<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>__name__<span class="token punctuation">,</span> module<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>

<span class="token comment"># import PIL</span>
<span class="token comment"># import IPython</span>
<span class="token comment"># import kerastuner as kt</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="导入文件"><a href="#导入文件" class="headerlink" title="导入文件"></a>导入文件</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">train_dir <span class="token operator">=</span> <span class="token string">"G:/dataset/rgbdsm/rgdsm/256_256/three grades-newGan/train"</span>
test_dir <span class="token operator">=</span> <span class="token string">"G:/dataset/rgbdsm/rgdsm/256_256/three grades-Gan/val"</span>
val_dir <span class="token operator">=</span> <span class="token string">"G:/dataset/rgbdsm/rgdsm/256_256/three grades-newGan/test"</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>train_dir<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>test_dir<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>val_dir<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>train_dir<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>test_dir<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>val_dir<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="设置参数"><a href="#设置参数" class="headerlink" title="设置参数"></a>设置参数</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">width <span class="token operator">=</span> <span class="token number">256</span>
height <span class="token operator">=</span> <span class="token number">256</span>
channels <span class="token operator">=</span> <span class="token number">3</span>

epochs <span class="token operator">=</span> <span class="token number">40</span>
num_classes <span class="token operator">=</span> <span class="token number">3</span>
batch_size <span class="token operator">=</span> <span class="token number">32</span>

save_path <span class="token operator">=</span> <span class="token string">'./save_weights/3_&#123;epoch:02d&#125;-&#123;val_accuracy:.2f&#125;.h5'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="数据增强"><a href="#数据增强" class="headerlink" title="数据增强"></a>数据增强</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">train_datagen <span class="token operator">=</span> keras<span class="token punctuation">.</span>preprocessing<span class="token punctuation">.</span>image<span class="token punctuation">.</span>ImageDataGenerator<span class="token punctuation">(</span>
<span class="token comment">#     rescale=1./255,</span>
<span class="token comment">#     preprocessing_function=keras.applications.efficientnet.preprocess_input,</span>
    preprocessing_function<span class="token operator">=</span>keras<span class="token punctuation">.</span>applications<span class="token punctuation">.</span>densenet<span class="token punctuation">.</span>preprocess_input<span class="token punctuation">,</span>
<span class="token comment">#     rotation_range=3,</span>
<span class="token comment">#      width_shift_range=0.02,</span>
<span class="token comment">#      height_shift_range=0.02,</span>
<span class="token comment">#     zoom_range=0.1,</span>
<span class="token comment">#     horizontal_flip=True,</span>
<span class="token comment">#     vertical_flip=True,</span>
<span class="token comment">#     brightness_range = (0.95, 1.05),</span>
<span class="token comment">#     fill_mode='nearest',</span>
<span class="token comment">#     validation_split=0.2</span>
<span class="token punctuation">)</span>
train_generator <span class="token operator">=</span> train_datagen<span class="token punctuation">.</span>flow_from_directory<span class="token punctuation">(</span>train_dir<span class="token punctuation">,</span>
                                                    target_size<span class="token operator">=</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">,</span>
                                                    batch_size<span class="token operator">=</span> batch_size<span class="token punctuation">,</span>
                                                    seed<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>
                                                    shuffle<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
                                                    color_mode<span class="token operator">=</span><span class="token string">"rgb"</span><span class="token punctuation">,</span>
<span class="token comment">#                                                     subset="training",</span>
                                                    class_mode<span class="token operator">=</span><span class="token string">"categorical"</span><span class="token punctuation">)</span>
val_datagen <span class="token operator">=</span> keras<span class="token punctuation">.</span>preprocessing<span class="token punctuation">.</span>image<span class="token punctuation">.</span>ImageDataGenerator<span class="token punctuation">(</span>
<span class="token comment">#     rescale=1./255,</span>
    preprocessing_function<span class="token operator">=</span>keras<span class="token punctuation">.</span>applications<span class="token punctuation">.</span>densenet<span class="token punctuation">.</span>preprocess_input<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
val_generator <span class="token operator">=</span> val_datagen<span class="token punctuation">.</span>flow_from_directory<span class="token punctuation">(</span>val_dir<span class="token punctuation">,</span>
                                                  target_size<span class="token operator">=</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">,</span>
                                                  batch_size<span class="token operator">=</span>batch_size<span class="token punctuation">,</span>
                                                  seed<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>
                                                  shuffle<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
                                                  color_mode<span class="token operator">=</span><span class="token string">"rgb"</span><span class="token punctuation">,</span>
<span class="token comment">#                                                   subset="validation",</span>
                                                  class_mode<span class="token operator">=</span><span class="token string">"categorical"</span><span class="token punctuation">)</span>
test_datagen <span class="token operator">=</span> keras<span class="token punctuation">.</span>preprocessing<span class="token punctuation">.</span>image<span class="token punctuation">.</span>ImageDataGenerator<span class="token punctuation">(</span>
<span class="token comment">#     rescale=1./255,</span>
    preprocessing_function<span class="token operator">=</span>keras<span class="token punctuation">.</span>applications<span class="token punctuation">.</span>densenet<span class="token punctuation">.</span>preprocess_input<span class="token punctuation">,</span>
<span class="token punctuation">)</span>
test_generator <span class="token operator">=</span> test_datagen<span class="token punctuation">.</span>flow_from_directory<span class="token punctuation">(</span>test_dir<span class="token punctuation">,</span>
                                                  target_size<span class="token operator">=</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">,</span>
                                                  batch_size<span class="token operator">=</span>batch_size<span class="token punctuation">,</span>
                                                  seed<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>
                                                  shuffle<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
                                                  color_mode<span class="token operator">=</span><span class="token string">"rgb"</span><span class="token punctuation">,</span>
<span class="token comment">#                                                   subset="validation",</span>
                                                  class_mode<span class="token operator">=</span><span class="token string">"categorical"</span><span class="token punctuation">)</span>
train_num <span class="token operator">=</span> train_generator<span class="token punctuation">.</span>samples
val_num <span class="token operator">=</span> val_generator<span class="token punctuation">.</span>samples
test_num <span class="token operator">=</span> test_generator<span class="token punctuation">.</span>samples

<span class="token keyword">print</span><span class="token punctuation">(</span>train_num<span class="token punctuation">,</span> val_num<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>train_generator<span class="token punctuation">.</span>class_indices<span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x<span class="token punctuation">,</span> y <span class="token operator">=</span> train_generator<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>shape<span class="token punctuation">,</span> y<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token comment">#     print(y)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="展示图片"><a href="#展示图片" class="headerlink" title="展示图片"></a>展示图片</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">class_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'0-30'</span><span class="token punctuation">,</span> <span class="token string">'31-60'</span><span class="token punctuation">,</span> <span class="token string">'61-100'</span><span class="token punctuation">]</span>

plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x <span class="token operator">=</span> <span class="token number">1</span>
    plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>train_generator<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span>plt<span class="token punctuation">.</span>cm<span class="token punctuation">.</span>binary<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span>class_names<span class="token punctuation">[</span>np<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>train_generator<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="多分类平衡数据"><a href="#多分类平衡数据" class="headerlink" title="多分类平衡数据"></a>多分类平衡数据</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">filenames <span class="token operator">=</span> tf<span class="token punctuation">.</span>io<span class="token punctuation">.</span>gfile<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>train_dir <span class="token operator">+</span> <span class="token string">'/*/*'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

COUNT_1 <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>filename <span class="token keyword">for</span> filename <span class="token keyword">in</span> filenames <span class="token keyword">if</span> <span class="token string">"0-30"</span> <span class="token keyword">in</span> filename<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"0-30 images count in training set: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>COUNT_1<span class="token punctuation">)</span><span class="token punctuation">)</span>

COUNT_2 <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>filename <span class="token keyword">for</span> filename <span class="token keyword">in</span> filenames <span class="token keyword">if</span> <span class="token string">"31-60"</span> <span class="token keyword">in</span> filename<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"31-60 images count in training set: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>COUNT_2<span class="token punctuation">)</span><span class="token punctuation">)</span>

COUNT_3 <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>filename <span class="token keyword">for</span> filename <span class="token keyword">in</span> filenames <span class="token keyword">if</span> <span class="token string">"61-100"</span> <span class="token keyword">in</span> filename<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"61-100 images count in training set: "</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>COUNT_3<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 平衡数据集</span>
weight_for_0 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> COUNT_1<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>train_num<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3.0</span>
weight_for_1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> COUNT_2<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>train_num<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3.0</span>
weight_for_2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> COUNT_3<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>train_num<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3.0</span>

class_weight <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">:</span> weight_for_0<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> weight_for_1<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> weight_for_2<span class="token punctuation">&#125;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Weight for class 0: &#123;:.2f&#125;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>weight_for_0<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Weight for class 1: &#123;:.2f&#125;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>weight_for_1<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Weight for class 2: &#123;:.2f&#125;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>weight_for_2<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> keras<span class="token punctuation">.</span>callbacks <span class="token keyword">import</span> ReduceLROnPlateau
<span class="token keyword">from</span> keras<span class="token punctuation">.</span>callbacks <span class="token keyword">import</span> ModelCheckpoint<span class="token punctuation">,</span> LearningRateScheduler
<span class="token keyword">from</span> keras<span class="token punctuation">.</span>callbacks <span class="token keyword">import</span> TensorBoard

lr_callback <span class="token operator">=</span> ReduceLROnPlateau<span class="token punctuation">(</span>monitor<span class="token operator">=</span><span class="token string">'val_loss'</span><span class="token punctuation">,</span>
                                patience<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>
                                verbose<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
                                factor<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span>
                                min_lr<span class="token operator">=</span><span class="token number">0.000001</span><span class="token punctuation">)</span>
<span class="token comment"># 设置模型保存路径，且根据val_acc保存最优模型</span>
checkpoint <span class="token operator">=</span> ModelCheckpoint<span class="token punctuation">(</span>filepath<span class="token operator">=</span>save_path<span class="token punctuation">,</span>
                                monitor<span class="token operator">=</span><span class="token string">'val_accuracy'</span><span class="token punctuation">,</span>
                                save_weights_only<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
                                save_best_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
                                mode<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span>
                                period<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
tbCallBack <span class="token operator">=</span> TensorBoard<span class="token punctuation">(</span>log_dir<span class="token operator">=</span><span class="token string">'g:/logs'</span><span class="token punctuation">)</span>
callbacks <span class="token operator">=</span> <span class="token punctuation">[</span>lr_callback
             checkpoint<span class="token punctuation">,</span>
<span class="token comment">#              tbCallBack</span>
            <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="构建模型"><a href="#构建模型" class="headerlink" title="构建模型"></a>构建模型</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># def create_model(hp):</span>
<span class="token keyword">def</span> <span class="token function">create_model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    pretrained_model <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>applications<span class="token punctuation">.</span>DenseNet201<span class="token punctuation">(</span>weights<span class="token operator">=</span><span class="token string">'imagenet'</span><span class="token punctuation">,</span>
                                                            input_shape<span class="token operator">=</span><span class="token punctuation">[</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> channels<span class="token punctuation">]</span><span class="token punctuation">,</span>
                                                            include_top<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    pretrained_model<span class="token punctuation">.</span>trainable <span class="token operator">=</span> <span class="token boolean">True</span>

<span class="token comment">#     hp_units = hp.Int('units', min_value = 32, max_value = 512, step = 32)</span>
    model <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token comment">#         tf.keras.layers.InputLayer(input_shape=[width, height, channels]),</span>
        pretrained_model<span class="token punctuation">,</span>
<span class="token comment">#         tf.keras.layers.Conv2D(filters=32, kernel_size=3, padding='same',</span>
<span class="token comment">#                               activation='relu'),</span>
<span class="token comment">#         tf.keras.layers.Conv2D(filters=32, kernel_size=3, padding='same',</span>
<span class="token comment">#                               activation='relu'),</span>
<span class="token comment">#         tf.keras.layers.MaxPool2D(pool_size=2),</span>
<span class="token comment">#         tf.keras.layers.Conv2D(filters=64, kernel_size=3, padding='same',</span>
<span class="token comment">#                               activation='relu'),</span>
<span class="token comment">#         tf.keras.layers.Conv2D(filters=64, kernel_size=3, padding='same',</span>
<span class="token comment">#                               activation='relu'),</span>
<span class="token comment">#         tf.keras.layers.MaxPool2D(pool_size=2),</span>
<span class="token comment">#         tf.keras.layers.Conv2D(filters=128, kernel_size=3, padding='same',</span>
<span class="token comment">#                               activation='relu'),</span>
<span class="token comment">#         tf.keras.layers.Conv2D(filters=128, kernel_size=3, padding='same',</span>
<span class="token comment">#                               activation='relu'),</span>
<span class="token comment">#         tf.keras.layers.MaxPool2D(pool_size=2),</span>
<span class="token comment">#         tf.keras.layers.BatchNormalization(),</span>
<span class="token comment">#         tf.keras.layers.Dropout(0.5),</span>
        tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>GlobalAveragePooling2D<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Dense<span class="token punctuation">(</span>units <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">,</span> activation <span class="token operator">=</span> <span class="token string">'relu'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">#         tf.keras.layers.Dense(units = 256, activation = 'relu'),</span>
        tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Dropout<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Dense<span class="token punctuation">(</span>num_classes<span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">'softmax'</span><span class="token punctuation">,</span>
<span class="token comment">#                               kernel_regularizer='l2'</span>
                             <span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">#     hp_learning_rate = hp.Choice('learning_rate', values = [1e-2, 1e-3, 1e-4])</span>
    model<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>
        optimizer <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>optimizers<span class="token punctuation">.</span>Adam<span class="token punctuation">(</span>learning_rate<span class="token operator">=</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">#         optimizer=tf.keras.optimizers.Adam(lr=lr_schedule(0)),</span>
<span class="token comment">#         optimizer='sgd',</span>
<span class="token comment">#         optimizer='adam',</span>
        loss<span class="token operator">=</span><span class="token string">'categorical_crossentropy'</span><span class="token punctuation">,</span>
        metrics<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'accuracy'</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span>

    <span class="token keyword">return</span> model<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="训练模型"><a href="#训练模型" class="headerlink" title="训练模型"></a>训练模型</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">model <span class="token operator">=</span> create_model<span class="token punctuation">(</span><span class="token punctuation">)</span>
model<span class="token punctuation">.</span>summary<span class="token punctuation">(</span><span class="token punctuation">)</span>
history1 <span class="token operator">=</span> model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>train_generator<span class="token punctuation">,</span>
                     steps_per_epoch<span class="token operator">=</span>train_num <span class="token operator">//</span> batch_size<span class="token punctuation">,</span>
                     validation_data<span class="token operator">=</span>val_generator<span class="token punctuation">,</span>
                     validation_steps<span class="token operator">=</span>val_num <span class="token operator">//</span> batch_size<span class="token punctuation">,</span>
                     epochs<span class="token operator">=</span>epochs<span class="token punctuation">,</span>
                     verbose<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
<span class="token comment">#                      class_weight=class_weight,</span>
                     callbacks<span class="token operator">=</span>callbacks
                    <span class="token punctuation">)</span>
<span class="token comment"># 终端 tensorboard --logdir=g:/logs</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="绘制曲线"><a href="#绘制曲线" class="headerlink" title="绘制曲线"></a>绘制曲线</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">display_training_curves</span><span class="token punctuation">(</span>training<span class="token punctuation">,</span> validation<span class="token punctuation">,</span> title<span class="token punctuation">,</span> subplot<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> subplot <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># set up the subplots on the first call</span>
        plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> facecolor<span class="token operator">=</span><span class="token string">'#F0F0F0'</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span>subplot<span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_facecolor<span class="token punctuation">(</span><span class="token string">'#F8F8F8'</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>training<span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>validation<span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'model '</span> <span class="token operator">+</span> title<span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span>title<span class="token punctuation">)</span>
    <span class="token comment"># ax.set_ylim(0.28,1.05)</span>
    ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'epoch'</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'train'</span><span class="token punctuation">,</span> <span class="token string">'valid.'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

final_accuracy <span class="token operator">=</span> history1<span class="token punctuation">.</span>history<span class="token punctuation">[</span><span class="token string">"val_accuracy"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"FINAL ACCURACY MEAN-5: "</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>final_accuracy<span class="token punctuation">)</span><span class="token punctuation">)</span>
display_training_curves<span class="token punctuation">(</span>history1<span class="token punctuation">.</span>history<span class="token punctuation">[</span><span class="token string">'accuracy'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> history1<span class="token punctuation">.</span>history<span class="token punctuation">[</span><span class="token string">'val_accuracy'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'accuracy'</span><span class="token punctuation">,</span> <span class="token number">211</span><span class="token punctuation">)</span>
display_training_curves<span class="token punctuation">(</span>history1<span class="token punctuation">.</span>history<span class="token punctuation">[</span><span class="token string">'loss'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> history1<span class="token punctuation">.</span>history<span class="token punctuation">[</span><span class="token string">'val_loss'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'loss'</span><span class="token punctuation">,</span> <span class="token number">212</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="评估模型"><a href="#评估模型" class="headerlink" title="评估模型"></a>评估模型</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># file_path = './save_weights/3_17-0.84.h5'</span>
<span class="token comment"># model.load_weights(file_path)</span>

val_loss<span class="token punctuation">,</span> val_acc <span class="token operator">=</span> model<span class="token punctuation">.</span>evaluate<span class="token punctuation">(</span>test_generator<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\nTest accuracy:'</span><span class="token punctuation">,</span> val_acc<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\nTest loss:'</span><span class="token punctuation">,</span> val_loss<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="绘制混淆矩阵"><a href="#绘制混淆矩阵" class="headerlink" title="绘制混淆矩阵"></a>绘制混淆矩阵</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> confusion_matrix
<span class="token keyword">import</span> itertools
<span class="token keyword">def</span> <span class="token function">plot_confusion_matrix</span><span class="token punctuation">(</span>cm<span class="token punctuation">,</span> target_names<span class="token punctuation">,</span>title<span class="token operator">=</span><span class="token string">'Confusion matrix'</span><span class="token punctuation">,</span>cmap<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>normalize<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    accuracy <span class="token operator">=</span> np<span class="token punctuation">.</span>trace<span class="token punctuation">(</span>cm<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">float</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>cm<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#计算准确率</span>
    misclass <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> accuracy <span class="token comment">#计算错误率</span>
    <span class="token keyword">if</span> cmap <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        cmap <span class="token operator">=</span> plt<span class="token punctuation">.</span>get_cmap<span class="token punctuation">(</span><span class="token string">'Blues'</span><span class="token punctuation">)</span> <span class="token comment">#颜色设置成蓝色</span>
    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#设置窗口尺寸</span>
    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>cm<span class="token punctuation">,</span> interpolation<span class="token operator">=</span><span class="token string">'nearest'</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">)</span> <span class="token comment">#显示图片</span>
    plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token comment">#显示标题</span>
    plt<span class="token punctuation">.</span>colorbar<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#绘制颜色条</span>

    <span class="token keyword">if</span> target_names <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        tick_marks <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>target_names<span class="token punctuation">)</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>tick_marks<span class="token punctuation">,</span> target_names<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span> <span class="token comment">#x坐标标签旋转45度</span>
        plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span>tick_marks<span class="token punctuation">,</span> target_names<span class="token punctuation">)</span> <span class="token comment">#y坐标</span>

    <span class="token keyword">if</span> normalize<span class="token punctuation">:</span>
        cm <span class="token operator">=</span> cm<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">'float32'</span><span class="token punctuation">)</span> <span class="token operator">/</span> cm<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        cm <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span>cm<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#对数字保留两位小数</span>


    thresh <span class="token operator">=</span> cm<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1.5</span> <span class="token keyword">if</span> normalize <span class="token keyword">else</span> cm<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> j <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>product<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>cm<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span>cm<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#将cm.shape[0]、cm.shape[1]中的元素组成元组，遍历元组中每一个数字</span>
        <span class="token keyword">if</span> normalize<span class="token punctuation">:</span> <span class="token comment">#标准化</span>
            plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>j<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">"&#123;:0.2f&#125;"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>cm<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">#保留两位小数</span>
                     horizontalalignment<span class="token operator">=</span><span class="token string">"center"</span><span class="token punctuation">,</span>  <span class="token comment">#数字在方框中间</span>
                     color<span class="token operator">=</span><span class="token string">"white"</span> <span class="token keyword">if</span> cm<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">></span> thresh <span class="token keyword">else</span> <span class="token string">"black"</span><span class="token punctuation">)</span>  <span class="token comment">#设置字体颜色</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment">#非标准化</span>
            plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>j<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">"&#123;:,&#125;"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>cm<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                     horizontalalignment<span class="token operator">=</span><span class="token string">"center"</span><span class="token punctuation">,</span>  <span class="token comment">#数字在方框中间</span>
                     color<span class="token operator">=</span><span class="token string">"white"</span> <span class="token keyword">if</span> cm<span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">></span> thresh <span class="token keyword">else</span> <span class="token string">"black"</span><span class="token punctuation">)</span> <span class="token comment">#设置字体颜色</span>

    plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#自动调整子图参数,使之填充整个图像区域</span>
    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'True label'</span><span class="token punctuation">)</span> <span class="token comment">#y方向上的标签</span>
    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"Predicted label\naccuracy=&#123;:0.4f&#125;\n misclass=&#123;:0.4f&#125;"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>accuracy<span class="token punctuation">,</span> misclass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#x方向上的标签</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#显示图片</span>

labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'0-30'</span><span class="token punctuation">,</span> <span class="token string">'31-60'</span><span class="token punctuation">,</span> <span class="token string">'60-100'</span><span class="token punctuation">]</span>

<span class="token comment"># 预测验证集数据整体准确率</span>
Y_pred <span class="token operator">=</span> model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>test_generator<span class="token punctuation">,</span> test_num <span class="token operator">//</span> batch_size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 将预测的结果转化为one hit向量</span>
Y_pred_classes <span class="token operator">=</span> np<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>Y_pred<span class="token punctuation">,</span> axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 计算混淆矩阵</span>
confusion_mtx <span class="token operator">=</span> confusion_matrix<span class="token punctuation">(</span>y_true <span class="token operator">=</span> test_generator<span class="token punctuation">.</span>classes<span class="token punctuation">,</span>y_pred <span class="token operator">=</span> Y_pred_classes<span class="token punctuation">)</span>
<span class="token comment"># 绘制混淆矩阵</span>
plot_confusion_matrix<span class="token punctuation">(</span>confusion_mtx<span class="token punctuation">,</span> normalize<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> target_names<span class="token operator">=</span>labels<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>AI</category>
      </categories>
      <tags>
        <tag>share</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo使用Next主题</title>
    <url>/2021/04/14/Use%20Hexo%20With%20Next%20Share/</url>
    <content><![CDATA[<p>这是搭建Hexo和使用Next主题所参考的链接，有兴趣可参考</p>
<span id="more"></span>

<h3 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h3><p><span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3Mv">Hexo 简介<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="Next主题"><a href="#Next主题" class="headerlink" title="Next主题"></a>Next主题</h3><p><span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20vZ2V0dGluZy1zdGFydGVkLmh0bWw=">Next 使用文档<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL25leHQtdGhlbWUvaGV4by10aGVtZS1uZXh0">Next 进阶操作<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9kb2NzL3RoaXJkLXBhcnR5LXNlcnZpY2VzLw==">Next 进阶操作(推荐)<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="LeanCloud"><a href="#LeanCloud" class="headerlink" title="LeanCloud"></a>LeanCloud</h3><p><span class="exturl" data-url="aHR0cHM6Ly9jb25zb2xlLmxlYW5jbG91ZC5jbi9hcHBz">LeanCloud 官网<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvaGV4by10aGVtZS1uZXh0L2Jsb2IvbWFzdGVyL2RvY3MvemgtQ04vTEVBTkNMT1VELUNPVU5URVItU0VDVVJJVFkubWQ=">修复 LeanCloud 统计插件安全漏洞<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h3><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzI2NzU5ODUxOA==">Hexo（NexT 主题）评论系统哪个好？<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly92YWxpbmUuanMub3JnLyMv">Valine 推荐<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="Mermaid"><a href="#Mermaid" class="headerlink" title="Mermaid"></a>Mermaid</h3><p>Mermaid是一个基于Javascript的图表绘制工具，它使用Markdown启发的文本定义以及渲染器来创建和修改复杂的图表。Mermaid的主要目的是帮助文档赶上开发。</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21lcm1haWQtanMvbWVybWFpZA==">Mermaid github<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9kb2NzL3RhZy1wbHVnaW5zL21lcm1haWQuaHRtbA==">Mermaid 使用文档<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9tZXJtYWlkLWpzLmdpdGh1Yi5pby9tZXJtYWlkLWxpdmUtZWRpdG9yLyMvZWRpdC9leUpqYjJSbElqb2laM0poY0dnZ1ZFUmNiaUFnSUNCQlcwaGhjbVJkSUMwdFBueFVaWGgwZkNCQ0tGSnZkVzVrS1Z4dUlDQWdJRUlnTFMwLUlFTjdSR1ZqYVhOcGIyNTlYRzRnSUNBZ1F5QXRMVDU4VDI1bGZDQkVXMUpsYzNWc2RDQXhYVnh1SUNBZ0lFTWdMUzAtZkZSM2Izd2dSVnRTWlhOMWJIUWdNbDBpTENKdFpYSnRZV2xrSWpwN0luUm9aVzFsSWpvaVpHVm1ZWFZzZENKOUxDSjFjR1JoZEdWRlpHbDBiM0lpT21aaGJITmxmUQ==">Mermaid 在线编辑<i class="fa fa-external-link-alt"></i></span></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>share</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS基础</title>
    <url>/2022/06/20/CSS/</url>
    <content><![CDATA[<p>介绍目前常见前端面试题，参考链接 <span class="exturl" data-url="aHR0cHM6Ly9pbnRlcnZpZXcyLnBvZXRyaWVzLnRvcC8=">https://interview2.poetries.top/<i class="fa fa-external-link-alt"></i></span></p>
<span id="more"></span>



<h2 id="CSS基础"><a href="#CSS基础" class="headerlink" title="CSS基础"></a>CSS基础</h2><h3 id="❤盒模型"><a href="#❤盒模型" class="headerlink" title="❤盒模型"></a>❤盒模型</h3><blockquote>
<p>content（元素内容） + padding（内边距） + border（边框） + margin（外边距）</p>
</blockquote>
<p>延伸：<code>box-sizing</code></p>
<ul>
<li><code>content-box</code>：默认值，总宽度 = <code>margin</code> + <code>border</code> + <code>padding</code> + <code>width</code></li>
<li><code>border-box</code>：盒子宽度包含 <code>padding</code> 和 <code>border</code>，<code>总宽度 = margin + width</code></li>
<li><code>inherit</code>：从父元素继承 <code>box-sizing</code> 属性</li>
</ul>
<blockquote>
<ul>
<li>有两种， <code>IE</code>盒子模型、<code>W3C</code>盒子模型；</li>
<li>盒模型： 内容(content)、填充(<code>padding</code>)、边界(<code>margin</code>)、 边框(<code>border</code>)；</li>
<li>区 别： <code>IE</code>的c<code>ontent</code>部分把 <code>border</code> 和 <code>padding</code>计算了进去;</li>
</ul>
</blockquote>
<ul>
<li><code>IE8</code>及其以下版本浏览器，未声明 <code>DOCTYPE</code>，内容宽高会包含内填充和边框，称为怪异盒模型(<code>IE</code>盒模型)</li>
<li>标准(<code>W3C</code>)盒模型：元素宽度 = <code>width + padding + border + margin</code></li>
<li>怪异(<code>IE</code>)盒模型：元素宽度 = <code>width + margin</code></li>
<li>标准浏览器通过设置 css3 的 <code>box-sizing: border-box</code> 属性，触发“怪异模式”解析计算宽高</li>
</ul>
<p><strong>box-sizing 常用的属性有哪些？分别有什么作用</strong></p>
<ul>
<li><code>box-sizing: content-box;</code> 默认的标准(W3C)盒模型元素效果</li>
<li><code>box-sizing: border-box;</code> 触发怪异(IE)盒模型元素的效果</li>
<li><code>box-sizing: inherit;</code> 继承父元素 <code>box-sizing</code> 属性的值</li>
</ul>
<ul>
<li><strong>得分点</strong> 标准盒模型、怪异盒模型、<code>box-sizing:border-box</code>、盒模型大小</li>
<li><strong>标准回答</strong> CSS盒模型定义了盒的每个部分包含 margin, border, padding, content 。<ul>
<li>根据盒子大小的计算方式不同盒模型分成了两种，标准盒模型和怪异盒模型。<ul>
<li><strong>标准模型</strong>，给盒设置 <code>width</code> 和 <code>height</code>，实际设置的是 content box。<code>padding</code> 和 <code>border </code>再加上设置的宽高一起决定整个盒子的大小。</li>
<li><strong>怪异盒模型</strong>，给盒设置 <code>width</code> 和 <code>height</code>，包含了<code>padding</code>和<code>border </code>，设置的 <code>width</code> 和 <code>height</code>就是盒子实际的大小 默认情况下，盒模型都是标准盒模型<ul>
<li>设置标准盒模型：<code>box-sizing:content-box</code></li>
<li>设置怪异盒模型：<code>box-sizing:border-box</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="❤块级格式化上下文-BFC-block-formatting-context"><a href="#❤块级格式化上下文-BFC-block-formatting-context" class="headerlink" title="❤块级格式化上下文(BFC, block formatting context)"></a>❤块级格式化上下文(BFC, block formatting context)</h3><blockquote>
<p>BFC(Block Formatting Context)，块级格式化上下文，是一个独立的渲染区域，让处于 BFC 内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响</p>
</blockquote>
<p><strong>触发条件 (以下任意一条)</strong></p>
<ul>
<li><code>float</code>的值不为<code>none</code></li>
<li><code>overflow</code>的值不为<code>visible</code>，为<code>absolute/fixed</code>之一</li>
<li><code>display</code>的值为<code>table-cell</code>、<code>tabble-caption</code>和<code>inline-block</code>之一</li>
<li><code>position</code>的值不为<code>static</code>或则<code>releative</code>中的任何一个</li>
</ul>
<blockquote>
<p>在<code>IE</code>下, <code>Layout</code>,可通过<code>zoom:1</code> 触发</p>
</blockquote>
<p><strong>BFC布局与普通文档流布局区别 普通文档流布局:</strong></p>
<ul>
<li>浮动的元素是不会被父级计算高度</li>
<li>非浮动元素会覆盖浮动元素的位置</li>
<li><code>margin</code>会传递给父级元素</li>
<li>两个相邻元素上下的<code>margin</code>会重叠</li>
</ul>
<p><strong>BFC布局规则:</strong></p>
<ul>
<li>浮动的元素会被父级计算高度(父级元素触发了<code>BFC</code>)</li>
<li>非浮动元素不会覆盖浮动元素的位置(非浮动元素触发了<code>BFC</code>)</li>
<li><code>margin</code>不会传递给父级(父级触发<code>BFC</code>)</li>
<li>属于同一个<code>BFC</code>的两个相邻元素上下<code>margin</code>会重叠</li>
</ul>
<p><strong>开发中的应用</strong></p>
<ul>
<li>阻止<code>margin</code>重叠</li>
<li>可以包含浮动元素 —— 清除内部浮动(清除浮动的原理是两个 <code>div</code>都位于同一个 <code>BFC</code> 区域之中)</li>
<li>自适应两栏布局</li>
<li>可以阻止元素被浮动元素覆盖</li>
</ul>
<ul>
<li><strong>得分点：</strong> 块级格式化上下文、独立的渲染区域、不会影响边界以外的元素、形成BFC条件、float、position、overflow、display</li>
<li><strong>标准回答：</strong> BFC(Block Formatting Context)块级格式化上下文，是Web页面一块独立的渲染区域，内部元素的渲染不会影响边界以外的元素。<ul>
<li><strong>BFC布局规则</strong><ul>
<li>内部盒子会在垂直方向，一个接一个地放置。</li>
<li>Box垂直方向的距离由margin决定。属于同一个BFC的两个相邻Box的margin会发生重叠。</li>
<li>每个盒子（块盒与行盒）的margin box的左边，与包含块border box的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此。</li>
<li>BFC的区域不会与float box重叠。</li>
<li>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。</li>
<li>计算BFC的高度时，浮动元素也参与计算。</li>
</ul>
</li>
<li><strong>BFC形成的条件</strong><ul>
<li><code>float </code>设置成 <code>left </code>或 <code>right</code></li>
<li><code>position </code>是<code>absolute</code>或者<code>fixed</code></li>
<li><code>overflow </code>不是<code>visible</code>，为 <code>auto</code>、<code>scroll</code>、<code>hidden</code> -<code>display</code>是<code>flex</code>或者<code>inline-block</code> 等</li>
</ul>
</li>
<li>BFC解决能的问题：清除浮动</li>
</ul>
</li>
<li><strong>加分回答：</strong> BFC的方式都能清除浮动，但是常使用的清除浮动的BFC方式只有<code>overflow:hidden</code>,原因是使用float或者position方式清除浮动，虽然父级盒子内部浮动被清除了，但是父级本身又脱离文档流了，会对父级后面的兄弟盒子的布局造成影响。如果设置父级为<code>display:flex</code>，内部的浮动就会失效。所以通常只是用<code>overflow: hidden</code>清除浮动。<ul>
<li>IFC（Inline formatting contexts）：内联格式上下文。IFC的高度由其包含行内元素中最高的实际高度计算而来（不受到竖直方向的padding/margin影响)，IFC中的line box一般左右都贴紧整个IFC，但是会因为float元素而扰乱。</li>
<li>GFC（GrideLayout formatting contexts）：网格布局格式化上下文。当为一个元素设置display值为grid的时候，此元素将会获得一个独立的渲染区域。</li>
<li>FFC（Flex formatting contexts）：自适应格式上下文。display值为flex或者inline-flex的元素将会生成自适应容器。</li>
</ul>
</li>
</ul>
<h3 id="❤层叠上下文"><a href="#❤层叠上下文" class="headerlink" title="❤层叠上下文"></a>❤层叠上下文</h3><blockquote>
<p>元素提升为一个比较特殊的图层，在三维空间中 (z轴) 高出普通元素一等。</p>
</blockquote>
<p><strong>触发条件</strong></p>
<ul>
<li>根层叠上下文(<code>html</code>)</li>
<li><code>position</code></li>
<li><code>css3</code>属性<ul>
<li><code>flex</code></li>
<li><code>transform</code></li>
<li><code>opacity</code></li>
<li><code>filter</code></li>
<li><code>will-change</code></li>
<li><code>webkit-overflow-scrolling</code></li>
</ul>
</li>
</ul>
<p><strong>层叠等级：层叠上下文在z轴上的排序</strong></p>
<ul>
<li>在同一层叠上下文中，层叠等级才有意义</li>
<li><code>z-index</code>的优先级最高</li>
</ul>
<p><img data-src="https://s.poetries.work/gitee/2020/09/111.png" alt="img"></p>
<h3 id="❤左右居中方案"><a href="#❤左右居中方案" class="headerlink" title="❤左右居中方案"></a>❤左右居中方案</h3><ul>
<li>行内元素: <code>text-align: center</code></li>
<li>定宽块状元素: 左右 <code>margin</code> 值为 <code>auto</code></li>
<li>不定宽块状元素: <code>table</code>布局，<code>position + transform</code></li>
<li>使用<code>flex-box</code>布局，指定<code>justify-content</code>属性为center</li>
<li><code>display</code>设置为<code>tabel-ceil</code></li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 方案1 */</span>
<span class="token selector">.wrap</span> <span class="token punctuation">&#123;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center
<span class="token punctuation">&#125;</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>
  <span class="token comment">/* or */</span>
  <span class="token comment">/* display: inline-block; */</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 方案2 */</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 方案2 */</span>
<span class="token selector">.wrap</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absulote<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤上下垂直居中方案"><a href="#❤上下垂直居中方案" class="headerlink" title="❤上下垂直居中方案"></a>❤上下垂直居中方案</h3><ul>
<li>定高：<code>margin</code>，<code>position + margin</code>(负值)</li>
<li>不定高：<code>position</code> + <code>transform</code>，<code>flex</code>，<code>IFC + vertical-align:middle</code></li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 定高方案1 */</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 50px 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 定高方案2 */</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -25px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 不定高方案1 */</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 不定高方案2 */</span>
<span class="token selector">.wrap</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 不定高方案3 */</span>
<span class="token comment">/* 设置 inline-block 则会在外层产生 IFC，高度设为 100% 撑开 wrap 的高度 */</span>
<span class="token selector">.wrap::before</span> <span class="token punctuation">&#123;</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.wrap</span> <span class="token punctuation">&#123;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤未知宽高元素水平垂直居中方法"><a href="#❤未知宽高元素水平垂直居中方法" class="headerlink" title="❤未知宽高元素水平垂直居中方法"></a>❤未知宽高元素水平垂直居中方法</h3><ul>
<li><strong>得分点</strong> <code>position</code> <code>transform</code> <code>flex</code> <code>justify-content</code> <code>align-items</code> <code>vertical-align</code> <code>text-align</code></li>
<li><strong>标准回答</strong><br>未知宽高元素水平垂直都居中的实现方法：<ol>
<li>设置元素相对父级定位<code>position:absolute;left:50%;right:50%</code>，让自身平移自身高度50% <code>transform: translate(-50%,-50%);</code>，这种方式兼容性好，被广泛使用的一种方式</li>
<li>设置元素的父级为弹性盒子<code>display:flex</code>，设置父级和盒子内部子元素水平垂直都居中<code>justify-content:center; align-items:center</code> ，这种方式代码简洁，但是兼容性ie 11以上支持，由于目前ie版本都已经很高，很多网站现在也使用这种方式实现水平垂直居中</li>
<li>设置元素的父级为网格元素<code>display: grid</code>，设置父级和盒子内部子元素水平垂直都居中<code>justify-content:center; align-items:center</code> ，这种方式代码简介，但是兼容性ie 10以上支持</li>
<li>设置元素的父级为表格元素<code>display: table-cell</code>，其内部元素水平垂直都居中<code>text-align: center;vertical-align: middle;</code> ，设置子元素为行内块<code>display: inline-block; </code>，这种方式兼容性较好</li>
</ol>
</li>
<li><strong>加分回答</strong><ul>
<li>京东的移动端顶部京东logo，使用的是<code>display:flex</code>这种模式</li>
</ul>
</li>
</ul>
<p><img data-src="https://uploadfiles.nowcoder.com/images/20220226/4107856_1645863237781/BC704AA0F4330EE2306751C366A460B5" alt="img"></p>
<p><strong>如何垂直居中一个<code>&lt;img&gt;</code>?（用更简便的方法。）</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">#container     <span class="token comment">/**&lt;img>的容器设置如下**/</span>
<span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span>table-cell<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span>middle<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="垂直居中的方法"><a href="#垂直居中的方法" class="headerlink" title="垂直居中的方法"></a>垂直居中的方法</h3><ul>
<li><p>将显示方式设置为表格，<code>display:table-cell</code>,同时设置<code>vertial-align：middle</code></p>
</li>
<li><p>使用<code>flex</code>布局，设置为<code>align-item：center</code></p>
</li>
<li><p>绝对定位中设置<code>bottom:0,top:0</code>,并设置<code>margin:auto</code></p>
</li>
<li><p>绝对定位中固定高度时设置<code>top:50%，margin-top</code>值为高度一半的负值</p>
</li>
<li><p>文本垂直居中设置<code>line-height</code>为<code>height</code>值</p>
</li>
<li><p>如果是单行文本, line-height 设置成和 height 值</p>
</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.vertical</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>已知高度的块级子元素，采用绝对定位和负边距</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.vertical</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>  <span class="token comment">/*子元素高度*/</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>  <span class="token comment">/*父元素高度50%*/</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -150px<span class="token punctuation">;</span> <span class="token comment">/*自身高度一半*/</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>未知高度的块级父子元素居中，模拟表格布局</li>
<li>缺点：IE67不兼容，父级 overflow：hidden 失效</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.content</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>新增 inline-block 兄弟元素，设置 vertical-align<ul>
<li>缺点：需要增加额外标签，IE67不兼容</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token comment">/*定义父级高度，作为参考*/</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.extra .vertical</span><span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>  <span class="token comment">/*行内块显示*/</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span> <span class="token comment">/*垂直居中*/</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.extra</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token comment">/*设置新增元素高度为100%*/</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>绝对定位配合 CSS3 位移</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.vertical</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>  <span class="token comment">/*父元素高度50%*/</span>
  <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateY</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>CSS3弹性盒模型</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span> <span class="token comment">/*子元素水平居中*/</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span> <span class="token comment">/*子元素垂直居中*/</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤选择器权重计算方式"><a href="#❤选择器权重计算方式" class="headerlink" title="❤选择器权重计算方式"></a>❤选择器权重计算方式</h3><blockquote>
<p>!important &gt; 内联样式 = 外联样式 &gt; ID选择器 &gt; 类选择器 = 伪类选择器 = 属性选择器 &gt; 元素选择器 = 伪元素选择器 &gt; 通配选择器 = 后代选择器 = 兄弟选择器</p>
</blockquote>
<ol>
<li>属性后面加<code>!import</code>会覆盖页面内任何位置定义的元素样式</li>
<li>作为<code>style</code>属性写在元素内的样式</li>
<li><code>id</code>选择器</li>
<li>类选择器</li>
<li>标签选择器</li>
<li>通配符选择器（<code>*</code>）</li>
<li>浏览器自定义或继承</li>
</ol>
<p><strong>同一级别：后写的会覆盖先写的</strong></p>
<blockquote>
<p>css选择器的解析原则：选择器定位DOM元素是从右往左的方向，这样可以尽早的过滤掉一些不必要的样式规则和元素</p>
</blockquote>
<ul>
<li><strong>得分点：</strong> <code>!important</code>、行内样式、嵌入样式、外链样式、id选择器、类选择器、标签选择器、复合选择器、通配符、继承样式</li>
<li><strong>标准回答：</strong> CSS样式的优先级应该分成四大类<ul>
<li>第一类<code>!important</code>，无论引入方式是什么，选择器是什么，它的优先级都是最高的。</li>
<li>第二类引入方式，行内样式的优先级要高于嵌入和外链，嵌入和外链如果使用的选择器相同就看他们在页面中插入的顺序，在后面插入的会覆盖前面的。</li>
<li>第三类选择器，选择器优先级：id选择器 &gt;（类选择器 | 伪类选择器 | 属性选择器 ）&gt; （后代选择器 | 伪元素选择器 ）&gt; （子选择器 | 相邻选择器） &gt; 通配符选择器 。</li>
<li>第四类继承样式，是所有样式中优先级比较低的。</li>
<li>第五类浏览器默认样式优先级最低。</li>
</ul>
</li>
<li><strong>加分回答：</strong> 使用!important要谨慎<ul>
<li> 一定要优先考虑使用样式规则的优先级来解决问题而不是 <code>!important</code></li>
<li> 只有在需要覆盖全站或外部 CSS 的特定页面中使用 <code>!important</code></li>
<li> 永远不要在你的插件中使用 <code>!important</code></li>
<li> 永远不要在全站范围的 CSS 代码中使用 <code>!important</code> 优先级的比较指的是相同的样式属性，不同样式属性优先级比较失效，比如：在设置<code>max-width</code>时注意，已经给元素的<code>max-width</code>设置了<code>!important</code>但是还不生效，很有可能就是被width覆盖了</li>
<li> 举例：<code>div</code>最终的宽度还是<code>200px</code> div { max-width: 400px !important; height: 200px;background-color: tomato; width: 200px; }</li>
</ul>
</li>
</ul>
<h3 id="❤浮动和清除浮动"><a href="#❤浮动和清除浮动" class="headerlink" title="❤浮动和清除浮动"></a>❤浮动和清除浮动</h3><ol>
<li>在浮动元素后面添加 <code>clear:both</code>的空 <code>div</code> 元素</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">clear</span><span class="token punctuation">:</span>both</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="2">
<li>给父元素添加 <code>overflow:hidden</code> 或者 <code>auto</code> 样式，触发<code>BFC</code></li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

.container&#123;
    width: 300px;
    background-color: #aaa;
    overflow:hidden;
    zoom:1;   /*IE6*/
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="3">
<li>使用伪元素，也是在元素末尾添加一个点并带有 <code>clear: both</code> 属性的元素实现的。</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container clearfix<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

.clearfix&#123;
    zoom: 1; /*IE6*/
&#125;
.clearfix:after&#123;
    content: ".";
    height: 0;
    clear: both;
    display: block;
    visibility: hidden;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>推荐使用第三种方法，不会在页面新增div，文档结构更加清晰</p>
</blockquote>
<ul>
<li><p><strong>得分点：</strong> 脱离文档流、盒子塌陷、 影响其他元素排版、伪元素 、<code>overflow:hidden</code> 、标签插入法</p>
</li>
<li><p><strong>标准回答：</strong> 浮动的作用，设置浮动的图片，可以实现文字环绕图片，设置了浮动的块级元素可以排列在同一行，设置了浮动的行内元素可以设置宽高，同时可以按照浮动设置的方向对齐排列盒子。</p>
<ul>
<li><p>设置浮动元素的<strong>特点</strong>：</p>
<ul>
<li>设置了浮动，该元素脱标。元素不占位置</li>
<li>浮动可以进行模式转换（行内块元素） 浮动造成的影响，使盒子脱离文档流，如果父级盒子没有设置高度，需要被子盒子撑开，那么这时候父级盒子的高度就塌陷了，同时也会造成父级盒子后面的兄弟盒子布局受到影响。如果浮动元素后面还有其他兄弟元素，其他兄弟元素的布局也会受到影响。</li>
</ul>
</li>
<li><p>清除浮动的<strong>方法</strong>：</p>
<ul>
<li>伪元素清除浮动：上面三种</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>加分回答：</strong> 三种清除浮动的特点和影响</p>
<ul>
<li><strong>伪元素清除浮动</strong>：不会新增标签，不会有其他影响，是当下清除浮动最流行的方法</li>
<li><code>overflow：hidden</code>：不会新增标签，但是如果父级元素有定位元素超出父级，超出部分会隐藏，在不涉及父级元素有超出内容的情况，overflow：hidden比较常用，毕竟写法方便简洁</li>
<li><strong>标签插入法</strong>：清除浮动的语法加在新增标签上，由于新增标签会造成不必要的渲染，所以这种方法目前不建议使用</li>
</ul>
</li>
</ul>
<h3 id="❤左边定宽，右边自适应方案"><a href="#❤左边定宽，右边自适应方案" class="headerlink" title="❤左边定宽，右边自适应方案"></a>❤左边定宽，右边自适应方案</h3><blockquote>
<p>流体布局</p>
<p>float + margin，float + calc</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 方案1 */</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 方案2 */</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 120px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤左右两边定宽，中间自适应"><a href="#❤左右两边定宽，中间自适应" class="headerlink" title="❤左右两边定宽，中间自适应"></a>❤左右两边定宽，中间自适应</h3><blockquote>
<p>float，<code>float + calc</code>, 圣杯布局（设置BFC，margin负值法），flex</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.wrap</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.wrap > div</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 方案1 */</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 120px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 方案2 */</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 240px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 方案3 */</span>
<span class="token selector">.wrap</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.center</span> <span class="token punctuation">&#123;</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="左边宽度固定，右边自适应"><a href="#左边宽度固定，右边自适应" class="headerlink" title="左边宽度固定，右边自适应"></a>左边宽度固定，右边自适应</h3><blockquote>
<p>左侧固定宽度，右侧自适应宽度的两列布局实现</p>
</blockquote>
<p>html结构</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>outer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>固定宽度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>自适应宽度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>在外层<code>div</code>（类名为<code>outer</code>）的<code>div</code>中，有两个子<code>div</code>，类名分别为<code>left</code>和<code>right</code>，其中<code>left</code>为固定宽度，而<code>right</code>为自适应宽度</p>
</blockquote>
<p><strong>方法1：左侧div设置成浮动：float: left，右侧div宽度会自动拉升适应</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.outer</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法2：对右侧:div进行绝对定位，然后再设置right=0，即可以实现宽度自适应</strong></p>
<blockquote>
<p>绝对定位元素的第一个高级特性就是其具有自动伸缩的功能，当我们将 <code>width</code>设置为 <code>auto</code> 的时候（或者不设置，默认为 <code>auto</code> ），绝对定位元素会根据其 <code>left</code> 和 <code>right</code> 自动伸缩其大小</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.outer</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法3：将左侧<code>div</code>进行绝对定位，然后右侧<code>div</code>设置<code>margin-left: 200px</code></strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.outer</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法4：使用flex布局</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.outer</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="两种以上方式实现已知或者未知宽度的垂直水平居中"><a href="#两种以上方式实现已知或者未知宽度的垂直水平居中" class="headerlink" title="两种以上方式实现已知或者未知宽度的垂直水平居中"></a>两种以上方式实现已知或者未知宽度的垂直水平居中</h3><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/** 1 **/</span>
<span class="token selector">.wraper</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token selector">;
  .box</span> <span class="token punctuation">&#123;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> -50px 0 0 -50px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/** 2 **/</span>
<span class="token selector">.wraper</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token selector">;
  .box</span> <span class="token punctuation">&#123;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/** 3 **/</span>
<span class="token selector">.wraper</span> <span class="token punctuation">&#123;</span>
  <span class="token selector">.box</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/** 4 **/</span>
<span class="token selector">.wraper</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token selector">;
  .box</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="❤三栏布局的实现方案"><a href="#❤三栏布局的实现方案" class="headerlink" title="❤三栏布局的实现方案"></a>❤三栏布局的实现方案</h3><ul>
<li><strong>得分点</strong> 圣杯布局、双飞翼布局、三栏高度不定、中间栏内容多先渲染</li>
<li><strong>标准回答</strong> 三栏布局，要求左右两边盒子宽度固定，中间盒子宽度自适应，盒子的高度都是随内容撑高的，一般都是中间盒子内容较多，为了保证页面渲染快，在写结构的时候，需要把中间盒子放在左右盒子的前面。 实现三栏布局的方法通常是圣杯布局和双飞翼布局。</li>
<li><strong>圣杯布局</strong>的实现方案：三个元素放在同一个父级元素中，代表中间盒子的元素放在最前面，父级盒子设置左右<code>padding</code>，三个盒子全部浮动，设置中间盒子宽度100%，左右盒子设置固定宽度，设置左边盒子左边距-100%同时相对自身定位，右边平移自身宽度，右边盒子设置右边距-自身宽度，最后设置父级盒子清除浮动，否则父级盒子的高度无法被撑开</li>
<li><strong>双飞翼布局</strong>的实现方案：三个盒子对应三个元素，其中中间盒子套了两层，中间盒子内部盒子设置<code>margin</code>,三个盒子全部浮动，设置中间盒子宽度100%，左右盒子设置固定宽度,设置左边盒子左边距-100%,右边盒子设置右边距-自身宽度，最后设置父级盒子清除浮动，否则父级盒子的高度无法被撑开</li>
<li><strong>加分回答</strong><ul>
<li><strong>圣杯布局:</strong><ul>
<li><strong>优点：</strong>不需要添加dom节点</li>
<li><strong>缺点：</strong>正常情况下是没有问题的，但是特殊情况下就会暴露此方案的弊端，当middle部分的宽小于left部分时就会发生布局混乱。</li>
</ul>
</li>
<li><strong>双飞翼布局：</strong><ul>
<li><strong>优点：</strong>不会像圣杯布局那样变形，CSS样式代码更简洁</li>
<li><strong>缺点：</strong>多加了一层dom节点</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="几种常见的CSS布局"><a href="#几种常见的CSS布局" class="headerlink" title="几种常见的CSS布局"></a>几种常见的CSS布局</h3><h4 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h4><ul>
<li>要求：三列布局；中间主体内容前置，且宽度自适应；两边内容定宽<ul>
<li>好处：重要的内容放在文档流前面可以优先渲染</li>
<li>原理：利用相对定位、浮动、负边距布局，而不添加额外标签</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">  <span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
      <span class="token property">padding-left</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
      <span class="token property">padding-right</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.main</span> <span class="token punctuation">&#123;</span>
      <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
      <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> -150px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
      <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> -190px<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> -190px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
&lt;div class=<span class="token string">"container"</span>>
	&lt;div class=<span class="token string">"main"</span>>&lt;/div>
	&lt;div class=<span class="token string">"left"</span>>&lt;/div>
	&lt;div class=<span class="token string">"right"</span>>&lt;/div>
&lt;/div><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h4><ul>
<li>双飞翼布局：对圣杯布局（使用相对定位，对以后布局有局限性）的改进，消除相对定位布局</li>
<li>原理：主体元素上设置左右边距，预留两翼位置。左右两栏使用浮动和负边距归位，消除相对定位。</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/*padding-left:150px;*/</span>
    <span class="token comment">/*padding-right:190px;*/</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.main-wrap</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.main</span> <span class="token punctuation">&#123;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
    <span class="token comment">/*position: relative;*/</span>
    <span class="token comment">/*left:-150px;*/</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -190px<span class="token punctuation">;</span>
    <span class="token comment">/*position:relative;*/</span>
    <span class="token comment">/*right:-190px;*/</span>
<span class="token punctuation">&#125;</span>
&lt;div class=<span class="token string">"content"</span>>
    &lt;div class=<span class="token string">"main"</span>>&lt;/div>
&lt;/div>
&lt;div class=<span class="token string">"left"</span>>&lt;/div>
&lt;div class=<span class="token string">"right"</span>>&lt;/div><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤CSS动画和过渡"><a href="#❤CSS动画和过渡" class="headerlink" title="❤CSS动画和过渡"></a>❤CSS动画和过渡</h3><p><strong>animation / keyframes</strong></p>
<ul>
<li><code>animation-name</code>: 动画名称，对应<code>@keyframes</code></li>
<li><code>animation-duration</code>: 间隔</li>
<li><code>animation-timing-function</code>: 曲线</li>
<li><code>animation-delay</code>: 延迟</li>
<li><code>animation-iteration-count</code>: 次数<ul>
<li><code>infinite</code>: 循环动画</li>
</ul>
</li>
<li><code>animation-direction</code>: 方向<ul>
<li><code>alternate</code>: 反向播放</li>
</ul>
</li>
<li><code>animation-fill-mode</code>: 静止模式<ul>
<li><code>forwards</code>: 停止时，保留最后一帧</li>
<li><code>backwards</code>: 停止时，回到第一帧</li>
<li><code>both</code>: 同时运用 <code>forwards / backwards</code></li>
</ul>
</li>
<li>常用钩子: <code>animationend</code></li>
</ul>
<blockquote>
<p>动画属性: 尽量使用动画属性进行动画，能拥有较好的性能表现</p>
</blockquote>
<ul>
<li><code>translate</code></li>
<li><code>scale</code></li>
<li><code>rotate</code></li>
<li><code>skew</code></li>
<li><code>opacity</code></li>
<li><code>color</code></li>
</ul>
<p><strong>transform</strong></p>
<ul>
<li>位移属性 <code>translate( x , y )</code></li>
<li>旋转属性 <code>rotate()</code></li>
<li>缩放属性 <code>scale()</code></li>
<li>倾斜属性 <code>skew()</code></li>
</ul>
<p><strong>transition</strong></p>
<ul>
<li><code>transition-property</code>（过渡的属性的名称）。</li>
<li><code>transition-duration</code>（定义过渡效果花费的时间,默认是 <code>0</code>）。</li>
<li><code>transition-timing-function:linear(匀速) ease</code>(慢速开始，然后变快，然后慢速结束)（规定过渡效果的时间曲线，最常用的是这两个）。</li>
<li><code>transition-delay</code>（规定过渡效果何时开始。默认是 0）</li>
</ul>
<blockquote>
<p>般情况下，我们都是写一起的，比如：<code>transition： width 2s ease 1s</code></p>
</blockquote>
<p><strong>关键帧动画animation</strong></p>
<blockquote>
<p>一个关键帧动画，最少包含两部分，animation 属性及属性值（动画的名称和运行方式运行时间等）。@keyframes（规定动画的具体实现过程）</p>
</blockquote>
<p><strong>animation 属性可以拆分为</strong></p>
<ul>
<li><code>animation-name</code> 规定@keyframes 动画的名称。</li>
<li><code>animation-duration</code> 规定动画完成一个周期所花费的秒或毫秒。默认是 <code>0</code>。</li>
<li><code>animation-timing-function</code> 规定动画的速度曲线。默认是 “ease”，常用的还有<code>linear</code>，同<code>transtion</code> 。</li>
<li><code>animation-delay</code> 规定动画何时开始。默认是 0。</li>
<li><code>animation-iteration-count</code> 规定动画被播放的次数。默认是 1，但我们一般用<code>infinite</code>，一直播放</li>
</ul>
<blockquote>
<p>而<code>@keyframes</code>的使用方法，可以是<code>from-&gt;to</code>（等同于0%和100%），也可以是从<code>0%-&gt;100%</code>之间任意个的分层设置。我们通过下面一个稍微复杂点的<code>demo</code>来看一下，基本上用到了上面说到的大部分知识</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">eg</span><span class="token punctuation">:</span>
   <span class="token atrule"><span class="token rule">@keyframes</span> mymove</span>
  <span class="token punctuation">&#123;</span>
      <span class="token selector">from</span> <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
      <span class="token selector">to</span> <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>

<span class="token comment">/* 等同于： */</span>
<span class="token atrule"><span class="token rule">@keyframes</span> mymove</span>
<span class="token punctuation">&#123;</span>
 <span class="token selector">0%</span>   <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
 <span class="token selector">25%</span>  <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
 <span class="token selector">50%</span>  <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>100px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
 <span class="token selector">75%</span>  <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
 <span class="token selector">100%</span> <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>用css3动画使一个图片旋转</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">#loader</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> spin 2s linear infinite<span class="token punctuation">;</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> spin 2s linear infinite<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> spin</span> <span class="token punctuation">&#123;</span>
    <span class="token selector">0%</span>   <span class="token punctuation">&#123;</span>
        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token atrule"><span class="token rule">@keyframes</span> spin</span> <span class="token punctuation">&#123;</span>
    <span class="token selector">0%</span>   <span class="token punctuation">&#123;</span>
        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="CSS3动画（简单动画的实现，如旋转等）"><a href="#CSS3动画（简单动画的实现，如旋转等）" class="headerlink" title="CSS3动画（简单动画的实现，如旋转等）"></a>CSS3动画（简单动画的实现，如旋转等）</h3><ul>
<li>依靠<code>CSS3</code>中提出的三个属性：<code>transition</code>、<code>transform</code>、<code>animation</code></li>
<li><code>transition</code>：定义了元素在变化过程中是怎么样的，包含<code>transition-property</code>、<code>transition-duration</code>、<code>transition-timing-function</code>、<code>transition-delay</code>。</li>
<li><code>transform</code>：定义元素的变化结果，包含<code>rotate</code>、<code>scale</code>、<code>skew</code>、<code>translate</code>。</li>
<li><code>animation</code>：动画定义了动作的每一帧（<code>@keyframes</code>）有什么效果，包括<code>animation-name</code>，<code>animation-duration</code>、<code>animation-timing-function</code>、<code>animation-delay</code>、<code>animation-iteration-count</code>、<code>animation-direction</code></li>
</ul>
<h3 id="❤css3有哪些新特性"><a href="#❤css3有哪些新特性" class="headerlink" title="❤css3有哪些新特性"></a>❤css3有哪些新特性</h3><ul>
<li>新增选择器 <code>p:nth-child(n)&#123;color: rgba(255, 0, 0, 0.75)&#125;</code></li>
<li>弹性盒模型 <code>display: flex;</code></li>
<li>多列布局 <code>column-count: 5;</code></li>
<li>媒体查询 <code>@media (max-width: 480px) &#123;.box: &#123;column-count: 1;&#125;&#125;</code></li>
<li>个性化字体 <code>@font-face&#123;font-family: BorderWeb; src:url(BORDERW0.eot);&#125;</code></li>
<li>颜色透明度 <code>color: rgba(255, 0, 0, 0.75);</code></li>
<li>圆角 <code>border-radius: 5px;</code></li>
<li>渐变 <code>background:linear-gradient(red, green, blue);</code></li>
<li>阴影 <code>box-shadow:3px 3px 3px rgba(0, 64, 128, 0.3);</code></li>
<li>倒影 <code>box-reflect: below 2px;</code></li>
<li>文字装饰 <code>text-stroke-color: red;</code></li>
<li>文字溢出 <code>text-overflow:ellipsis;</code></li>
<li>背景效果 <code>background-size: 100px 100px;</code></li>
<li>边框效果 <code>border-image:url(bt_blue.png) 0 10;</code></li>
<li>转换<ul>
<li>旋转 <code>transform: rotate(20deg);</code></li>
<li>倾斜 <code>transform: skew(150deg, -10deg);</code></li>
<li>位移 <code>transform: translate(20px, 20px);</code></li>
<li>缩放 <code>transform: scale(.5);</code></li>
</ul>
</li>
<li>平滑过渡 <code>transition: all .3s ease-in .1s;</code></li>
<li>动画 <code>@keyframes anim-1 &#123;50% &#123;border-radius: 50%;&#125;&#125; animation: anim-1 1s;</code></li>
</ul>
<p><strong>CSS3新增伪类有那些？</strong></p>
<ul>
<li><code>p:first-of-type</code> 选择属于其父元素的首个<code>&lt;p&gt;</code>元素的每个<code>&lt;p&gt;</code> 元素。</li>
<li><code>p:last-of-type</code> 选择属于其父元素的最后 <code>&lt;p&gt;</code> 元素的每个<code>&lt;p&gt;</code> 元素。</li>
<li><code>p:only-of-type</code> 选择属于其父元素唯一的 <code>&lt;p&gt;</code>元素的每个 <code>&lt;p&gt;</code> 元素。</li>
<li><code>p:only-child</code> 选择属于其父元素的唯一子元素的每个 <code>&lt;p&gt;</code> 元素。</li>
<li><code>p:nth-child(2)</code> 选择属于其父元素的第二个子元素的每个 <code>&lt;p&gt;</code> 元素。</li>
<li><code>:after</code> 在元素之前添加内容,也可以用来做清除浮动。</li>
<li><code>:before</code> 在元素之后添加内容。</li>
<li><code>:enabled</code> 已启用的表单元素。</li>
<li><code>:disabled</code> 已禁用的表单元素。</li>
<li><code>:checked</code> 单选框或复选框被选中。</li>
</ul>
<h3 id="❤列举几个css中可继承和不可继承的元素"><a href="#❤列举几个css中可继承和不可继承的元素" class="headerlink" title="❤列举几个css中可继承和不可继承的元素"></a>❤列举几个css中可继承和不可继承的元素</h3><ul>
<li>不可继承的：<code>display、margin、border、padding、background、height、min-height、max-height、width、min-width、max-width、overflow、position、left、right、top、bottom、z-index、float、clear、table-layout、vertical-align</code></li>
<li>所有元素可继承：<code>visibility</code>和<code>cursor</code>。</li>
<li>内联元素可继承：<code>letter-spacing、word-spacing、white-space、line-height、color、font、font-family、font-size、font-style、font-variant、font-weight、text-decoration、text-transform、direction</code>。</li>
<li>终端块状元素可继承：<code>text-indent和text-align</code>。</li>
<li>列表元素可继承：<code>list-style、list-style-type、list-style-position、list-style-image</code>。</li>
</ul>
<p><strong>transition和animation的区别</strong></p>
<blockquote>
<p><code>Animation</code>和<code>transition</code>大部分属性是相同的，他们都是随时间改变元素的属性值，他们的主要区别是<code>transition</code>需要触发一个事件才能改变属性，而<code>animation</code>不需要触发任何事件的情况下才会随时间改变属性值，并且<code>transition</code>为2帧，从<code>from .... to</code>，而<code>animation</code>可以一帧一帧的</p>
</blockquote>
<h3 id="CSS有哪些继承属性"><a href="#CSS有哪些继承属性" class="headerlink" title="CSS有哪些继承属性"></a>CSS有哪些继承属性</h3><ul>
<li>关于文字排版的属性如：<ul>
<li><code>font</code><ul>
<li><code>word-break</code></li>
<li><code>letter-spacing</code></li>
<li><code>text-align</code></li>
<li><code>text-rendering</code></li>
<li><code>word-spacing</code></li>
<li><code>white-space</code></li>
<li><code>text-indent</code></li>
<li><code>text-transform</code></li>
<li><code>text-shadow</code></li>
</ul>
</li>
<li><code>line-height</code></li>
<li><code>color</code></li>
<li><code>visibility</code></li>
<li><code>cursor</code></li>
</ul>
</li>
</ul>
<h3 id="❤重绘和回流（重排）是什么，如何避免？"><a href="#❤重绘和回流（重排）是什么，如何避免？" class="headerlink" title="❤重绘和回流（重排）是什么，如何避免？"></a>❤重绘和回流（重排）是什么，如何避免？</h3><ul>
<li>重绘：当渲染树中的元素外观（如：颜色）发生改变，不影响布局时，产生重绘</li>
<li>回流：当渲染树中的元素的布局（如：尺寸、位置、隐藏/状态状态）发生改变时，产生重绘回流</li>
<li>注意：JS获取Layout属性值（如：<code>offsetLeft</code>、<code>scrollTop</code>、<code>getComputedStyle</code>等）也会引起回流。因为浏览器需要通过回流计算最新值</li>
<li>回流必将引起重绘，而重绘不一定会引起回流</li>
</ul>
<p>**如何最小化重绘(repaint)和回流(reflow)**：</p>
<ul>
<li>需要要对元素进行复杂的操作时，可以先隐藏(<code>display:&quot;none&quot;</code>)，操作完成后再显示</li>
<li>需要创建多个<code>DOM</code>节点时，使用<code>DocumentFragment</code>创建完后一次性的加入<code>document</code></li>
<li>缓存<code>Layout</code>属性值，如：<code>var left = elem.offsetLeft;</code> 这样，多次使用 <code>left</code> 只产生一次回流</li>
<li>尽量避免用<code>table</code>布局（<code>table</code>元素一旦触发回流就会导致table里所有的其它元素回流）</li>
<li>避免使用<code>css</code>表达式(<code>expression</code>)，因为每次调用都会重新计算值（包括加载页面）</li>
<li>尽量使用 <code>css</code> 属性简写，如：用 <code>border</code> 代替 <code>border-width</code>, <code>border-style</code>, <code>border-color</code></li>
<li>批量修改元素样式：<code>elem.className</code> 和 <code>elem.style.cssText</code> 代替 <code>elem.style.xxx</code></li>
</ul>
<ul>
<li><strong>得分点</strong> 改变元素尺寸、重新计算布局树、重排必定重绘、重绘避开了重建布局树和分层、GPU加速、脱离文档流、样式集中改变</li>
<li><strong>标准回答</strong><ul>
<li>重排 ：当DOM的变化影响了元素的几何信息(元素的的位置和尺寸大小)，浏览器需要重新计算元素的几何属性，将其安放在界面中的正确位置，这个过程叫做重排。</li>
<li>重绘：当一个元素的外观发生改变，但没有改变布局，重新把元素外观绘制出来的过程，所以重绘跳过了创建布局树和分层的阶段。 重排需要重新计算布局树，重绘不需要，重排必定发生重绘，但是涉及到重绘不一定要重排。涉及到重排对性能的消耗更多一些。</li>
<li>触发重排的方法：<ul>
<li>页面初始渲染，这是开销最大的一次重排</li>
<li>添加/删除可见的DOM元素</li>
<li>改变元素位置 -改变元素尺寸，比如边距、填充、边框、宽度和高度等</li>
<li>改变元素内容，比如文字数量，图片大小等 -改变元素字体大小 -改变浏览器窗口尺寸，比如resize事件发生时</li>
<li>激活CSS伪类（例如：<code>:hover</code>）</li>
<li>设置 style 属性的值，因为通过设置style属性改变结点样式的话，每一次设置都会触发一次reflow</li>
<li>查询某些属性或调用某些计算方法：offsetWidth、offsetHeight等 避免重排的方式</li>
<li>样式集中改变</li>
<li>使用 absolute 或 fixed 脱离文档流</li>
<li>使用GPU加速:transform</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>GPU的过程是以下这几步 : 1. 获取DOM并将其分割成多个层(renderLayer) 2. 将每个层栅格化，并独立的绘制进位图中 3. 将这些位图作为纹理上传至GPU 4. 复合多个层来生成最终的屏幕图像(最后的layer) 开启了GPU加速的元素被独立出来，不会再影响其他dom的布局，因为它改变之后，只是相当于被贴上了页面。</li>
</ul>
</li>
</ul>
<h3 id="css-sprite是什么-有什么优缺点"><a href="#css-sprite是什么-有什么优缺点" class="headerlink" title="css sprite是什么,有什么优缺点"></a>css sprite是什么,有什么优缺点</h3><ul>
<li>概念：将多个小图片拼接到一个图片中。通过<code>background-position</code>和元素尺寸调节需要显示的背景图案。</li>
<li>优点：<ul>
<li>减少<code>HTTP</code>请求数，极大地提高页面加载速度</li>
<li>增加图片信息重复度，提高压缩比，减少图片大小</li>
<li>更换风格方便，只需在一张或几张图片上修改颜色或样式即可实现</li>
</ul>
</li>
<li>缺点：<ul>
<li>图片合并麻烦</li>
<li>维护麻烦，修改一个图片可能需要从新布局整个图片，样式</li>
</ul>
</li>
</ul>
<h3 id="display-none-与-visibility-hidden-的区别"><a href="#display-none-与-visibility-hidden-的区别" class="headerlink" title="display: none; 与 visibility: hidden;的区别"></a><code>display: none;</code> 与 <code>visibility: hidden;</code>的区别</h3><ul>
<li>联系：它们都能让元素不可见</li>
<li>区别：<ul>
<li><code>display:none</code>;会让元素完全从渲染树中消失，渲染的时候不占据任何空间；<code>visibility: hidden</code>;不会让元素从渲染树消失，渲染师元素继续占据空间，只是内容不可见</li>
<li><code>display: none</code>;是非继承属性，子孙节点消失由于元素从渲染树消失造成，通过修改子孙节点属性无法显示<code>；visibility: hidden;</code>是继承属性，子孙节点消失由于继承了<code>hidden</code>，通过设置<code>visibility: visible;</code>可以让子孙节点显式</li>
<li>修改常规流中元素的<code>display</code>通常会造成文档重排。修改<code>visibility</code>属性只会造成本元素的重绘。</li>
<li>读屏器不会读取<code>display: none</code>;元素内容；会读取<code>visibility: hidden;</code>元素内容</li>
</ul>
</li>
</ul>
<h3 id="link与-import的区别"><a href="#link与-import的区别" class="headerlink" title="link与@import的区别"></a><code>link</code>与<code>@import</code>的区别</h3><ol>
<li><code>link</code>是<code>HTML</code>方式， <code>@import</code>是CSS方式</li>
<li><code>link</code>最大限度支持并行下载，<code>@import</code>过多嵌套导致串行下载，出现<code>FOUC</code>(文档样式短暂失效)</li>
<li><code>link</code>可以通过<code>rel=&quot;alternate stylesheet&quot;</code>指定候选样式</li>
<li>浏览器对<code>link</code>支持早于<code>@import</code>，可以使用<code>@import</code>对老浏览器隐藏样式</li>
<li><code>@import</code>必须在样式规则之前，可以在css文件中引用其他文件</li>
<li>总体来说：<code>link</code>优于<code>@import</code></li>
</ol>
<h3 id="什么是FOUC-如何避免"><a href="#什么是FOUC-如何避免" class="headerlink" title="什么是FOUC?如何避免"></a>什么是FOUC?如何避免</h3><ul>
<li><code>Flash Of Unstyled Content</code>：用户定义样式表加载之前浏览器使用默认样式显示文档，用户样式加载渲染之后再从新显示文档，造成页面闪烁。</li>
<li><strong>解决方法</strong>：把样式表放到文档的<code>&lt;head&gt;</code></li>
</ul>
<h3 id="display、float、position的关系"><a href="#display、float、position的关系" class="headerlink" title="display、float、position的关系"></a>display、float、position的关系</h3><ul>
<li>如果<code>display</code>取值为<code>none</code>，那么<code>position</code>和<code>float</code>都不起作用，这种情况下元素不产生框</li>
<li>否则，如果<code>position</code>取值为<code>absolute</code>或者<code>fixed</code>，框就是绝对定位的，<code>float</code>的计算值为<code>none</code>，<code>display</code>根据下面的表格进行调整。</li>
</ul>
<p><img data-src="https://s.poetries.work/images/202202231030963.png" alt="img"></p>
<ul>
<li>否则，如果<code>float</code>不是<code>none</code>，框是浮动的，<code>display</code>根据下表进行调整</li>
<li>否则，如果元素是根元素，<code>display</code>根据下表进行调整</li>
<li>其他情况下<code>display</code>的值为指定值</li>
<li>总结起来：<strong>绝对定位、浮动、根元素都需要调整<code>display</code></strong></li>
</ul>
<h3 id="为什么要初始化CSS样式"><a href="#为什么要初始化CSS样式" class="headerlink" title="为什么要初始化CSS样式?"></a>为什么要初始化CSS样式?</h3><ul>
<li>因为浏览器的兼容问题，不同浏览器对有些标签的默认值是不同的，如果没对<code>CSS</code>初始化往往会出现浏览器之间的页面显示差异。</li>
<li>当然，初始化样式会对<code>SEO</code>有一定的影响，但鱼和熊掌不可兼得，但力求影响最小的情况下初始化</li>
</ul>
<h3 id="display有哪些值？说明他们的作用"><a href="#display有哪些值？说明他们的作用" class="headerlink" title="display有哪些值？说明他们的作用"></a>display有哪些值？说明他们的作用</h3><ul>
<li><code>block</code> 转换成块状元素。</li>
<li><code>inline</code> 转换成行内元素。</li>
<li><code>none</code> 设置元素不可见。</li>
<li><code>inline-block</code> 象行内元素一样显示，但其内容象块类型元素一样显示。</li>
<li><code>list-item</code> 象块类型元素一样显示，并添加样式列表标记。</li>
<li><code>table</code> 此元素会作为块级表格来显示</li>
<li><code>inherit</code> 规定应该从父元素继承 <code>display</code> 属性的值</li>
</ul>
<h3 id="position的值，-relative和absolute定位原点是"><a href="#position的值，-relative和absolute定位原点是" class="headerlink" title="position的值， relative和absolute定位原点是"></a>position的值， relative和absolute定位原点是</h3><ul>
<li><code>absolute</code>：生成绝对定位的元素，相对于 <code>static</code> 定位以外的第一个父元素进行定位</li>
<li><code>fixed</code>：生成绝对定位的元素，相对于浏览器窗口进行定位</li>
<li><code>relative</code>：生成相对定位的元素，相对于其正常位置进行定位</li>
<li><code>static</code> 默认值。没有定位，元素出现在正常的流中</li>
<li><code>inherit</code> 规定从父元素继承 <code>position</code> 属性的值</li>
</ul>
<h3 id="display-inline-block-什么时候不会显示间隙？-携程"><a href="#display-inline-block-什么时候不会显示间隙？-携程" class="headerlink" title="display:inline-block 什么时候不会显示间隙？(携程)"></a>display:inline-block 什么时候不会显示间隙？(携程)</h3><ul>
<li>移除空格</li>
<li>使用<code>margin</code>负值</li>
<li>使用<code>font-size:0</code></li>
<li><code>letter-spacing</code></li>
<li><code>word-spacing</code></li>
</ul>
<h3 id="PNG、GIF、JPG的区别及如何选"><a href="#PNG、GIF、JPG的区别及如何选" class="headerlink" title="PNG、GIF、JPG的区别及如何选"></a>PNG、GIF、JPG的区别及如何选</h3><ul>
<li><code>GIF</code><ul>
<li><code>8</code>位像素，<code>256</code>色</li>
<li>无损压缩</li>
<li>支持简单动画</li>
<li>支持<code>boolean</code>透明</li>
<li>适合简单动画</li>
</ul>
</li>
<li><code>JPEG</code><ul>
<li>颜色限于<code>256</code></li>
<li>有损压缩</li>
<li>可控制压缩质量</li>
<li>不支持透明</li>
<li>适合照片</li>
</ul>
</li>
<li><code>PNG</code><ul>
<li>有<code>PNG8</code>和<code>truecolor PNG</code></li>
<li><code>PNG8</code>类似<code>GIF</code>颜色上限为<code>256</code>，文件小，支持<code>alpha</code>透明度，无动画</li>
<li>适合图标、背景、按钮</li>
</ul>
</li>
</ul>
<h3 id="行内元素float-left后是否变为块级元素？"><a href="#行内元素float-left后是否变为块级元素？" class="headerlink" title="行内元素float:left后是否变为块级元素？"></a>行内元素float:left后是否变为块级元素？</h3><blockquote>
<p>行内元素设置成浮动之后变得更加像是<code>inline-block</code>（行内块级元素，设置成这个属性的元素会同时拥有行内和块级的特性，最明显的不同是它的默认宽度不是<code>100%</code>），这时候给行内元素设置<code>padding-top</code>和<code>padding-bottom</code>或者<code>width</code>、<code>height</code>都是有效果的</p>
</blockquote>
<h3 id="如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）"><a href="#如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）" class="headerlink" title="如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）"></a>如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）</h3><ul>
<li>多数显示器默认频率是<code>60Hz</code>，即<code>1</code>秒刷新<code>60</code>次，所以理论上最小间隔为<code>1/60*1000ms ＝ 16.7ms</code></li>
</ul>
<h3 id="CSS合并方法"><a href="#CSS合并方法" class="headerlink" title="CSS合并方法"></a>CSS合并方法</h3><ul>
<li>避免使用<code>@import</code>引入多个<code>css</code>文件，可以使用<code>CSS</code>工具将<code>CSS</code>合并为一个<code>CSS</code>文件，例如使用<code>Sass\Compass</code>等</li>
</ul>
<h3 id="列出你所知道可以改变页面布局的属性"><a href="#列出你所知道可以改变页面布局的属性" class="headerlink" title="列出你所知道可以改变页面布局的属性"></a>列出你所知道可以改变页面布局的属性</h3><ul>
<li><code>position</code>、<code>display</code>、<code>float</code>、<code>width</code>、<code>height</code>、<code>margin</code>、<code>padding</code>、<code>top</code>、<code>left</code>、<code>right</code>、`</li>
</ul>
<h3 id="CSS在性能优化方面的实践"><a href="#CSS在性能优化方面的实践" class="headerlink" title="CSS在性能优化方面的实践"></a>CSS在性能优化方面的实践</h3><ul>
<li><code>css</code>压缩与合并、<code>Gzip</code>压缩</li>
<li><code>css</code>文件放在<code>head</code>里、不要用<code>@import</code></li>
<li>尽量用缩写、避免用滤镜、合理使用选择器</li>
</ul>
<h3 id="base64的原理及优缺点"><a href="#base64的原理及优缺点" class="headerlink" title="base64的原理及优缺点"></a>base64的原理及优缺点</h3><ul>
<li>优点可以加密，减少了<code>HTTTP</code>请求</li>
<li>缺点是需要消耗<code>CPU</code>进行编解码</li>
</ul>
<h3 id="stylus-sass-less区别"><a href="#stylus-sass-less区别" class="headerlink" title="stylus/sass/less区别"></a>stylus/sass/less区别</h3><ul>
<li>均具有“变量”、“混合”、“嵌套”、“继承”、“颜色混合”五大基本特性</li>
<li><code>Scss</code>和<code>LESS</code>语法较为严谨，<code>LESS</code>要求一定要使用大括号“{}”，<code>Scss</code>和<code>Stylus</code>可以通过缩进表示层次与嵌套关系</li>
<li><code>Scss</code>无全局变量的概念，<code>LESS</code>和<code>Stylus</code>有类似于其它语言的作用域概念</li>
<li><code>Sass</code>是基于<code>Ruby</code>语言的，而<code>LESS</code>和<code>Stylus</code>可以基于<code>NodeJS</code> <code>NPM</code>下载相应库后进行编译；</li>
</ul>
<h3 id="postcss的作用"><a href="#postcss的作用" class="headerlink" title="postcss的作用"></a>postcss的作用</h3><ul>
<li>可以直观的理解为：它就是一个平台。为什么说它是一个平台呢？因为我们直接用它，感觉不能干什么事情，但是如果让一些插件在它上面跑，那么将会很强大</li>
<li><code>PostCSS</code> 提供了一个解析器，它能够将 <code>CSS</code> 解析成抽象语法树</li>
<li>通过在 <code>PostCSS</code> 这个平台上，我们能够开发一些插件，来处理我们的<code>CSS</code>，比如热门的：<code>autoprefixer</code></li>
<li><code>postcss</code>可以对sass处理过后的<code>css</code>再处理 最常见的就是<code>autoprefixer</code></li>
</ul>
<h3 id="自定义字体的使用场景"><a href="#自定义字体的使用场景" class="headerlink" title="自定义字体的使用场景"></a>自定义字体的使用场景</h3><ul>
<li>宣传/品牌/<code>banner</code>等固定文案</li>
<li>字体图标</li>
</ul>
<h3 id="如何美化CheckBox"><a href="#如何美化CheckBox" class="headerlink" title="如何美化CheckBox"></a>如何美化CheckBox</h3><ul>
<li><code>&lt;label&gt;</code> 属性 <code>for</code> 和 <code>id</code></li>
<li>隐藏原生的 <code>&lt;input&gt;</code></li>
<li><code>:checked + &lt;label&gt;</code></li>
</ul>
<h3 id="伪类和伪元素的区别"><a href="#伪类和伪元素的区别" class="headerlink" title="伪类和伪元素的区别"></a>伪类和伪元素的区别</h3><ul>
<li>伪类表状态</li>
<li>伪元素是真的有元素</li>
<li>前者单冒号，后者双冒号</li>
</ul>
<h3 id="base64的使用"><a href="#base64的使用" class="headerlink" title="base64的使用"></a><code>base64</code>的使用</h3><ul>
<li>用于减少 <code>HTTP</code> 请求</li>
<li>适用于小图片</li>
<li><code>base64</code>的体积约为原图的<code>4/3</code></li>
</ul>
<h3 id="请用CSS写一个简单的幻灯片效果页面"><a href="#请用CSS写一个简单的幻灯片效果页面" class="headerlink" title="请用CSS写一个简单的幻灯片效果页面"></a>请用CSS写一个简单的幻灯片效果页面</h3><blockquote>
<p>知道是要用<code>CSS3</code>。使用<code>animation</code>动画实现一个简单的幻灯片效果</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/**css**/</span>
<span class="token selector">.ani</span><span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>480px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>320px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>50px auto<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span>0 0 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">-webkit-animation-name</span><span class="token punctuation">:</span> <span class="token string">"loops"</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-animation-duration</span><span class="token punctuation">:</span> 20s<span class="token punctuation">;</span>
  <span class="token property">-webkit-animation-iteration-count</span><span class="token punctuation">:</span> infinite<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> <span class="token string">"loops"</span></span> <span class="token punctuation">&#123;</span>
    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://d.hiphotos.baidu.com/image/w%3D400/sign=c01e6adca964034f0fcdc3069fc27980/e824b899a9014c08e5e38ca4087b02087af4f4d3.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">25%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://b.hiphotos.baidu.com/image/w%3D400/sign=edee1572e9f81a4c2632edc9e72b6029/30adcbef76094b364d72bceba1cc7cd98c109dd0.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://b.hiphotos.baidu.com/image/w%3D400/sign=937dace2552c11dfded1be2353266255/d8f9d72a6059252d258e7605369b033b5bb5b912.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">75%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://g.hiphotos.baidu.com/image/w%3D400/sign=7d37500b8544ebf86d71653fe9f9d736/0df431adcbef76095d61f0972cdda3cc7cd99e4b.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://c.hiphotos.baidu.com/image/w%3D400/sign=cfb239ceb0fb43161a1f7b7a10a54642/3b87e950352ac65ce2e73f76f9f2b21192138ad1.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="什么是外边距重叠？重叠的结果是什么？"><a href="#什么是外边距重叠？重叠的结果是什么？" class="headerlink" title="什么是外边距重叠？重叠的结果是什么？"></a>什么是外边距重叠？重叠的结果是什么？</h3><blockquote>
<p>外边距重叠就是margin-collapse</p>
</blockquote>
<ul>
<li>在CSS当中，相邻的两个盒子（可能是兄弟关系也可能是祖先关系）的外边距可以结合成一个单独的外边距。这种合并外边距的方式被称为折叠，并且因而所结合成的外边距称为折叠外边距。</li>
</ul>
<p><strong>折叠结果遵循下列计算规则</strong>：</p>
<ul>
<li>两个相邻的外边距都是正数时，折叠结果是它们两者之间较大的值。</li>
<li>两个相邻的外边距都是负数时，折叠结果是两者绝对值的较大值。</li>
<li>两个外边距一正一负时，折叠结果是两者的相加的和。</li>
</ul>
<h3 id="rgba-和opacity的透明效果有什么不同？"><a href="#rgba-和opacity的透明效果有什么不同？" class="headerlink" title="rgba()和opacity的透明效果有什么不同？"></a>rgba()和opacity的透明效果有什么不同？</h3><ul>
<li><code>rgba()</code>和<code>opacity</code>都能实现透明效果，但最大的不同是<code>opacity</code>作用于元素，以及元素内的所有内容的透明度，</li>
<li>而<code>rgba()</code>只作用于元素的颜色或其背景色。（设置<code>rgba</code>透明的元素的子元素不会继承透明效果！）</li>
</ul>
<h3 id="可以让文字在垂直和水平方向上重叠的两个属性是什么？"><a href="#可以让文字在垂直和水平方向上重叠的两个属性是什么？" class="headerlink" title="可以让文字在垂直和水平方向上重叠的两个属性是什么？"></a>可以让文字在垂直和水平方向上重叠的两个属性是什么？</h3><ul>
<li>垂直方向：<code>line-height</code></li>
<li>水平方向：<code>letter-spacing</code></li>
</ul>
<h3 id="❤CSS尺寸设置的单位"><a href="#❤CSS尺寸设置的单位" class="headerlink" title="❤CSS尺寸设置的单位"></a>❤CSS尺寸设置的单位</h3><ul>
<li><code>px</code>和<code>em</code>都是长度单位，区别是，<code>px</code>的值是固定的，指定是多少就是多少，计算比较容易。<code>em</code>得值不是固定的，并且<code>em</code>会继承父级元素的字体大小。</li>
<li>浏览器的默认字体高都是<code>16px</code>。所以未经调整的浏览器都符合: <code>1em=16px</code>。那么<code>12px=0.75em</code>, <code>10px=0.625em</code>。</li>
</ul>
<blockquote>
<ul>
<li>px 相对于显示器屏幕分辨率，无法用浏览器字体放大功能</li>
<li>em 值并不是固定的，会继承父级的字体大小： em = 像素值 / 父级font-size</li>
</ul>
</blockquote>
<ul>
<li><strong>得分点</strong> px、rem、em、vw、vh</li>
<li><strong>标准回答</strong><ul>
<li><strong>px：</strong>pixel像素的缩写，绝对长度单位，它的大小取决于屏幕的分辨率，是开发网页中常常使用的单位。</li>
<li><strong>em：</strong>相对长度单位，在 <code>font-size</code> 中使用是相对于父元素的字体大小，在其他属性中使用是相对于自身的字体大小，如 width。如当前元素的字体尺寸未设置，由于字体大小可继承的原因，可逐级向上查找，最终找不到则相对于浏览器默认字体大小。</li>
<li><strong>rem：</strong>相对长度单位，相对于根元素的字体大小，根元素字体大小未设置，使用浏览器默认字体大小。</li>
<li><strong>vw：</strong>相对长度单位，相对于视窗宽度的1%。</li>
<li><strong>vh：</strong>相对长度单位，相对于视窗高度的1%。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li><strong>rem应用：</strong>在移动端网页开发中，页面要做成响应式的，可使用rem配合媒体查询或者flexible.js实现。</li>
<li>原理是通过媒体查询或者flexible.js，能够在屏幕尺寸发生改变时，重置html根元素的字体大小，页面中的元素都是使用rem为单位设置的尺寸，因此只要改变根元素字体大小，页面中的其他元素的尺寸就自动跟着修改</li>
<li><strong>vw应用：</strong>由于vw被更多浏览器兼容之后，在做移动端响应式页面时，通常使用vw配合rem。</li>
<li>原理是使用vw设置根元素html字体的大小，当窗口大小发生改变，vw代表的尺寸随着修改，无需加入媒体查询和flexible.js，页面中的其他元素仍使用rem为单位，就可实现响应式。</li>
</ul>
</li>
</ul>
<h3 id="Sass、LESS是什么？大家为什么要使用他们？"><a href="#Sass、LESS是什么？大家为什么要使用他们？" class="headerlink" title="Sass、LESS是什么？大家为什么要使用他们？"></a>Sass、LESS是什么？大家为什么要使用他们？</h3><ul>
<li>他们是<code>CSS</code>预处理器。他是<code>CSS</code>上的一种抽象层。他们是一种特殊的语法/语言编译成<code>CSS</code>。</li>
<li>例如Less是一种动态样式语言. 将CSS赋予了动态语言的特性，如变量，继承，运算， 函数. <code>LESS</code> 既可以在客户端上运行 (支持<code>IE 6+</code>, <code>Webkit</code>, <code>Firefox</code>)，也可一在服务端运行 (借助 <code>Node.js</code>)</li>
</ul>
<p><strong>为什么要使用它们？</strong></p>
<ul>
<li>结构清晰，便于扩展。</li>
<li>可以方便地屏蔽浏览器私有语法差异。这个不用多说，封装对- 浏览器语法差异的重复处理，减少无意义的机械劳动。</li>
<li>可以轻松实现多重继承。</li>
<li>完全兼容 CSS 代码，可以方便地应用到老项目中。LESS 只- 是在 CSS 语法上做了扩展，所以老的 CSS 代码也可以与 LESS 代码一同编译</li>
</ul>
<h3 id="知道css有个content属性吗？有什么作用？有什么应用？"><a href="#知道css有个content属性吗？有什么作用？有什么应用？" class="headerlink" title="知道css有个content属性吗？有什么作用？有什么应用？"></a>知道css有个content属性吗？有什么作用？有什么应用？</h3><blockquote>
<p>css的<code>content</code>属性专门应用在 <code>before/after</code>伪元素上，用于来插入生成内容。最常见的应用是利用伪类清除浮动。</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/**一种常见利用伪类清除浮动的代码**/</span>
<span class="token selector">.clearfix:after</span> <span class="token punctuation">&#123;</span>
    <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">"."</span><span class="token punctuation">;</span>       //这里利用到了content属性
    <span class="token property">display</span><span class="token punctuation">:</span>block<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    <span class="token property">visibility</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span>
    <span class="token property">clear</span><span class="token punctuation">:</span>both<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
<span class="token selector">.clearfix</span> <span class="token punctuation">&#123;</span>
    *<span class="token property">zoom</span><span class="token punctuation">:</span>1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="如何使用CSS实现硬件加速？"><a href="#如何使用CSS实现硬件加速？" class="headerlink" title="如何使用CSS实现硬件加速？"></a>如何使用CSS实现硬件加速？</h3><blockquote>
<p>硬件加速是指通过创建独立的复合图层，让GPU来渲染这个图层，从而提高性能，</p>
</blockquote>
<ul>
<li>一般触发硬件加速的<code>CSS</code>属性有<code>transform</code>、<code>opacity</code>、<code>filter</code>，为了避免2D动画在 开始和结束的时候的<code>repaint</code>操作，一般使用<code>tranform:translateZ(0)</code></li>
</ul>
<h3 id="说一说css3的animation"><a href="#说一说css3的animation" class="headerlink" title="说一说css3的animation"></a>说一说css3的animation</h3><ul>
<li>css3的<code>animation</code>是css3新增的动画属性，这个css3动画的每一帧是通过<code>@keyframes</code>来声明的，<code>keyframes</code>声明了动画的名称，通过<code>from</code>、<code>to</code>或者是百分比来定义</li>
<li>每一帧动画元素的状态，通过<code>animation-name</code>来引用这个动画，同时css3动画也可以定义动画运行的时长、动画开始时间、动画播放方向、动画循环次数、动画播放的方式，</li>
<li>这些相关的动画子属性有：<code>animation-name</code>定义动画名、<code>animation-duration</code>定义动画播放的时长、<code>animation-delay</code>定义动画延迟播放的时间、<code>animation-direction</code>定义 动画的播放方向、<code>animation-iteration-count</code>定义播放次数、<code>animation-fill-mode</code>定义动画播放之后的状态、<code>animation-play-state</code>定义播放状态，如暂停运行等、<code>animation-timing-function</code></li>
<li>定义播放的方式，如恒速播放、艰涩播放等。</li>
</ul>
<h3 id="如何实现小于12px的字体效果"><a href="#如何实现小于12px的字体效果" class="headerlink" title="如何实现小于12px的字体效果"></a>如何实现小于12px的字体效果</h3><blockquote>
<p><code>transform:scale()</code>这个属性只可以缩放可以定义宽高的元素，而行内元素是没有宽高的，我们可以加上一个<code>display:inline-block</code>;</p>
</blockquote>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">transform: scale(0.7);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><code>css</code>的属性，可以缩放大小</p>
<h3 id="css-hack原理及常用hack"><a href="#css-hack原理及常用hack" class="headerlink" title="css hack原理及常用hack"></a>css hack原理及常用hack</h3><ul>
<li>原理：利用不同浏览器对CSS的支持和解析结果不一样编写针对特定浏览器样式。</li>
<li>常见的hack有<ul>
<li>属性hack</li>
<li>选择器hack</li>
<li>IE条件注释</li>
</ul>
</li>
</ul>
<h3 id="外边距折叠-collapsing-margins"><a href="#外边距折叠-collapsing-margins" class="headerlink" title="外边距折叠(collapsing margins)"></a>外边距折叠(collapsing margins)</h3><ul>
<li>毗邻的两个或多个<code>margin</code>会合并成一个<code>margin</code>，叫做外边距折叠。规则如下：<ul>
<li>两个或多个毗邻的普通流中的块元素垂直方向上的<code>margin</code>会折叠</li>
<li>浮动元素或<code>inline-block</code>元素或绝对定位元素的<code>margin</code>不会和垂直方向上的其他元素的margin折叠</li>
<li>创建了块级格式化上下文的元素，不会和它的子元素发生margin折叠</li>
<li>元素自身的<code>margin-bottom</code>和<code>margin-top</code>相邻时也会折</li>
</ul>
</li>
</ul>
<h3 id="CSS选择符有哪些？哪些属性可以继承"><a href="#CSS选择符有哪些？哪些属性可以继承" class="headerlink" title="CSS选择符有哪些？哪些属性可以继承"></a>CSS选择符有哪些？哪些属性可以继承</h3><ul>
<li>id选择器（ <code>#myid</code>）</li>
<li>类选择器（<code>.myclassname</code>）</li>
<li>标签选择器（<code>div</code>, <code>h1</code>, <code>p</code>）</li>
<li>相邻选择器（<code>h1 + p</code>）</li>
<li>子选择器（<code>ul &gt; li</code>）</li>
<li>后代选择器（<code>li a</code>）</li>
<li>通配符选择器（ <code>*</code> ）</li>
<li>属性选择器（<code>a[rel = &quot;external&quot;]</code>）</li>
<li>伪类选择器（<code>a:hover, li:nth-child</code>）</li>
</ul>
<p><strong>CSS哪些属性可以继承？哪些属性不可以继承</strong></p>
<ul>
<li>可继承的样式： <code>font-size font-family color, UL LI DL DD DT</code></li>
<li>不可继承的样式：<code>border padding margin width height</code></li>
</ul>
<h3 id="CSS3新增伪类有那些"><a href="#CSS3新增伪类有那些" class="headerlink" title="CSS3新增伪类有那些"></a>CSS3新增伪类有那些</h3><ul>
<li><code>:root</code> 选择文档的根元素，等同于 html 元素</li>
<li><code>:empty</code> 选择没有子元素的元素</li>
<li><code>:target</code> 选取当前活动的目标元素</li>
<li><code>:not(selector)</code> 选择除 <code>selector</code> 元素意外的元素</li>
<li><code>:enabled</code> 选择可用的表单元素</li>
<li><code>:disabled</code> 选择禁用的表单元素</li>
<li><code>:checked</code> 选择被选中的表单元素</li>
<li><code>:after</code> 在元素内部最前添加内容</li>
<li><code>:before</code> 在元素内部最后添加内容</li>
<li><code>:nth-child(n)</code> 匹配父元素下指定子元素，在所有子元素中排序第n</li>
<li><code>:nth-last-child(n)</code> 匹配父元素下指定子元素，在所有子元素中排序第n，从后向前数</li>
<li><code>:nth-child(odd)</code></li>
<li><code>:nth-child(even)</code></li>
<li><code>:nth-child(3n+1)</code></li>
<li><code>:first-child</code></li>
<li><code>:last-child</code></li>
<li><code>:only-child</code></li>
<li><code>:nth-of-type(n)</code> 匹配父元素下指定子元素，在同类子元素中排序第n</li>
<li><code>:nth-last-of-type(n)</code> 匹配父元素下指定子元素，在同类子元素中排序第n，从后向前数</li>
<li><code>:nth-of-type(odd)</code></li>
<li><code>:nth-of-type(even)</code></li>
<li><code>:nth-of-type(3n+1)</code></li>
<li><code>:first-of-type</code></li>
<li><code>:last-of-type</code></li>
<li><code>:only-of-type</code></li>
<li><code>::selection</code> 选择被用户选取的元素部分</li>
<li><code>:first-line</code> 选择元素中的第一行</li>
<li><code>:first-letter</code> 选择元素中的第一个字符</li>
</ul>
<h3 id="用纯CSS创建一个三角形的原理是什么"><a href="#用纯CSS创建一个三角形的原理是什么" class="headerlink" title="用纯CSS创建一个三角形的原理是什么"></a>用纯CSS创建一个三角形的原理是什么</h3><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 把上、左、右三条边隐藏掉（颜色设为 transparent） */</span>
<span class="token selector">#demo</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">border-width</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> transparent transparent red transparent<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="一个满屏-品-字布局-如何设计"><a href="#一个满屏-品-字布局-如何设计" class="headerlink" title="一个满屏 品 字布局 如何设计?"></a>一个满屏 品 字布局 如何设计?</h3><ul>
<li>简单的方式：<ul>
<li>上面的<code>div</code>宽<code>100%</code>，</li>
<li>下面的两个<code>div</code>分别宽<code>50%</code>，</li>
<li>然后用<code>float</code>或者<code>inline</code>使其不换行即可</li>
</ul>
</li>
</ul>
<h3 id="li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法"><a href="#li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法" class="headerlink" title="li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法"></a>li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法</h3><blockquote>
<p>行框的排列会受到中间空白（回车\空格）等的影响，因为空格也属于字符,这些空白也会被应用样式，占据空间，所以会有间隔，把字符大小设为0，就没有空格了</p>
</blockquote>
<h3 id="为什么要初始化CSS样式-1"><a href="#为什么要初始化CSS样式-1" class="headerlink" title="为什么要初始化CSS样式"></a>为什么要初始化CSS样式</h3><blockquote>
<p>因为浏览器的兼容问题，不同浏览器对有些标签的默认值是不同的，如果没对CSS初始化往往会出现浏览器之间的页面显示差异</p>
</blockquote>
<h3 id="请列举几种隐藏元素的方法"><a href="#请列举几种隐藏元素的方法" class="headerlink" title="请列举几种隐藏元素的方法"></a>请列举几种隐藏元素的方法</h3><ul>
<li><code>visibility: hidden;</code> 这个属性只是简单的隐藏某个元素，但是元素占用的空间任然存在</li>
<li><code>opacity: 0;</code> <code>CSS3</code>属性，设置<code>0</code>可以使一个元素完全透明</li>
<li><code>position: absolute;</code> 设置一个很大的 <code>left</code> 负值定位，使元素定位在可见区域之外</li>
<li><code>display: none;</code> 元素会变得不可见，并且不会再占用文档的空间。</li>
<li><code>transform: scale(0);</code> 将一个元素设置为缩放无限小，元素将不可见，元素原来所在的位置将被保留</li>
<li><code>&lt;div hidden=&quot;hidden&quot;&gt;</code> HTML5属性,效果和<code>display:none;</code>相同，但这个属性用于记录一个元素的状态</li>
<li><code>height: 0;</code> 将元素高度设为 <code>0</code> ，并消除边框</li>
<li><code>filter: blur(0);</code> CSS3属性，将一个元素的模糊度设置为<code>0</code>，从而使这个元素“消失”在页面中</li>
</ul>
<h3 id="rgba-和-opacity-的透明效果有什么不同"><a href="#rgba-和-opacity-的透明效果有什么不同" class="headerlink" title="rgba() 和 opacity 的透明效果有什么不同"></a>rgba() 和 opacity 的透明效果有什么不同</h3><ul>
<li><code>opacity</code> 作用于元素以及元素内的所有内容（包括文字）的透明度</li>
<li><code>rgba()</code> 只作用于元素自身的颜色或其背景色，子元素不会继承透明效果</li>
</ul>
<h3 id="css-属性-content-有什么作用"><a href="#css-属性-content-有什么作用" class="headerlink" title="css 属性 content 有什么作用"></a>css 属性 content 有什么作用</h3><ul>
<li>content 属性专门应用在 before/after 伪元素上，用于插入额外内容或样式</li>
</ul>
<h3 id="请解释一下-CSS3-的-Flexbox（弹性盒布局模型）以及适用场景"><a href="#请解释一下-CSS3-的-Flexbox（弹性盒布局模型）以及适用场景" class="headerlink" title="请解释一下 CSS3 的 Flexbox（弹性盒布局模型）以及适用场景"></a>请解释一下 CSS3 的 Flexbox（弹性盒布局模型）以及适用场景</h3><blockquote>
<p>1Flexbox1 用于不同尺寸屏幕中创建可自动扩展和收缩布局</p>
</blockquote>
<h3 id="经常遇到的浏览器的JS兼容性有哪些？解决方法是什么"><a href="#经常遇到的浏览器的JS兼容性有哪些？解决方法是什么" class="headerlink" title="经常遇到的浏览器的JS兼容性有哪些？解决方法是什么"></a>经常遇到的浏览器的JS兼容性有哪些？解决方法是什么</h3><ul>
<li>当前样式：<code>getComputedStyle(el, null) VS el.currentStyle</code></li>
<li>事件对象：<code>e VS window.event</code></li>
<li>鼠标坐标：<code>e.pageX, e.pageY VS window.event.x, window.event.y</code></li>
<li>按键码：<code>e.which VS event.keyCode</code></li>
<li>文本节点：<code>el.textContent VS el.innerText</code></li>
</ul>
<h3 id="CSS优化、提高性能的方法有哪些"><a href="#CSS优化、提高性能的方法有哪些" class="headerlink" title="CSS优化、提高性能的方法有哪些"></a>CSS优化、提高性能的方法有哪些</h3><ul>
<li>多个<code>css</code>合并，尽量减少<code>HTTP</code>请求</li>
<li>将<code>css</code>文件放在页面最上面</li>
<li>移除空的<code>css</code>规则</li>
<li>避免使用<code>CSS</code>表达式</li>
<li>选择器优化嵌套，尽量避免层级过深</li>
<li>充分利用<code>css</code>继承属性，减少代码量</li>
<li>抽象提取公共样式，减少代码量</li>
<li>属性值为<code>0</code>时，不加单位</li>
<li>属性值为小于<code>1</code>的小数时，省略小数点前面的0</li>
<li><code>css</code>雪碧图</li>
</ul>
<h3 id="浏览器是怎样解析CSS选择器的"><a href="#浏览器是怎样解析CSS选择器的" class="headerlink" title="浏览器是怎样解析CSS选择器的"></a>浏览器是怎样解析CSS选择器的</h3><ul>
<li>浏览器解析 CSS 选择器的方式是从右到左</li>
</ul>
<h3 id="在网页中的应该使用奇数还是偶数的字体"><a href="#在网页中的应该使用奇数还是偶数的字体" class="headerlink" title="在网页中的应该使用奇数还是偶数的字体"></a>在网页中的应该使用奇数还是偶数的字体</h3><ul>
<li>在网页中的应该使用“偶数”字体：<ul>
<li>偶数字号相对更容易和 web 设计的其他部分构成比例关系</li>
<li>使用奇数号字体时文本段落无法对齐</li>
<li>宋体的中文网页排布中使用最多的就是 12 和 14</li>
</ul>
</li>
</ul>
<h3 id="抽离样式模块怎么写，说出思路"><a href="#抽离样式模块怎么写，说出思路" class="headerlink" title="抽离样式模块怎么写，说出思路"></a>抽离样式模块怎么写，说出思路</h3><ul>
<li>CSS可以拆分成2部分：公共CSS 和 业务CSS：<ul>
<li>网站的配色，字体，交互提取出为公共CSS。这部分CSS命名不应涉及具体的业务</li>
<li>对于业务CSS，需要有统一的命名，使用公用的前缀。可以参考面向对象的CSS</li>
</ul>
</li>
</ul>
<h3 id="元素竖向的百分比设定是相对于容器的高度吗"><a href="#元素竖向的百分比设定是相对于容器的高度吗" class="headerlink" title="元素竖向的百分比设定是相对于容器的高度吗"></a>元素竖向的百分比设定是相对于容器的高度吗</h3><blockquote>
<p>元素竖向的百分比设定是相对于容器的宽度，而不是高度</p>
</blockquote>
<h3 id="全屏滚动的原理是什么？-用到了CSS的那些属性"><a href="#全屏滚动的原理是什么？-用到了CSS的那些属性" class="headerlink" title="全屏滚动的原理是什么？ 用到了CSS的那些属性"></a>全屏滚动的原理是什么？ 用到了CSS的那些属性</h3><ul>
<li>原理类似图片轮播原理，超出隐藏部分，滚动时显示</li>
<li>可能用到的CSS属性：<code>overflow:hidden; transform:translate(100%, 100%); display:none;</code></li>
</ul>
<h3 id="什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE"><a href="#什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE" class="headerlink" title="什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE"></a>什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE</h3><ul>
<li>响应式设计就是网站能够兼容多个终端，而不是为每个终端做一个特定的版本</li>
<li>基本原理是利用CSS3媒体查询，为不同尺寸的设备适配不同样式</li>
<li>对于低版本的IE，可采用JS获取屏幕宽度，然后通过resize方法来实现兼容：</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">screenRespond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">screenRespond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">screenRespond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> screenWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>screenWidth <span class="token operator">&lt;=</span> <span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> <span class="token string">"w1800"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>screenWidth <span class="token operator">&lt;=</span> <span class="token number">1400</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> <span class="token string">"w1400"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>screenWidth <span class="token operator">></span> <span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="什么是视差滚动效果，如何给每页做不同的动画"><a href="#什么是视差滚动效果，如何给每页做不同的动画" class="headerlink" title="什么是视差滚动效果，如何给每页做不同的动画"></a>什么是视差滚动效果，如何给每页做不同的动画</h3><ul>
<li>视差滚动是指多层背景以不同的速度移动，形成立体的运动效果，具有非常出色的视觉体验</li>
<li>一般把网页解剖为：背景层、内容层和悬浮层。当滚动鼠标滚轮时，各图层以不同速度移动，形成视差的</li>
<li>实现原理<ul>
<li>以 “页面滚动条” 作为 “视差动画进度条”</li>
<li>以 “滚轮刻度” 当作 “动画帧度” 去播放动画的</li>
<li>监听 mousewheel 事件，事件被触发即播放动画，实现“翻页”效果</li>
</ul>
</li>
</ul>
<h3 id="a标签上四个伪类的执行顺序是怎么样的"><a href="#a标签上四个伪类的执行顺序是怎么样的" class="headerlink" title="a标签上四个伪类的执行顺序是怎么样的"></a>a标签上四个伪类的执行顺序是怎么样的</h3><blockquote>
<pre class="line-numbers language-none"><code class="language-none">link &gt; visited &gt; hover &gt; active<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<ul>
<li><code>L-V-H-A</code> <code>love hate</code> 用喜欢和讨厌两个词来方便记忆</li>
</ul>
<h3 id="伪元素和伪类的区别和作用"><a href="#伪元素和伪类的区别和作用" class="headerlink" title="伪元素和伪类的区别和作用"></a>伪元素和伪类的区别和作用</h3><ul>
<li>伪元素 – 在内容元素的前后插入额外的元素或样式，但是这些元素实际上并不在文档中生成。</li>
<li>它们只在外部显示可见，但不会在文档的源代码中找到它们，因此，称为“伪”元素。例如：</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">p::before</span> <span class="token punctuation">&#123;</span><span class="token property">content</span><span class="token punctuation">:</span><span class="token string">"第一章："</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">p::after</span> <span class="token punctuation">&#123;</span><span class="token property">content</span><span class="token punctuation">:</span><span class="token string">"Hot!"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">p::first-line</span> <span class="token punctuation">&#123;</span><span class="token property">background</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">p::first-letter</span> <span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>伪类 – 将特殊的效果添加到特定选择器上。它是已有元素上添加类别的，不会产生新的元素。例如：</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">a:hover</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #FF00FF<span class="token punctuation">&#125;</span>
<span class="token selector">p:first-child</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="before-和-after-中双冒号和单冒号有什么区别"><a href="#before-和-after-中双冒号和单冒号有什么区别" class="headerlink" title="::before 和 :after 中双冒号和单冒号有什么区别"></a>::before 和 :after 中双冒号和单冒号有什么区别</h3><ul>
<li>在 CSS 中伪类一直用 <code>:</code> 表示，如 <code>:hover</code>, <code>:active</code> 等</li>
<li>伪元素在CSS1中已存在，当时语法是用 <code>:</code> 表示，如 <code>:before</code> 和 <code>:after</code></li>
<li>后来在CSS3中修订，伪元素用 <code>::</code> 表示，如 <code>::before</code> 和 <code>::after</code>，以此区分伪元素和伪类</li>
<li>由于低版本IE对双冒号不兼容，开发者为了兼容性各浏览器，继续使使用 :after 这种老语法表示伪元素</li>
<li>综上所述：<code>::before</code> 是 <code>CSS3</code> 中写伪元素的新语法； <code>:after</code> 是 <code>CSS1</code> 中存在的、兼容IE的老语法</li>
</ul>
<h3 id="如何修改Chrome记住密码后自动填充表单的黄色背景"><a href="#如何修改Chrome记住密码后自动填充表单的黄色背景" class="headerlink" title="如何修改Chrome记住密码后自动填充表单的黄色背景"></a>如何修改Chrome记住密码后自动填充表单的黄色背景</h3><ul>
<li>产生原因：由于Chrome默认会给自动填充的input表单加上 <code>input:-webkit-autofill</code> 私有属性造成的</li>
<li>解决方案1：在form标签上直接关闭了表单的自动填充：<code>autocomplete=&quot;off&quot;</code></li>
<li>解决方案2：<code>input:-webkit-autofill &#123; background-color: transparent; &#125;</code></li>
</ul>
<p><strong>input [type=search] 搜索框右侧小图标如何美化？</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">input[type="search"]::-webkit-search-cancel-button</span><span class="token punctuation">&#123;</span>
  <span class="token property">-webkit-appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"images/searchicon.png"</span><span class="token punctuation">)</span></span> no-repeat 0 0<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> 15px 15px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="网站图片文件，如何点击下载？而非点击预览"><a href="#网站图片文件，如何点击下载？而非点击预览" class="headerlink" title="网站图片文件，如何点击下载？而非点击预览"></a>网站图片文件，如何点击下载？而非点击预览</h3><p><code>&lt;a href=&quot;logo.jpg&quot; download&gt;下载&lt;/a&gt;</code> <code>&lt;a href=&quot;logo.jpg&quot; download=&quot;网站LOGO&quot; &gt;下载&lt;/a&gt;</code></p>
<h3 id="line-height-是如何理解的"><a href="#line-height-是如何理解的" class="headerlink" title="line-height 是如何理解的"></a>line-height 是如何理解的</h3><ul>
<li><code>line-height</code> 指一行字的高度，包含了字间距，实际上是下一行基线到上一行基线距离</li>
<li>如果一个标签没有定义 <code>height</code> 属性，那么其最终表现的高度是由 <code>line-height</code> 决定的</li>
<li>一个容器没有设置高度，那么撑开容器高度的是 <code>line-height</code> 而不是容器内的文字内容</li>
<li>把 <code>line-height</code> 值设置为 <code>height</code> 一样大小的值可以实现单行文字的垂直居中</li>
<li><code>line-height</code> 和 <code>height</code> 都能撑开一个高度，<code>height</code> 会触发 <code>haslayout</code>，而 <code>line-height</code> 不会</li>
</ul>
<h3 id="line-height-三种赋值方式有何区别？（带单位、纯数字、百分比）"><a href="#line-height-三种赋值方式有何区别？（带单位、纯数字、百分比）" class="headerlink" title="line-height 三种赋值方式有何区别？（带单位、纯数字、百分比）"></a>line-height 三种赋值方式有何区别？（带单位、纯数字、百分比）</h3><ul>
<li>带单位：<code>px</code> 是固定值，而 <code>em</code> 会参考父元素 <code>font-size</code> 值计算自身的行高</li>
<li>纯数字：会把比例传递给后代。例如，父级行高为 <code>1.5</code>，子元素字体为 <code>18px</code>，则子元素行高为 <code>1.5 * 18 = 27px</code></li>
<li>百分比：将计算后的值传递给后代</li>
</ul>
<h3 id="设置元素浮动后，该元素的-display-值会如何变化"><a href="#设置元素浮动后，该元素的-display-值会如何变化" class="headerlink" title="设置元素浮动后，该元素的 display 值会如何变化"></a>设置元素浮动后，该元素的 display 值会如何变化</h3><blockquote>
<p>设置元素浮动后，该元素的 <code>display</code> 值自动变成 <code>block</code></p>
</blockquote>
<h3 id="让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）"><a href="#让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）" class="headerlink" title="让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）"></a>让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）</h3><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="font-style-属性-oblique-是什么意思"><a href="#font-style-属性-oblique-是什么意思" class="headerlink" title="font-style 属性 oblique 是什么意思"></a>font-style 属性 oblique 是什么意思</h3><blockquote>
<p><code>font-style: oblique;</code> 使没有 <code>italic</code> 属性的文字实现倾斜</p>
</blockquote>
<h3 id="display-inline-block-什么时候会显示间隙"><a href="#display-inline-block-什么时候会显示间隙" class="headerlink" title="display:inline-block 什么时候会显示间隙"></a>display:inline-block 什么时候会显示间隙</h3><ul>
<li>相邻的 <code>inline-block</code> 元素之间有换行或空格分隔的情况下会产生间距</li>
<li>非 <code>inline-block</code> 水平元素设置为 <code>inline-block</code> 也会有水平间距</li>
<li>可以借助 <code>vertical-align:top;</code> 消除垂直间隙</li>
<li>可以在父级加 <code>font-size：0;</code> 在子元素里设置需要的字体大小，消除垂直间隙</li>
<li>把 <code>li</code> 标签写到同一行可以消除垂直间隙，但代码可读性差</li>
</ul>
<h3 id="一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度"><a href="#一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度" class="headerlink" title="一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度"></a>一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度</h3><ul>
<li>方案1：<ul>
<li><code>.sub &#123; height: calc(100%-100px); &#125;</code></li>
</ul>
</li>
<li>方案2：<ul>
<li><code>.container &#123; position:relative; &#125;</code></li>
<li><code>.sub &#123; position: absolute; top: 100px; bottom: 0; &#125;</code></li>
</ul>
</li>
<li>方案3：<ul>
<li><code>.container &#123; display:flex; flex-direction:column; &#125;</code></li>
<li><code>.sub &#123; flex:1; &#125;</code></li>
</ul>
</li>
</ul>
<h3 id="iOS-safari-如何阻止“橡皮筋效果”"><a href="#iOS-safari-如何阻止“橡皮筋效果”" class="headerlink" title="iOS safari 如何阻止“橡皮筋效果”"></a>iOS safari 如何阻止“橡皮筋效果”</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">stopScrolling</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span> stopScrolling<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchmove'</span><span class="token punctuation">,</span> stopScrolling<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>前端 面试</tag>
      </tags>
  </entry>
  <entry>
    <title>浏览器</title>
    <url>/2022/07/27/%E6%B5%8F%E8%A7%88%E5%99%A8/</url>
    <content><![CDATA[<p>介绍目前常见前端面试题，浏览器基础题</p>
<span id="more"></span>

<p><img data-src="https://s.poetries.work/images/20210415090353.png" alt="img"></p>
<h3 id="❤浏览器架构"><a href="#❤浏览器架构" class="headerlink" title="❤浏览器架构"></a>❤浏览器架构</h3><p><strong>单进程浏览器时代</strong></p>
<blockquote>
<p>单进程浏览器是指浏览器的所有功能模块都是运行在同一个进程里，这些模块包含了网络、插件、JavaScript运行环境、渲染引擎和页面等。其实早在2007年之前，市面上浏览器都是单进程的</p>
</blockquote>
<p><img data-src="https://s.poetries.work/images/20210415092040.png" alt="img"></p>
<ul>
<li>缺点<ul>
<li>不稳定：一个插件的意外崩溃会引起整个浏览器的崩溃</li>
<li>不流畅：所有页面的渲染模块、JavaScript执行环境以及插件都是运行在同一个线程中的，这就意味着同一时刻只能有一个模块可以执行</li>
<li>不安全：可以通过浏览器的漏洞来获取系统权限，这些脚本获取系统权限之后也可以对你的电脑做一些恶意的事情，同样也会引发安全问题</li>
</ul>
</li>
<li>以上这些就是当时浏览器的特点，<code>不稳定，不流畅，而且不安全</code></li>
</ul>
<p><strong>多进程浏览器时代</strong></p>
<ul>
<li>由于<code>进程是相互隔离的</code>，所以当一个页面或者插件崩溃时，影响到的仅仅是当前的页面进程或者插件进程，并不会影响到浏览器和其他页面，这就完美地解决了页面或者插件的崩溃会导致整个浏览器崩溃，也就是不稳定的问题</li>
<li>JavaScript也是运行在渲染进程中的，所以即使JavaScript阻塞了渲染进程，影响到的也只是当前的渲染页面，而并不会影响浏览器和其他页面，因为其他页面的脚本是运行在它们自己的渲染进程中的</li>
<li>Chrome把插件进程和渲染进程锁在沙箱里面，这样即使在渲染进程或者插件进程里面执行了恶意程序，恶意程序也无法突破沙箱去获取系统权限。</li>
</ul>
<p><img data-src="https://s.poetries.work/images/20210415092356.png" alt="img"></p>
<blockquote>
<p>最新的Chrome浏览器包括：<code>1个浏览器（Browser）主进程</code>、<code>1个 GPU 进程</code>、<code>1个网络（NetWork）进程</code>、<code>多个渲染进程</code>和<code>多个插件进程</code></p>
</blockquote>
<ul>
<li><strong>浏览器进程</strong>。主要负责界面显示、用户交互、子进程管理，同时提供存储等功能。</li>
<li><strong>渲染进程</strong>。核心任务是将 <code>HTML、CSS</code> 和 JavaScript 转换为用户可以与之交互的网页，排版引擎Blink和JavaScript引擎V8都是运行在该进程中，默认情况下，Chrome会为每个Tab标签创建一个渲染进程。出于安全考虑，渲染进程都是运行在沙箱模式下。</li>
<li><strong>GPU进程</strong>。其实，Chrome刚开始发布的时候是没有GPU进程的。而GPU的使用初衷是为了实现3D CSS的效果，只是随后网页、Chrome的UI界面都选择采用GPU来绘制，这使得GPU成为浏览器普遍的需求。最后，Chrome在其多进程架构上也引入了GPU进程。</li>
<li><strong>网络进程</strong>。主要负责页面的网络资源加载，之前是作为一个模块运行在浏览器进程里面的，直至最近才独立出来，成为一个单独的进程。</li>
<li><strong>插件进程</strong>。主要是负责插件的运行，因插件易崩溃，所以需要通过插件进程来隔离，以保证插件进程崩溃不会对浏览器和页面造成影响</li>
</ul>
<h3 id="❤JavaScript单线程模型"><a href="#❤JavaScript单线程模型" class="headerlink" title="❤JavaScript单线程模型"></a>❤JavaScript单线程模型</h3><blockquote>
<p>JavaScript语言的一大特点就是单线程，也就是说，同一时间只能做一件事，前面的任务没做完，后面的任务只能等着。</p>
</blockquote>
<p><strong>1. 为什么JavaScript是单线程的呢?</strong></p>
<ul>
<li>这主要与JavaScript用途有关。它的主要用途是与用户互动，以及操作DOM。如果JavaScript是多线程的，会带来很多复杂的问题，假如 JavaScript有A和B两个线程，A线程在DOM节点上添加了内容，B线程删除了这个节点，应该是哪个为准呢? 所以，为了避免复杂性，所以设计成了单线程。</li>
<li>虽然 HTML5 提出了Web Worker标准。Web Worker 的作用，就是为 JavaScript 创造多线程环境，允许主线程创建 Worker 线程，将一些任务分配给后者运行。但是子线程完全受主线程控制，且不得操作DOM。所以这个并没有改变JavaScript单线程的本质。一般使用 Web Worker 的场景是代码中有很多计算密集型或高延迟的任务，可以考虑分配给 Worker 线程。</li>
<li>但是使用的时候一定要注意，worker 线程是为了让你的程序跑的更快，但是如果 worker 线程和主线程之间通信的时间大于了你不使用worker线程的时间，结果就得不偿失了。</li>
</ul>
<p><strong>2. 浏览器内核中线程之间的关系</strong></p>
<ul>
<li>GUI渲染线程和JS引擎线程互斥<ul>
<li>js是可以操作DOM的，如果在修改这些元素的同时渲染页面（js线程和ui线程同时运行），那么渲染线程前后获得的元素数据可能就不一致了。</li>
</ul>
</li>
<li>JS阻塞页面加载<ul>
<li>js如果执行时间过长就会阻塞页面</li>
</ul>
</li>
</ul>
<p><strong>3. 浏览器是多进程的优点</strong></p>
<ul>
<li>默认新开 一个 tab 页面 新建 一个进程,所以单个 tab 页面崩溃不会影响到整个浏览器。</li>
<li>第三方插件崩溃也不会影响到整个浏览器。</li>
<li>多进程可以充分利用现代 CPU 多核的优势。</li>
<li>方便使用沙盒模型隔离插件等进程,提高浏览器的稳定性。</li>
</ul>
<p><strong>4. 进程和线程又是什么呢</strong></p>
<p>进程（process）和线程（thread）是操作系统的基本概念。</p>
<ul>
<li>进程是 CPU 资源分配的最小单位（是能拥有资源和独立运行的最小单位）。</li>
<li>线程是 CPU 调度的最小单位（是建立在进程基础上的一次程序运行单位）。</li>
</ul>
<blockquote>
<p>由于每个进程至少要做一件事,所以一个进程至少有一个线程。系统会给每个进程分配独立的内存,因此进程有它独立的资源。同一进程内的各个线程之间共享该进程的内存空间（包括代码段,数据集,堆等）。</p>
</blockquote>
<p>进程可以理解为一个工厂不不同车间，相互独立。线程是车间里的工人，可以自己做自己的事情,也可以相互配合做同一件事情。</p>
<p><strong>5. 任务队列</strong></p>
<ul>
<li>单线程就意味着，所有任务都要排队执行，前一个任务结束，才会执行后一个任务。</li>
<li>如果一个任务需要执行，但此时JavaScript引擎正在执行其他任务，那么这个任务就需要放到一个队列中进行等待。等到线程空闲时，就可以从这个队列中取出最早加入的任务进行执行（类似于我们去银行排队办理业务，单线程相当于说这家银行只有一个服务窗口，一次只能为一个人服务，后面到的就需要排队，而任务队列就是排队区，先到的就优先服务）</li>
</ul>
<p><strong>注意：</strong> 如果当前线程空闲，并且队列为空，那每次加入队列的函数将立即执行。</p>
<blockquote>
<p>为什么会有任务队列？ 由于 JS 是单线程的，同步执行任务会造成浏览器的阻塞，所以我们将 JS 分成一个又一个的任务，通过不停的循环来执行事件队列中的任务。</p>
</blockquote>
<h3 id="❤Chrome-打开一个页面需要启动多少进程？分别有哪些进程？"><a href="#❤Chrome-打开一个页面需要启动多少进程？分别有哪些进程？" class="headerlink" title="❤Chrome 打开一个页面需要启动多少进程？分别有哪些进程？"></a>❤Chrome 打开一个页面需要启动多少进程？分别有哪些进程？</h3><p>打开 1 个页面至少需要 1 个网络进程、1 个浏览器进程、1 个 GPU 进程以及 1 个渲染进程，共 4 个；最新的 Chrome 浏览器包括：1 个浏览器（Browser）主进程、1 个 GPU 进程、1 个网络（NetWork）进程、多个渲染进程和多个插件进程。</p>
<ul>
<li><code>浏览器进程</code>：主要负责界面显示、用户交互、子进程管理，同时提供存储等功能。</li>
<li><code>渲染进程</code>：核心任务是将 HTML、CSS 和 JavaScript 转换为用户可以与之交互的网页，排版引擎 Blink 和 JavaScript 引擎 V8 都是运行在该进程中，默认情况下，Chrome 会为每个 Tab 标签创建一个渲染进程。出于安全考虑，渲染进程都是运行在沙箱模式下。</li>
<li><code>GPU 进程</code>：其实，Chrome 刚开始发布的时候是没有 GPU 进程的。而 GPU 的使用初衷是为了实现 3D CSS 的效果，只是随后网页、Chrome 的 UI 界面都选择采用 GPU 来绘制，这使得 GPU 成为浏览器普遍的需求。最后，Chrome 在其多进程架构上也引入了 GPU 进程。</li>
<li><code>网络进程</code>：主要负责页面的网络资源加载，之前是作为一个模块运行在浏览器进程里面的，直至最近才独立出来，成为一个单独的进程。</li>
<li><code>插件进程</code>：主要是负责插件的运行，因插件易崩溃，所以需要通过插件进程来隔离，以保证插件进程崩溃不会对浏览器和页面造成影响。</li>
</ul>
<h3 id="❤渲染机制"><a href="#❤渲染机制" class="headerlink" title="❤渲染机制"></a>❤渲染机制</h3><p><strong>1. 浏览器如何渲染网页</strong></p>
<p><strong>概述：浏览器渲染一共有五步</strong></p>
<ol>
<li>处理 <code>HTML</code> 并构建 <code>DOM</code> 树。</li>
<li>处理 <code>CSS</code>构建 <code>CSSOM</code> 树。</li>
<li>将 <code>DOM</code> 与 <code>CSSOM</code> 合并成一个渲染树。</li>
<li>根据渲染树来布局，计算每个节点的位置。</li>
<li>调用 <code>GPU</code> 绘制，合成图层，显示在屏幕上</li>
</ol>
<blockquote>
<p>第四步和第五步是最耗时的部分，这两步合起来，就是我们通常所说的渲染</p>
</blockquote>
<p>具体如下图过程如下图所示</p>
<p><img data-src="https://s.poetries.work/gitee/2019/10/19.png" alt="img"></p>
<p><img data-src="https://s.poetries.work/gitee/2019/10/20.png" alt="img"></p>
<p><strong>渲染</strong></p>
<ul>
<li>网页生成的时候，至少会渲染一次</li>
<li>在用户访问的过程中，还会不断重新渲染</li>
</ul>
<blockquote>
<p>重新渲染需要重复之前的第四步(重新生成布局)+第五步(重新绘制)或者只有第五个步(重新绘制)</p>
</blockquote>
<ul>
<li>在构建 <code>CSSOM</code> 树时，会阻塞渲染，直至 <code>CSSOM</code>树构建完成。并且构建 <code>CSSOM</code> 树是一个十分消耗性能的过程，所以应该尽量保证层级扁平，减少过度层叠，越是具体的 <code>CSS</code> 选择器，执行速度越慢</li>
<li>当 <code>HTML</code> 解析到 <code>script</code> 标签时，会暂停构建 <code>DOM</code>，完成后才会从暂停的地方重新开始。也就是说，如果你想首屏渲染的越快，就越不应该在首屏就加载 <code>JS</code> 文件。并且<code>CSS</code>也会影响 <code>JS</code> 的执行，只有当解析完样式表才会执行 <code>JS</code>，所以也可以认为这种情况下，<code>CSS</code> 也会暂停构建 <code>DOM</code></li>
</ul>
<p><strong>2. 浏览器渲染五个阶段</strong></p>
<p><strong>2.1 第一步：解析HTML标签，构建DOM树</strong></p>
<blockquote>
<p>在这个阶段，引擎开始解析<code>html</code>，解析出来的结果会成为一棵<code>dom</code>树 <code>dom</code>的目的至少有<code>2</code>个</p>
</blockquote>
<ul>
<li>作为下个阶段渲染树状图的输入</li>
<li>成为网页和脚本的交互界面。(最常用的就是<code>getElementById</code>等等)</li>
</ul>
<p><strong>当解析器到达script标签的时候，发生下面四件事情</strong></p>
<ol>
<li><code>html</code>解析器停止解析,</li>
<li>如果是外部脚本，就从外部网络获取脚本代码</li>
<li>将控制权交给<code>js</code>引擎，执行<code>js</code>代码</li>
<li>恢复<code>html</code>解析器的控制权</li>
</ol>
<blockquote>
<p>由此可以得到第一个结论1</p>
</blockquote>
<ul>
<li>由于<code>&lt;script&gt;</code>标签是阻塞解析的，将脚本放在网页尾部会加速代码渲染。</li>
<li><code>defer</code>和<code>async</code>属性也能有助于加载外部脚本。</li>
<li><code>defer</code>使得脚本会在<code>dom</code>完整构建之后执行；</li>
<li><code>async</code>标签使得脚本只有在完全<code>available</code>才执行，并且是以非阻塞的方式进行的</li>
</ul>
<p><strong>2.2 第二步：解析CSS标签，构建CSSOM树</strong></p>
<ul>
<li>我们已经看到<code>html</code>解析器碰到脚本后会做的事情，接下来我们看下<code>html</code>解析器碰到样式表会发生的情况</li>
<li><code>js</code>会阻塞解析，因为它会修改文档(<code>document</code>)。<code>css</code>不会修改文档的结构，如果这样的话，似乎看起来<code>css</code>样式不会阻塞浏览器<code>html</code>解析。但是事实上 <code>css</code>样式表是阻塞的。阻塞是指当<code>cssom</code>树建立好之后才会进行下一步的解析渲染</li>
</ul>
<p><strong>通过以下手段可以减轻cssom带来的影响</strong></p>
<ul>
<li>将<code>script</code>脚本放在页面底部</li>
<li>尽可能快的加载<code>css</code>样式表</li>
<li>将样式表按照<code>media type</code>和<code>media query</code>区分，这样有助于我们将<code>css</code>资源标记成非阻塞渲染的资源。</li>
<li>非阻塞的资源还是会被浏览器下载，只是优先级较低</li>
</ul>
<p><strong>2.3 第三步：把DOM和CSSOM组合成渲染树（render tree）</strong></p>
<p><img data-src="https://s.poetries.work/gitee/2019/10/21.png" alt="img"></p>
<p><strong>2.4 第四步：在渲染树的基础上进行布局，计算每个节点的几何结构</strong></p>
<blockquote>
<p>布局(<code>layout</code>)：定位坐标和大小，是否换行，各种<code>position</code>, <code>overflow</code>, <code>z-index</code>属性</p>
</blockquote>
<p><strong>2.5 调用 GPU 绘制，合成图层，显示在屏幕上</strong></p>
<blockquote>
<p>将渲染树的各个节点绘制到屏幕上，这一步被称为绘制<code>painting</code></p>
</blockquote>
<p><strong>3. 渲染优化相关</strong></p>
<p><strong>3.1 Load 和 DOMContentLoaded 区别</strong></p>
<ul>
<li><code>Load</code> 事件触发代表页面中的 <code>DOM</code>，<code>CSS</code>，<code>JS</code>，图片已经全部加载完毕。</li>
<li><code>DOMContentLoaded</code> 事件触发代表初始的 <code>HTML</code> 被完全加载和解析，不需要等待 <code>CSS</code>，<code>JS</code>，图片加载</li>
</ul>
<p><strong>3.2 图层</strong></p>
<blockquote>
<p>一般来说，可以把普通文档流看成一个图层。特定的属性可以生成一个新的图层。不同的图层渲染互不影响，所以对于某些频繁需要渲染的建议单独生成一个新图层，提高性能。但也不能生成过多的图层，会引起反作用。</p>
</blockquote>
<p><strong>通过以下几个常用属性可以生成新图层</strong></p>
<ul>
<li><code>3D</code> 变换：<code>translate3d</code>、<code>translateZ</code></li>
<li><code>will-change</code></li>
<li><code>video</code>、<code>iframe</code> 标签</li>
<li>通过动画实现的 <code>opacity</code> 动画转换</li>
<li><code>position: fixed</code></li>
</ul>
<p><strong>3.3 重绘（Repaint）和回流（Reflow）</strong></p>
<blockquote>
<p>重绘和回流是渲染步骤中的一小节，但是这两个步骤对于性能影响很大</p>
</blockquote>
<ul>
<li>重绘是当节点需要更改外观而不会影响布局的，比如改变 <code>color</code> 就叫称为重绘</li>
<li>回流是布局或者几何属性需要改变就称为回流。</li>
</ul>
<blockquote>
<p>回流必定会发生重绘，重绘不一定会引发回流。回流所需的成本比重绘高的多，改变深层次的节点很可能导致父节点的一系列回流</p>
</blockquote>
<p><strong>以下几个动作可能会导致性能问题</strong></p>
<ul>
<li>改变 <code>window</code> 大小</li>
<li>改变字体</li>
<li>添加或删除样式</li>
<li>文字改变</li>
<li>定位或者浮动</li>
<li>盒模型</li>
</ul>
<p><strong>很多人不知道的是，重绘和回流其实和 Event loop 有关</strong></p>
<ul>
<li>当 <code>Event loop</code> 执行完<code>Microtasks</code> 后，会判断 <code>document</code> 是否需要更新。因为浏览器是 <code>60Hz</code> 的刷新率，每 <code>16ms</code> 才会更新一次。</li>
<li>然后判断是否有 <code>resize</code> 或者 <code>scroll</code> ，有的话会去触发事件，所以 <code>resize</code> 和 <code>scroll</code> 事件也是至少 <code>16ms</code>才会触发一次，并且自带节流功能。</li>
<li>判断是否触发了 <code>media query</code></li>
<li>更新动画并且发送事件</li>
<li>判断是否有全屏操作事件</li>
<li>执行 <code>requestAnimationFrame</code> 回调</li>
<li>执行 <code>IntersectionObserver</code> 回调，该方法用于判断元素是否可见，可以用于懒加载上，但是兼容性不好</li>
<li>更新界面</li>
<li>以上就是一帧中可能会做的事情。如果在一帧中有空闲时间，就会去执行 <code>requestIdleCallback</code> 回调</li>
</ul>
<p><strong>常见的引起重绘的属性</strong></p>
<ul>
<li><code>color</code></li>
<li><code>border-style</code></li>
<li><code>visibility</code></li>
<li><code>background</code></li>
<li><code>text-decoration</code></li>
<li><code>background-image</code></li>
<li><code>background-position</code></li>
<li><code>background-repeat</code></li>
<li><code>outline-color</code></li>
<li><code>outline</code></li>
<li><code>outline-style</code></li>
<li><code>border-radius</code></li>
<li><code>outline-width</code></li>
<li><code>box-shadow</code></li>
<li><code>background-size</code></li>
</ul>
<p><strong>3.4 常见引起回流属性和方法</strong></p>
<blockquote>
<p>任何会改变元素几何信息(元素的位置和尺寸大小)的操作，都会触发重排，下面列一些栗子</p>
</blockquote>
<ul>
<li>添加或者删除可见的<code>DOM</code>元素；</li>
<li>元素尺寸改变——边距、填充、边框、宽度和高度</li>
<li>内容变化，比如用户在<code>input</code>框中输入文字</li>
<li>浏览器窗口尺寸改变——<code>resize</code>事件发生时</li>
<li>计算 <code>offsetWidth</code> 和 <code>offsetHeight</code> 属性</li>
<li>设置 <code>style</code> 属性的值</li>
</ul>
<p><strong>回流影响的范围</strong></p>
<blockquote>
<p>由于浏览器渲染界面是基于流失布局模型的，所以触发重排时会对周围DOM重新排列，影响的范围有两种</p>
</blockquote>
<ul>
<li>全局范围：从根节点<code>html</code>开始对整个渲染树进行重新布局。</li>
<li>局部范围：对渲染树的某部分或某一个渲染对象进行重新布局</li>
</ul>
<p><strong>全局范围回流</strong></p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">&lt;body&gt;
  &lt;div class&#x3D;&quot;hello&quot;&gt;
    &lt;h4&gt;hello&lt;&#x2F;h4&gt;
    &lt;p&gt;&lt;strong&gt;Name:&lt;&#x2F;strong&gt;BDing&lt;&#x2F;p&gt;
    &lt;h5&gt;male&lt;&#x2F;h5&gt;
    &lt;ol&gt;
      &lt;li&gt;coding&lt;&#x2F;li&gt;
      &lt;li&gt;loving&lt;&#x2F;li&gt;
    &lt;&#x2F;ol&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;body&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>当<code>p</code>节点上发生<code>reflow</code>时，<code>hello</code>和<code>body</code>也会重新渲染，甚至<code>h5</code>和<code>ol</code>都会收到影响</p>
</blockquote>
<p><strong>局部范围回流</strong></p>
<blockquote>
<p>用局部布局来解释这种现象：把一个<code>dom</code>的宽高之类的几何信息定死，然后在<code>dom</code>内部触发重排，就只会重新渲染该<code>dom</code>内部的元素，而不会影响到外界</p>
</blockquote>
<p><strong>3.5 减少重绘和回流</strong></p>
<blockquote>
<p>使用 <code>translate</code> 替代 <code>top</code></p>
</blockquote>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">&lt;div class&#x3D;&quot;test&quot;&gt;&lt;&#x2F;div&gt;
&lt;style&gt;
    .test &#123;
        position: absolute;
        top: 10px;
        width: 100px;
        height: 100px;
        background: red;
    &#125;
&lt;&#x2F;style&gt;
&lt;script&gt;
    setTimeout(() &#x3D;&gt; &#123;
        &#x2F;&#x2F; 引起回流
        document.querySelector(&#39;.test&#39;).style.top &#x3D; &#39;100px&#39;
    &#125;, 1000)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>使用 <code>visibility</code> 替换 <code>display: none</code> ，因为前者只会引起重绘，后者会引发回流（改变了布局）</li>
<li>把 <code>DOM</code> 离线后修改，比如：先把 <code>DOM</code> 给 <code>display:none</code> (有一次 <code>Reflow)</code>，然后你修改<code>100</code>次，然后再把它显示出来</li>
<li>不要把 <code>DOM</code> 结点的属性值放在一个循环里当成循环里的变量</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 获取 offsetTop 会导致回流，因为需要去获取正确的值</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.test'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>不要使用 <code>table</code> 布局，可能很小的一个小改动会造成整个 <code>table</code> 的重新布局</li>
<li>动画实现的速度的选择，动画速度越快，回流次数越多，也可以选择使用 <code>requestAnimationFrame</code></li>
<li><code>CSS</code>选择符从右往左匹配查找，避免 <code>DOM</code>深度过深</li>
<li>将频繁运行的动画变为图层，图层能够阻止该节点回流影响别的元素。比如对于 <code>video</code>标签，浏览器会自动将该节点变为图层。</li>
</ul>
<p><img data-src="https://s.poetries.work/gitee/2019/10/22.png" alt="img"></p>
<h3 id="服务端渲染"><a href="#服务端渲染" class="headerlink" title="服务端渲染"></a>服务端渲染</h3><ul>
<li><strong>得分点</strong> 服务器端生成HTML直接返回给浏览器、减少网络传输、首屏渲染快、对搜索引擎友好</li>
<li><strong>标准回答</strong><ul>
<li><strong>SSR</strong>是Server Side Render简称；页面上的内容是通过服务端渲染生成的，浏览器直接显示服务端返回的html就可以了。</li>
<li><strong>CSR</strong>是Client Side Render简称；客户端在请求时，服务端不做任何处理，直接将前端资源打包后生成的html返回给客户端，此时的html中无任何网页内容，需要客户端去加载执行js代码才能渲染生成页面内容，同时完成事件绑定，然后客户端再去通过ajax请求后端api获取数据更新视图。</li>
<li>服务端渲染的优势：减少网络传输，响应快，用户体验好，首屏渲染快，对搜索引擎友好，搜索引擎爬虫可以看到完整的程序源码，有利于SEO。</li>
<li>在Vue项目中实现服务端渲染方法：Vue在客户端渲染中也是采用一定方法将虚拟DOM渲染为真实DOM的，那么服务端的渲染流程也是通过虚拟DOM的编译来完成的，编译虚拟DOM的方法是renderToString。在Vue中，vue-server-renderer 提供一个名为 createBundleRenderer 的 API，这个API用于创建一个 render，并且自带renderToString方法。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>使用服务器端渲染 (SSR) 时还需要有一些权衡之处：<ul>
<li>开发条件所限。浏览器特定的代码，只能在某些生命周期钩子函数 (lifecycle hook) 中使用；一些外部扩展库 (external library) 可能需要特殊处理，才能在服务器渲染应用程序中运行。</li>
<li>涉及构建设置和部署的更多要求。与可以部署在任何静态文件服务器上的完全静态单页面应用程序 (SPA) 不同，服务器渲染应用程序，需要处于 Node.js server 运行环境。</li>
<li>更多的服务器端负载。在 Node.js 中渲染完整的应用程序，显然会比仅仅提供静态文件的 server 更加大量占用 CPU 资源 (CPU-intensive - CPU 密集)，因此如果你预料在高流量环境 (high traffic) 下使用，请准备相应的服务器负载，并明智地采用缓存策略。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="浏览器渲染过程"><a href="#浏览器渲染过程" class="headerlink" title="浏览器渲染过程"></a>浏览器渲染过程</h3><ul>
<li><strong>得分点</strong> dom树、stylesheet、布局树、分层、光栅化、合成</li>
<li><strong>标准回答</strong><ul>
<li>浏览器拿到HTML，先将HTML转换成dom树，再将CSS样式转换成stylesheet，根据dom树和stylesheet创建布局树，对布局树进行分层，为每个图层生成绘制列表，再将图层分成图块，紧接着光栅化将图块转换成位图，最后合成绘制生成页面。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>分层的目的：避免整个页面渲染，把页面分成多个图层，尤其是动画的时候，把动画独立出一个图层，渲染时只渲染该图层就ok，transform，z-index等，浏览器会自动优化生成图层</li>
<li>光栅化目的：页面如果很长但是可视区很小，避免渲染非可视区的样式造成资源浪费，所以将每个图层又划分成多个小个子，当前只渲染可视区附近区域</li>
</ul>
</li>
</ul>
<h3 id="❤缓存机制"><a href="#❤缓存机制" class="headerlink" title="❤缓存机制"></a>❤缓存机制</h3><p><strong>1. 首先得明确 http 缓存的好处</strong></p>
<ul>
<li>减少了冗余的数据传输，减少网费</li>
<li>减少服务器端的压力</li>
<li><code>Web</code> 缓存能够减少延迟与网络阻塞，进而减少显示某个资源所用的时间</li>
<li>加快客户端加载网页的速度</li>
</ul>
<p><strong>2. 常见 http 缓存的类型</strong></p>
<ul>
<li>私有缓存（一般为本地浏览器缓存）</li>
<li>代理缓存</li>
</ul>
<p><strong>3. 然后谈谈本地缓存</strong></p>
<blockquote>
<p>本地缓存是指浏览器请求资源时命中了浏览器本地的缓存资源，浏览器并不会发送真正的请求给服务器了。它的执行过程是</p>
</blockquote>
<ul>
<li>第一次浏览器发送请求给服务器时，此时浏览器还没有本地缓存副本，服务器返回资源给浏览器，响应码是<code>200 OK</code>，浏览器收到资源后，把资源和对应的响应头一起缓存下来</li>
<li>第二次浏览器准备发送请求给服务器时候，浏览器会先检查上一次服务端返回的响应头信息中的<code>Cache-Control</code>，它的值是一个相对值，单位为秒，表示资源在客户端缓存的最大有效期，过期时间为第一次请求的时间减去<code>Cache-Control</code>的值，过期时间跟当前的请求时间比较，如果本地缓存资源没过期，那么命中缓存，不再请求服务器</li>
<li>如果没有命中，浏览器就会把请求发送给服务器，进入缓存协商阶段。</li>
</ul>
<blockquote>
<p>与本地缓存相关的头有：<code>Cache-Control</code>、<code>Expires</code>，<code>Cache-Control</code>有多个可选值代表不同的意义，而<code>Expires</code>就是一个日期格式的绝对值。</p>
</blockquote>
<p><strong>3.1 Cache-Control</strong></p>
<blockquote>
<p><code>Cache-Control</code>是<code>HTPP</code>缓存策略中最重要的头，它是<code>HTTP/1.1</code>中出现的，它由如下几个值</p>
</blockquote>
<ul>
<li><code>no-cache</code>：不使用本地缓存。需要使用缓存协商，先与服务器确认返回的响应是否被更改，如果之前的响应中存在<code>ETag</code>，那么请求的时候会与服务端验证，如果资源未被更改，则可以避免重新下载</li>
<li><code>no-store</code>：直接禁止游览器缓存数据，每次用户请求该资源，都会向服务器发送一个请求，每次都会下载完整的资源</li>
<li><code>public</code>：可以被所有的用户缓存，包括终端用户和<code>CDN</code>等中间代理服务器。</li>
<li><code>private</code>：只能被终端用户的浏览器缓存，不允许<code>CDN</code>等中继缓存服务器对其缓存。</li>
<li><code>max-age</code>：从当前请求开始，允许获取的响应被重用的最长时间（秒）。</li>
<li><code>must-revalidate</code>，当缓存过期时，需要去服务端校验缓存的有效性。</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 例如：</span>
Cache-Control: public, max-age<span class="token operator">=</span><span class="token number">1000</span>
<span class="token comment"># 表示资源可以被所有用户以及代理服务器缓存，最长时间为1000秒。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>注意，虽然你可能在其他资料中看到可以使用 meta 标签来设置缓存，比如像下面的形式：</p>
</blockquote>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">&lt;meta http-equiv&#x3D;&quot;expires&quot; content&#x3D;&quot;Wed, 20 Jun 2021 22:33:00 GMT&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>但在 HTML5 规范中，并不支持这种方式，所以<code>尽量不要使用 meta 标签来设置缓存</code>。</p>
<p><strong>3.2 Expires</strong></p>
<blockquote>
<p><code>Expires</code>是<code>HTTP/1.0</code>出现的头信息，同样是用于决定本地缓存策略的头，它是一个绝对时间，时间格式是如<code>Mon, 10 Jun 2015 21:31:12 GMT</code>，只要发送请求时间是在<code>Expires</code>之前，那么本地缓存始终有效，否则就会去服务器发送请求获取新的资源。如果同时出现<code>Cache-Control：max-age</code>和<code>Expires</code>，那么<code>max-age</code>优先级更高。他们可以这样组合使用</p>
</blockquote>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">Cache-Control: public
Expires: Wed, Jan 10 2018 00:27:04 GMT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>3.3 所谓的缓存协商</strong></p>
<blockquote>
<p>当第一次请求时服务器返回的响应头中存在以下情况时</p>
</blockquote>
<ul>
<li>没有 <code>Cache-Control</code> 和 <code>Expires</code></li>
<li><code>Cache-Control</code> 和 <code>Expires</code> 过期了</li>
<li><code>Cache-Control</code> 的属性设置为 <code>no-cache</code> 时</li>
</ul>
<blockquote>
<p>那么浏览器第二次请求时就会与服务器进行协商，询问浏览器中的缓存资源是不是旧版本，需不需要更新，此时，服务器就会做出判断，如果缓存和服务端资源的最新版本是一致的，那么就无需再次下载该资源，服务端直接返回<code>304 Not Modified</code> 状态码，如果服务器发现浏览器中的缓存已经是旧版本了，那么服务器就会把最新资源的完整内容返回给浏览器，状态码就是<code>200 Ok</code>，那么服务端是根据什么来判断浏览器的缓存是不是最新的呢？其实是根据<code>HTTP</code>的另外两组头信息，分别是：<code>Last-Modified/If-Modified-Since</code> 与 <code>ETag/If-None-Match</code>。</p>
</blockquote>
<p><strong>Last-Modified 与 If-Modified-Since</strong></p>
<blockquote>
<p>具体工作流程如下：</p>
</blockquote>
<ul>
<li>浏览器第一次请求资源时，服务器会把资源的最新修改时间<code>Last-Modified:Thu, 29 Dec 2011 18:23:55 GMT</code>放在响应头中返回给浏览器</li>
<li>第二次请求时，浏览器就会把上一次服务器返回的修改时间放在请求头<code>If-Modified-Since:Thu, 29 Dec 2011 18:23:55</code>发送给服务器，服务器就会拿这个时间跟服务器上的资源的最新修改时间进行对比</li>
<li>服务端再次收到请求，根据请求头 <code>If-Modified-Since</code> 的值，判断相关资源是否有变化，如果没有，则返回 <code>304 Not Modified</code>，并且不返回资源内容，浏览器使用资源缓存值；否则正常返回资源内容，且更新<code>Last-Modified</code> 响应头内容。</li>
</ul>
<blockquote>
<p>如果两者相等或者大于服务器上的最新修改时间，那么表示浏览器的缓存是有效的，此时缓存会命中，服务器就不再返回内容给浏览器了，同时<code>Last-Modified</code>头也不会返回，因为资源没被修改，返回了也没什么意义。如果没命中缓存则最新修改的资源连同<code>Last-Modified</code>头一起返回</p>
</blockquote>
<p><strong>这种方式虽然能判断缓存是否失效，但也存在两个问题：</strong></p>
<ul>
<li><strong>精度问题</strong>，<code>Last-Modified</code> 的时间精度为秒，如果在 <code>1</code> 秒内发生修改，那么缓存判断可能会失效；</li>
<li><strong>准度问题</strong>，考虑这样一种情况，如果一个文件被修改，然后又被还原，内容并没有发生变化，在这种情况下，浏览器的缓存还可以继续使用，但因为修改时间发生变化，也会重新返回重复的内容。</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 第一次请求返回的响应头</span>
Cache-Control:max-age<span class="token operator">=</span><span class="token number">3600</span>
Expires: Fri, Jan <span class="token number">12</span> <span class="token number">2018</span> 00:27:04 GMT
Last-Modified: Wed, Jan <span class="token number">10</span> <span class="token number">2018</span> 00:27:04 GMT

<span class="token comment"># 第二次请求的请求头信息</span>
If-Modified-Since: Wed, Jan <span class="token number">10</span> <span class="token number">2018</span> 00:27:04 GMT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>这组头信息是基于资源的修改时间来判断资源有没有更新，另一种方式就是根据资源的内容来判断，就是接下来要讨论的 <code>ETag</code> 与 <code>If-None-Match</code></p>
</blockquote>
<p><strong>ETag与If-None-Match</strong></p>
<p>为了<code>解决精度问题和准度问题</code>，HTTP 提供了另一种不依赖于修改时间，而依赖于文件哈希值的精确判断缓存的方式，那就是响应头部字段 ETag 和请求头部字段 If-None-Match。</p>
<blockquote>
<p><code>ETag/If-None-Match</code>与<code>Last-Modified/If-Modified-Since</code>的流程其实是类似的，唯一的区别是它基于资源的内容的摘要信息（比如<code>MD5 hash</code>）来判断</p>
</blockquote>
<blockquote>
<p>浏览器发送第二次请求时，会把第一次的响应头信息<code>ETag</code>的值放在<code>If-None-Match</code>的请求头中发送到服务器，与最新的资源的摘要信息对比，如果相等，取浏览器缓存，否则内容有更新，最新的资源连同最新的摘要信息返回。用<code>ETag</code>的好处是如果因为某种原因到时资源的修改时间没改变，那么用<code>ETag</code>就能区分资源是不是有被更新。</p>
</blockquote>
<p><strong>具体工作流程如下：</strong></p>
<ul>
<li>浏览器第一次请求资源，服务端在返响应头中加入 <code>Etag</code> 字段，<code>Etag</code> 字段值为该资源的哈希值</li>
<li>当浏览器再次跟服务端请求这个资源时，在请求头上加上 <code>If-None-Match</code>，值为之前响应头部字段 <code>ETag</code> 的值；</li>
<li>服务端再次收到请求，将请求头 <code>If-None-Match</code> 字段的值和响应资源的哈希值进行比对，如果两个值相同，则说明资源没有变化，返回 <code>304 Not Modified</code>；否则就正常返回资源内容，无论是否发生变化，都会将计算出的哈希值放入响应头部的 <code>ETag</code> 字段中</li>
</ul>
<p>这种缓存比较的方式也会存在一些问题，具体表现在以下两个方面。</p>
<ul>
<li><strong>计算成本</strong>。生成哈希值相对于读取文件修改时间而言是一个开销比较大的操作，尤其是对于大文件而言。如果要精确计算则需读取完整的文件内容，如果从性能方面考虑，只读取文件部分内容，又容易判断出错。</li>
<li><strong>计算误差</strong>。HTTP 并没有规定哈希值的计算方法，所以不同服务端可能会采用不同的哈希值计算方式。这样带来的问题是，同一个资源，在两台服务端产生的 Etag 可能是不相同的，所以对于使用服务器集群来处理请求的网站来说，使用 Etag 的缓存命中率会有所降低。</li>
</ul>
<blockquote>
<p>需要注意的是，<code>强制缓存的优先级高于协商缓存</code>，在协商缓存中，<code>Etag 优先级比 Last-Modified</code> 高</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 第一次请求返回的响应头：</span>
Cache-Control: public, max-age<span class="token operator">=</span><span class="token number">31536000</span>
ETag: <span class="token string">"15f0fff99ed5aae4edffdd6496d7131f"</span>

<span class="token comment"># 第二次请求的请求头信息：</span>
If-None-Match: <span class="token string">"15f0fff99ed5aae4edffdd6496d7131f"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>缓存位置</strong></p>
<p>浏览器缓存的位置的话，可以分为四种,优先级从高到低排列分别👇</p>
<ul>
<li><code>Service Worker</code></li>
<li><code>Memory Cache</code></li>
<li><code>Disk Cache</code></li>
<li><code>Push Cache</code></li>
</ul>
<p><strong>Service Worker</strong></p>
<blockquote>
<p>这个应用场景比如PWA，它借鉴了Web Worker思路，由于它脱离了浏览器的窗体，因此无法直接访问DOM。它能完成的功能比如：<code>离线缓存</code>、<code>消息推送</code>和<code>网络代理</code>，其中<code>离线缓存</code>就是<strong>Service Worker Cache</strong>。</p>
</blockquote>
<p><strong>Memory Cache</strong></p>
<blockquote>
<p>指的是内存缓存，从效率上讲它是最快的，从存活时间来讲又是最短的，当渲染进程结束后，内存缓存也就不存在了。</p>
</blockquote>
<p><strong>Disk Cache</strong></p>
<blockquote>
<p>存储在磁盘中的缓存，从存取效率上讲是比内存缓存慢的，优势在于存储容量和存储时长。</p>
</blockquote>
<p><strong>Disk Cache VS Memory Cache</strong></p>
<p>两者对比，主要的策略👇</p>
<ul>
<li>内容使用率高的话，文件优先进入磁盘</li>
<li>比较大的JS，CSS文件会直接放入磁盘，反之放入内存。</li>
</ul>
<p><strong>Push Cache</strong></p>
<blockquote>
<p>推送缓存，这算是浏览器中最后一道防线吧，它是<code>HTTP/2</code>的内容</p>
</blockquote>
<p><strong>浏览器缓存总结</strong></p>
<blockquote>
<p>浏览器缓存分为强缓存和协商缓存。当客户端请求某个资源时，获取缓存的流程如下</p>
</blockquote>
<ul>
<li>先根据这个资源的一些 http header 判断它是否命中强缓存，先检查<code>Cache-Control</code>，如果命中，则直接从本地获取缓存资源，不会发请求到服务器；</li>
<li>当强缓存没有命中时，客户端会发送请求到服务器，服务器通过另一些request header验证这个资源是否命中协商缓存，称为http再验证，如果命中，服务器将请求返回，但不返回资源，而是返回304告诉客户端直接从缓存中获取，客户端收到返回后就会从缓存中获取资源；（服务器通过请求头中的<code>If-Modified-Since</code>或者<code>If-None-Match</code>字段检查资源是否更新）</li>
<li>强缓存和协商缓存共同之处在于，如果命中缓存，服务器都不会返回资源； 区别是，强缓存不对发送请求到服务器，但协商缓存会。</li>
<li>当协商缓存也没命中时，服务器就会将资源发送回客户端。</li>
<li>当 ctrl+f5 强制刷新网页时，直接从服务器加载，跳过强缓存和协商缓存；</li>
<li>当 f5刷新网页时，跳过强缓存，但是会检查协商缓存；</li>
</ul>
<p><strong>强缓存</strong></p>
<ul>
<li>Expires（该字段是 http1.0 时的规范，值为一个绝对时间的 GMT 格式的时间字符串，代表缓存资源的过期时间）</li>
<li>Cache-Control:max-age（该字段是 http1.1的规范，强缓存利用其 max-age 值来判断缓存资源的最大生命周期，它的值单位为秒）</li>
</ul>
<p><strong>协商缓</strong></p>
<ul>
<li>Last-Modified（值为资源最后更新时间，随服务器response返回，即使文件改回去，日期也会变化）</li>
<li>If-Modified-Since（通过比较两个时间来判断资源在两次请求期间是否有过修改，如果没有修改，则命中协商缓存）</li>
<li>ETag（表示资源内容的唯一标识，随服务器response返回，仅根据文件内容是否变化判断）</li>
<li>If-None-Match（服务器通过比较请求头部的If-None-Match与当前资源的ETag是否一致来判断资源是否在两次请求之间有过修改，如果没有修改，则命中协商缓存）</li>
</ul>
<h3 id="❤浏览器存储"><a href="#❤浏览器存储" class="headerlink" title="❤浏览器存储"></a>❤浏览器存储</h3><blockquote>
<p>我们经常需要对业务中的一些数据进行存储，通常可以分为 短暂性存储 和 持久性储存。</p>
</blockquote>
<ul>
<li>短暂性的时候，我们只需要将数据存在内存中，只在运行时可用</li>
<li>持久性存储，可以分为 浏览器端 与 服务器端<ul>
<li>浏览器:<ul>
<li><code>cookie</code>: 通常用于存储用户身份，登录状态等<ul>
<li><code>http</code> 中自动携带， 体积上限为 <code>4K</code>， 可自行设置过期时间</li>
</ul>
</li>
<li><code>localStorage / sessionStorage</code>: 长久储存/窗口关闭删除， 体积限制为 <code>4~5M</code></li>
<li><code>indexDB</code></li>
</ul>
</li>
<li>服务器:<ul>
<li>分布式缓存 <code>redis</code></li>
<li>数据库</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>cookie 和 localSrorage、session、indexDB 的区别</strong></p>
<table>
<thead>
<tr>
<th>特性</th>
<th>cookie</th>
<th>localStorage</th>
<th>sessionStorage</th>
<th>indexDB</th>
</tr>
</thead>
<tbody><tr>
<td>数据生命周期</td>
<td>一般由服务器生成，可以设置过期时间</td>
<td>除非被清理，否则一直存在</td>
<td>页面关闭就清理</td>
<td>除非被清理，否则一直存在</td>
</tr>
<tr>
<td>数据存储大小</td>
<td><code>4K</code></td>
<td><code>5M</code></td>
<td><code>5M</code></td>
<td>无限</td>
</tr>
<tr>
<td>与服务端通信</td>
<td>每次都会携带在 header 中，对于请求性能影响</td>
<td>不参与</td>
<td>不参与</td>
<td>不参与</td>
</tr>
</tbody></table>
<blockquote>
<p>从上表可以看到，<code>cookie</code> 已经不建议用于存储。如果没有大量数据存储需求的话，可以使用 <code>localStorage</code>和 <code>sessionStorage</code> 。对于不怎么改变的数据尽量使用 <code>localStorage</code> 存储，否则可以用 <code>sessionStorage</code> 存储。</p>
</blockquote>
<p><strong>对于 <code>cookie</code>，我们还需要注意安全性</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>value</code></td>
<td>如果用于保存用户登录态，应该将该值加密，不能使用明文的用户标识</td>
</tr>
<tr>
<td><code>http-only</code></td>
<td>不能通过 <code>JS</code>访问 <code>Cookie</code>，减少 <code>XSS</code>攻击</td>
</tr>
<tr>
<td><code>secure</code></td>
<td>只能在协议为 <code>HTTPS</code> 的请求中携带</td>
</tr>
<tr>
<td><code>same-site</code></td>
<td>规定浏览器不能在跨域请求中携带 <code>Cookie</code>，减少 <code>CSRF</code> 攻击</td>
</tr>
</tbody></table>
<p><img data-src="https://s.poetries.work/images/20210421172522.png" alt="img"></p>
<ul>
<li><code>Name</code>，即该 <code>Cookie</code> 的名称。<code>Cookie</code> 一旦创建，名称便不可更改。</li>
<li><code>Value</code>，即该 <code>Cookie</code> 的值。如果值为 <code>Unicode</code> 字符，需要为字符编码。如果值为二进制数据，则需要使用 <code>BASE64</code> 编码。</li>
<li><code>Max Age</code>，即该 <code>Cookie</code> 失效的时间，单位秒，也常和 <code>Expires</code> 一起使用，通过它可以计算出其有效时间。<code>Max Age</code>如果为正数，则该 <code>Cookie</code> 在 <code>Max Age</code> 秒之后失效。如果为负数，则关闭浏览器时 <code>Cookie</code> 即失效，浏览器也不会以任何形式保存该 <code>Cookie</code>。</li>
<li><code>Path</code>，即该 <code>Cookie</code> 的使用路径。如果设置为 <code>/path/</code>，则只有路径为 <code>/path/</code> 的页面可以访问该 <code>Cookie</code>。如果设置为 <code>/</code>，则本域名下的所有页面都可以访问该 <code>Cookie</code>。</li>
<li><code>Domain</code>，即可以访问该 <code>Cookie</code> 的域名。例如如果设置为 <code>.zhihu.com</code>，则所有以 <code>zhihu.com</code>，结尾的域名都可以访问该 <code>Cookie</code>。 <code>Size</code> 字段，即此 <code>Cookie</code> 的大小。</li>
<li><code>Http</code> 字段，即 <code>Cookie</code> 的 <code>httponly</code> 属性。若此属性为 <code>true</code>，则只有在 <code>HTTP Headers</code> 中会带有此 Cookie 的信息，而不能通过 <code>document.cookie</code> 来访问此 Cookie。</li>
<li><code>Secure</code>，即该 <code>Cookie</code> 是否仅被使用安全协议传输。安全协议。安全协议有 <code>HTTPS、SSL</code> 等，在网络上传输数据之前先将数据加密。默认为 <code>false</code>。</li>
</ul>
<h3 id="Cookies，SessionStorage-和-LocalStorage-的区别？"><a href="#Cookies，SessionStorage-和-LocalStorage-的区别？" class="headerlink" title="Cookies，SessionStorage 和 LocalStorage 的区别？"></a><code>Cookies</code>，<code>SessionStorage</code> 和 <code>LocalStorage</code> 的区别？</h3><ul>
<li><strong>相同点：</strong>都是存储在浏览器本地的</li>
<li><strong>不同点：</strong><ul>
<li><strong>写入方式：</strong><code>cookie</code>是由服务器端写入的，而<code>SessionStorage</code>、 <code>LocalStorage</code>都是由前端写入的</li>
<li><strong>生命周期：</strong><code>cookie</code>的生命周期是由服务器端在写入的时候就设置好的，<code>LocalStorage</code>是写入就一直存在，除非手动清除，<code>SessionStorage</code>是页面关闭的时候就会自动清除</li>
<li><strong>存储大小：</strong><code>cookie</code>的存储空间比较小大概4KB，<code>SessionStorage</code>、 <code>LocalStorage</code>存储空间比较大，大概5M</li>
<li><strong>数据共享：</strong><code>Cookie</code>、<code>SessionStorage</code>、 <code>LocalStorage</code>数据共享都遵循同源原则，<code>SessionStorage</code>还限制必须是同一个页面</li>
<li><strong>发送请求时是否携带：</strong>在前端给后端发送请求的时候会自动携带<code>Cookie</code>中的数据，但是<code>SessionStorage</code>、 <code>LocalStorage</code>不会</li>
<li><strong>应用场景：</strong><code>Cookie</code>一般用于存储登录验证信息<code>SessionID</code> 或者 <code>token</code> ，<code>LocalStorage</code>常用于存储不易变动的数据，减轻服务器的压力，<code>SessionStorage</code>可以用来检测用户是否是刷新进入页面，如音乐播放器恢复播放进度条的功能</li>
</ul>
</li>
</ul>
<h3 id="实现可过期的localstorage数据"><a href="#实现可过期的localstorage数据" class="headerlink" title="实现可过期的localstorage数据"></a>实现可过期的<code>localstorage</code>数据</h3><ul>
<li><strong>得分点</strong> 惰性删除、定时删除</li>
<li><strong>标准回答</strong> <code>localStorage</code>只能用于长久保存整个网站的数据，保存的数据没有过期时间，直到手动去删除。所以要实现可过期的<code>localStorage</code>缓存的中重点就是：如何清理过期的缓存。<ul>
<li>目前有两种方法，一种是惰性删除，另一种是定时删除。</li>
<li><strong>惰性删除</strong>是指某个键值过期后，该键值不会被马上删除，而是等到下次被使用的时候，才会被检查到过期，此时才能得到删除。实现方法是，存储的数据类型是个对象，该对象有两个key，一个是要存储的value值，另一个是当前时间。获取数据的时候，拿到存储的时间和当前时间做对比，如果超过过期时间就清除Cookie。</li>
<li><strong>定时删除</strong>是指，每隔一段时间执行一次删除操作，并通过限制删除操作执行的次数和频率，来减少删除操作对CPU的长期占用。另一方面定时删除也有效的减少了因惰性删除带来的对<code>localStorage</code>空间的浪费。实现过程，获取所有设置过期时间的key判断是否过期，过期就存储到数组中，遍历数组，每隔1S（固定时间）删除5个（固定个数），直到把数组中的key从<code>localstorage</code>中全部删除。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li><code>LocalStorage</code>清空应用场景：<ul>
<li>token存储在<code>LocalStorage</code>中，<strong>要清空</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="token-能放在cookie中吗"><a href="#token-能放在cookie中吗" class="headerlink" title="token 能放在cookie中吗"></a><code>token</code> 能放在<code>cookie</code>中吗</h3><ul>
<li><strong>得分点</strong> 能、不设置cookie有效期、重新登录重写cookie覆盖原来的cookie</li>
<li><strong>标准回答</strong><ul>
<li>能。 token一般是用来判断用户是否登录的，它内部包含的信息有：<code>uid</code>(用户唯一的身份标识)、<code>time</code>(当前时间的时间戳)、<code>sign</code>（签名，token 的前几位以哈希算法压缩成的一定长度的十六进制字符串）</li>
<li> <code>token</code>可以存放在<code>Cookie</code>中，<code>token</code> 是否过期，应该由后端来判断，不该前端来判断，所以<code>token</code>存储在<code>cookie</code>中只要不设置<code>cookie</code>的过期时间就ok了，如果 <code>token</code> 失效，就让后端在接口中返回固定的状态表示<code>token</code> 失效，需要重新登录，再重新登录的时候，重新设置 <code>cookie</code> 中的 <code>token</code> 就行。</li>
</ul>
</li>
<li><strong>加分回答</strong></li>
<li><code>token</code>认证流程<ol>
<li>客户端使用用户名跟密码请求登录</li>
<li>服务端收到请求，去验证用户名与密码</li>
<li>验证成功后，服务端签发一个 <code>token</code> ，并把它发送给客户端</li>
<li>客户端接收 <code>token</code> 以后会把它存储起来，比如放在 <code>cookie</code> 里或者 <code>localStorage</code> 里</li>
<li>客户端每次发送请求时都需要带着服务端签发的 token（把 token 放到 HTTP 的 Header 里）</li>
<li>服务端收到请求后，需要验证请求里带有的 token ，如验证成功则返回对应的数据</li>
</ol>
</li>
</ul>
<h3 id="请你谈谈Cookie的弊端"><a href="#请你谈谈Cookie的弊端" class="headerlink" title="请你谈谈Cookie的弊端"></a>请你谈谈Cookie的弊端</h3><blockquote>
<p><code>cookie</code>虽然在持久保存客户端数据提供了方便，分担了服务器存储的负担，但还是有很多局限性的</p>
</blockquote>
<ul>
<li>每个特定的域名下最多生成<code>20</code>个<code>cookie</code></li>
<li><code>IE6</code>或更低版本最多<code>20</code>个<code>cookie</code></li>
<li><code>IE7</code>和之后的版本最后可以有<code>50</code>个<code>cookie</code></li>
<li><code>Firefox</code>最多50个<code>cookie</code></li>
<li><code>chrome</code>和<code>Safari</code>没有做硬性限制</li>
<li>IE 和 Opera 会清理近期最少使用的 <code>cookie</code>，<code>Firefox</code> 会随机清理 <code>cookie</code></li>
<li><code>cookie</code> 的最大大约为 <code>4096</code> 字节，为了兼容性，一般设置不超过 <code>4095</code> 字节</li>
<li>如果 <code>cookie</code> 被人拦截了，就可以取得所有的 <code>sessioln</code> 信息</li>
</ul>
<h3 id="❤跨域方案"><a href="#❤跨域方案" class="headerlink" title="❤跨域方案"></a>❤跨域方案</h3><blockquote>
<p>很多种方法，但万变不离其宗，都是为了搞定同源策略。重用的有 <code>jsonp</code>、<code>iframe</code>、<code>cors</code>、<code>img</code>、<code>HTML5 postMessage</code>等等。其中用到 <code>html</code> 标签进行跨域的原理就是 <code>html</code> 不受同源策略影响。但只是接受 <code>Get</code> 的请求方式，这个得清楚。</p>
</blockquote>
<blockquote>
<p><strong>延伸1：img iframe script 来发送跨域请求有什么优缺点？</strong></p>
</blockquote>
<p><strong>1. <code>iframe</code></strong></p>
<ul>
<li>优点：跨域完毕之后<code>DOM</code>操作和互相之间的<code>JavaScript</code>调用都是没有问题的</li>
<li>缺点：1.若结果要以<code>URL</code>参数传递，这就意味着在结果数据量很大的时候需要分割传递，巨烦。2.还有一个是<code>iframe</code>本身带来的，母页面和<code>iframe</code>本身的交互本身就有安全性限制。</li>
</ul>
<p><strong>2. script</strong></p>
<ul>
<li>优点：可以直接返回<code>json</code>格式的数据，方便处理</li>
<li>缺点：只接受<code>GET</code>请求方式</li>
</ul>
<p><strong>3. 图片ping</strong></p>
<ul>
<li>优点：可以访问任何<code>url</code>，一般用来进行点击追踪，做页面分析常用的方法</li>
<li>缺点：不能访问响应文本，只能监听是否响应</li>
</ul>
<blockquote>
<p><strong>延伸2：配合 webpack 进行反向代理？</strong></p>
</blockquote>
<p><code>webpack</code> 在 <code>devServer</code> 选项里面提供了一个 <code>proxy</code> 的参数供开发人员进行反向代理</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token string">'/api'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  target<span class="token operator">:</span> <span class="token string">'http://www.example.com'</span><span class="token punctuation">,</span> <span class="token comment">// your target host</span>
  changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// needed for virtual hosted sites</span>
  pathRewrite<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token string">'^/api'</span><span class="token operator">:</span> <span class="token string">''</span>  <span class="token comment">// rewrite path</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>然后再配合 <code>http-proxy-middleware</code> 插件对 <code>api</code> 请求地址进行代理</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// proxy api requests</span>
<span class="token keyword">const</span> exampleProxy <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里的 options 就是 webpack 里面的 proxy 选项对应的每个选项</span>

<span class="token comment">// mount `exampleProxy` in web server</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">,</span> exampleProxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>然后再用 <code>nginx</code> 把允许跨域的源地址添加到报头里面即可</p>
</blockquote>
<blockquote>
<p>说到 <code>nginx</code> ，可以再谈谈 <code>CORS</code> 配置，大致如下</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">location <span class="token operator">/</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>$request_method <span class="token operator">=</span> <span class="token string">'OPTIONS'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    add_header <span class="token string">'Access-Control-Allow-Origin'</span> <span class="token string">'*'</span><span class="token punctuation">;</span>
    add_header <span class="token string">'Access-Control-Allow-Methods'</span> <span class="token string">'GET, POST, OPTIONS'</span><span class="token punctuation">;</span>
    add_header <span class="token string">'Access-Control-Allow-Credentials'</span> <span class="token string">'true'</span><span class="token punctuation">;</span>
    add_header <span class="token string">'Access-Control-Allow-Headers'</span> <span class="token string">'DNT, X-Mx-ReqToken, Keep-Alive, User-Agent, X-Requested-With, If-Modified-Since, Cache-Control, Content-Type'</span><span class="token punctuation">;</span>
    add_header <span class="token string">'Access-Control-Max-Age'</span> <span class="token number">86400</span><span class="token punctuation">;</span>
    add_header <span class="token string">'Content-Type'</span> <span class="token string">'text/plain charset=UTF-8'</span><span class="token punctuation">;</span>
    add_header <span class="token string">'Content-Length'</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">200</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="为什么要有同源限制？"><a href="#为什么要有同源限制？" class="headerlink" title="为什么要有同源限制？"></a>为什么要有同源限制？</h3><ul>
<li>同源策略指的是：协议，域名，端口相同，同源策略是一种安全协议</li>
<li>举例说明：比如一个黑客程序，他利用<code>Iframe</code>把真正的银行登录页面嵌到他的页面上，当你使用真实的用户名，密码登录时，他的页面就可以通过<code>Javascript</code>读取到你的表单中<code>input</code>中的内容，这样用户名，密码就轻松到手了。</li>
</ul>
<h3 id="如何解决跨域问题"><a href="#如何解决跨域问题" class="headerlink" title="如何解决跨域问题?"></a>如何解决跨域问题?</h3><blockquote>
<p>首先了解下浏览器的同源策略 同源策略<code>/SOP（Same origin policy）</code>是一种约定，由Netscape公司1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到<code>XSS</code>、<code>CSRF</code>等攻击。所谓同源是指”<strong>协议+域名+端口</strong>“三者相同，即便两个不同的域名指向同一个ip地址，也非同源</p>
</blockquote>
<p><strong>那么怎样解决跨域问题的呢？</strong></p>
<ul>
<li><strong>通过jsonp跨域</strong></li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/javascript'</span><span class="token punctuation">;</span>

<span class="token comment">// 传参并指定回调执行函数为onBack</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://www.....:8080/login?user=admin&amp;callback=onBack'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 回调执行函数</span>
<span class="token keyword">function</span> <span class="token function">onBack</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><strong>document.domain + iframe跨域</strong></li>
</ul>
<blockquote>
<p>此方案仅限主域相同，子域不同的跨域应用场景</p>
</blockquote>
<p>1.）父窗口：(<span class="exturl" data-url="aHR0cDovL3d3dy5kb21haW4uY29tL2EuaHRtbA==">http://www.domain.com/a.html<i class="fa fa-external-link-alt"></i></span>)</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iframe<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://child.domain.com/b.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'domain.com'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token string">'admin'</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>2.）子窗口：(<span class="exturl" data-url="aHR0cDovL2NoaWxkLmRvbWFpbi5jb20vYi5odG1s">http://child.domain.com/b.html<i class="fa fa-external-link-alt"></i></span>)</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'domain.com'</span><span class="token punctuation">;</span>
<span class="token comment">// 获取父窗口中变量</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'get js data from parent ---> '</span> <span class="token operator">+</span> window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li><strong>nginx代理跨域</strong></li>
<li><strong>nodejs中间件代理跨域</strong></li>
<li><strong>后端在头部信息里面设置安全域名</strong></li>
</ul>
<ul>
<li><p><strong>得分点：</strong>同源限制、协议、域名、端口、CORS、node中间件、JSONP、postmessage</p>
</li>
<li><p><strong>标准回答：</strong><br><strong>跨域：</strong>当前页面中的某个接口请求的地址和当前页面的地址如果协议、域名、端口其中有一项不同，就说该接口跨域了。<br>跨域限制的原因：浏览器为了保证网页的安全，出的同源协议策略。</p>
<p><strong>跨域报错信息：</strong></p>
<p><img data-src="https://uploadfiles.nowcoder.com/images/20220226/4107856_1645863343481/0BF44F815EA97361C3608F016702DF18" alt="img"></p>
<p><strong>跨域解决方案</strong></p>
<pre><code>cors：目前最常用的一种解决办法，通过设置后端允许跨域实现。
res.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
res.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, PUT, OPTIONS, POST&quot;);
</code></pre>
<p><strong>node中间件、nginx反向代理：</strong>跨域限制的时候浏览器不能跨域访问服务器，node中间件和nginx反向代理，都是让请求发给代理服务器，静态页面面和代理服务器是同源的，然后代理服务器再向后端服务器发请求，服务器和服务器之间不存在同源限制。</p>
<p><strong>JSONP：</strong>利用的原理是script标签可以跨域请求资源，将回调函数作为参数拼接在url中。后端收到请求，调用该回调函数，并将数据作为参数返回去，注意设置响应头返回文档类型，应该设置成javascript。</p>
<p><strong>postmessage：</strong>H5新增API，通过发送和接收API实现跨域通信。</p>
</li>
<li><p><strong>加分回答：</strong></p>
<ul>
<li>跨域场景：前后端分离式开发、调用第三方接口</li>
</ul>
</li>
</ul>
<h3 id="❤XSS-和-CSRF"><a href="#❤XSS-和-CSRF" class="headerlink" title="❤XSS 和 CSRF"></a>❤XSS 和 CSRF</h3><p><img data-src="https://s.poetries.work/images/20210415090547.png" alt="img"></p>
<p><strong>1. XSS</strong></p>
<blockquote>
<p>涉及面试题：什么是 <code>XSS</code> 攻击？如何防范 <code>XSS</code> 攻击？什么是 <code>CSP</code>？</p>
</blockquote>
<ul>
<li><code>XSS</code> 简单点来说，就是攻击者想尽一切办法将可以执行的代码注入到网页中。</li>
<li><code>XSS</code> 可以分为多种类型，但是总体上我认为分为两类：持久型和非持久型。</li>
<li>持久型也就是攻击的代码被服务端写入进数据库中，这种攻击危害性很大，因为如果网站访问量很大的话，就会导致大量正常访问页面的用户都受到攻击。</li>
</ul>
<blockquote>
<p>举个例子，对于评论功能来说，就得防范持久型 <code>XSS</code> 攻击，因为我可以在评论中输入以下内容</p>
</blockquote>
<p><img data-src="https://s.poetries.work/gitee/2020/07/4.png" alt="image.png"></p>
<ul>
<li>这种情况如果前后端没有做好防御的话，这段评论就会被存储到数据库中，这样每个打开该页面的用户都会被攻击到。</li>
<li>非持久型相比于前者危害就小的多了，一般通过修改 <code>URL</code> 参数的方式加入攻击代码，诱导用户访问链接从而进行攻击。</li>
</ul>
<blockquote>
<p>举个例子，如果页面需要从 <code>URL</code> 中获取某些参数作为内容的话，不经过过滤就会导致攻击代码被执行</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- http://www.domain.com?name=&lt;script>alert(1)&lt;/script> --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>但是对于这种攻击方式来说，如果用户使用 <code>Chrome</code> 这类浏览器的话，浏览器就能自动帮助用户防御攻击。但是我们不能因此就不防御此类攻击了，因为我不能确保用户都使用了该类浏览器。</p>
</blockquote>
<p><img data-src="https://s.poetries.work/gitee/2020/07/fe/19.png" alt="img"></p>
<blockquote>
<p>对于 <code>XSS</code> 攻击来说，通常有两种方式可以用来防御。</p>
</blockquote>
<ol>
<li><strong>转义字符</strong></li>
</ol>
<blockquote>
<p>首先，对于用户的输入应该是永远不信任的。最普遍的做法就是转义输入输出的内容，对于引号、尖括号、斜杠进行转义</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">escape</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;amp;'</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;lt;'</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">></span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;gt;'</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">"</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;quto;'</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">'</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;#39;'</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;#96;'</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;#x2F;'</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> str
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>通过转义可以将攻击代码 <code>&lt;script&gt;alert(1)&lt;/script&gt;</code> 变成</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// -> &amp;lt;script&amp;gt;alert(1)&amp;lt;&amp;#x2F;script&amp;gt;</span>
<span class="token function">escape</span><span class="token punctuation">(</span><span class="token string">'&lt;script>alert(1)&lt;/script>'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>但是对于显示富文本来说，显然不能通过上面的办法来转义所有字符，因为这样会把需要的格式也过滤掉。对于这种情况，通常采用白名单过滤的办法，当然也可以通过黑名单过滤，但是考虑到需要过滤的标签和标签属性实在太多，更加推荐使用白名单的方式</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> xss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'xss'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token function">xss</span><span class="token punctuation">(</span><span class="token string">'&lt;h1 id="title">XSS Demo&lt;/h1>&lt;script>alert("xss");&lt;/script>'</span><span class="token punctuation">)</span>
<span class="token comment">// -> &lt;h1>XSS Demo&lt;/h1>&amp;lt;script&amp;gt;alert("xss");&amp;lt;/script&amp;gt;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>以上示例使用了 <code>js-xss</code> 来实现，可以看到在输出中保留了 <code>h1</code> 标签且过滤了 <code>script</code>标签</p>
</blockquote>
<ol start="2">
<li><strong>CSP</strong></li>
</ol>
<blockquote>
<p><code>CSP</code> 本质上就是建立白名单，开发者明确告诉浏览器哪些外部资源可以加载和执行。我们只需要配置规则，如何拦截是由浏览器自己实现的。我们可以通过这种方式来尽量减少 <code>XSS</code> 攻击。</p>
</blockquote>
<p><strong>通常可以通过两种方式来开启 CSP</strong>：</p>
<ul>
<li>设置 <code>HTTP Header</code> 中的 <code>Content-Security-Policy</code></li>
<li>设置 <code>meta</code> 标签的方式 <code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot;&gt;</code></li>
</ul>
<p>这里以设置 <code>HTTP Header</code> 来举例</p>
<p><strong>只允许加载本站资源</strong></p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">Content-Security-Policy: default-src ‘self’<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>只允许加载 HTTPS 协议图片</strong></p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">Content-Security-Policy: img-src https:&#x2F;&#x2F;*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>允许加载任何来源框架</strong></p>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">Content-Security-Policy: child-src &#39;none&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>当然可以设置的属性远不止这些，你可以通过查阅 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL0NvbnRlbnQtU2VjdXJpdHktUG9saWN5">文档 (opens new window)<i class="fa fa-external-link-alt"></i></span>的方式来学习，这里就不过多赘述其他的属性了。</p>
</blockquote>
<blockquote>
<p>对于这种方式来说，只要开发者配置了正确的规则，那么即使网站存在漏洞，攻击者也不能执行它的攻击代码，并且 <code>CSP</code> 的兼容性也不错。</p>
</blockquote>
<p><img data-src="https://s.poetries.work/gitee/2020/07/fe/20.png" alt="img"></p>
<p><strong>2 CSRF</strong></p>
<blockquote>
<p>跨站请求伪造（英语：<code>Cross-site request forgery</code>），也被称为 <code>one-click attack</code>或者 <code>session riding</code>，通常缩写为 <code>CSRF</code> 或者 <code>XSRF</code>， 是一种挟制用户在当前已登录的<code>Web</code>应用程序上执行非本意的操作的攻击方法</p>
</blockquote>
<blockquote>
<p><code>CSRF</code> 就是利用用户的登录态发起恶意请求</p>
</blockquote>
<p><strong>如何攻击</strong></p>
<blockquote>
<p>假设网站中有一个通过 Get 请求提交用户评论的接口，那么攻击者就可以在钓鱼网站中加入一个图片，图片的地址就是评论接口</p>
</blockquote>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;www.domain.com&#x2F;xxx?comment&#x3D;&#39;attack&#39;&quot;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img data-src="https://s.poetries.work/images/20210506174602.png" alt="img"></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Set-Cookie'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">username=poetry2;sameSite = strict;path=/;httpOnly;expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token function">getCookirExpires</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>在B网站，危险网站向A网站发起请求</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- 利用img自动发送请求 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:8000/api/user/login<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>会带上A网站的cookie</p>
<p><img data-src="https://s.poetries.work/images/20210506174856.png" alt="img"></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 在A网站下发cookie的时候，加上sameSite=strict，这样B网站在发送A网站请求，不会自动带上A网站的cookie，保证了安全</span>


<span class="token comment">// NAME=VALUE    赋予Cookie的名称及对应值</span>
<span class="token comment">// expires=DATE  Cookie 的有效期</span>
<span class="token comment">// path=PATH     赋予Cookie的名称及对应值</span>
<span class="token comment">// domain=域名   作为 Cookie 适用对象的域名 （若不指定则默认为创建 Cookie 的服务器的域名） (一般不指定)</span>
<span class="token comment">// Secure        仅在 HTTPS 安全通信时才会发送 Cookie</span>
<span class="token comment">// HttpOnly      加以限制，使 Cookie 不能被 JavaScript 脚本访问</span>
<span class="token comment">// SameSite      Lax|Strict|None  它允许您声明该Cookie是否仅限于第一方或者同一站点上下文</span>

res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Set-Cookie'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">username=poetry;sameSite=strict;path=/;httpOnly;expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token function">getCookirExpires</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img data-src="https://s.poetries.work/images/20210506175834.png" alt="img"></p>
<p><strong>如何防御</strong></p>
<ul>
<li><code>Get</code> 请求不对数据进行修改</li>
<li>不让第三方网站访问到用户 <code>Cookie</code></li>
<li>阻止第三方网站请求接口</li>
<li>请求时附带验证信息，比如验证码或者 <code>token</code></li>
<li><code>SameSite Cookies</code>: 只能当前域名的网站发出的http请求，携带这个<code>Cookie</code>。当然，由于这是新的cookie属性，在兼容性上肯定会有问题</li>
</ul>
<blockquote>
<p>CSRF攻击，仅仅是利用了http携带cookie的特性进行攻击的，但是攻击站点还是无法得到被攻击站点的cookie。这个和XSS不同，XSS是直接通过拿到Cookie等信息进行攻击的</p>
</blockquote>
<p><strong>在CSRF攻击中，就Cookie相关的特性：</strong></p>
<ul>
<li>http请求，会自动携带Cookie。</li>
<li>携带的cookie，还是http请求所在域名的cookie。</li>
</ul>
<p><strong>3 密码安全</strong></p>
<p><strong>加盐</strong></p>
<blockquote>
<p>对于密码存储来说，必然是不能明文存储在数据库中的，否则一旦数据库泄露，会对用户造成很大的损失。并且不建议只对密码单纯通过加密算法加密，因为存在彩虹表的关系</p>
</blockquote>
<ul>
<li>通常需要对密码加盐，然后进行几次不同加密算法的加密</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 加盐也就是给原密码添加字符串，增加原密码长度</span>
<span class="token function">sha256</span><span class="token punctuation">(</span><span class="token function">sha1</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> password <span class="token operator">+</span> salt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>但是加盐并不能阻止别人盗取账号，只能确保即使数据库泄露，也不会暴露用户的真实密码。一旦攻击者得到了用户的账号，可以通过暴力破解的方式破解密码。对于这种情况，通常使用验证码增加延时或者限制尝试次数的方式。并且一旦用户输入了错误的密码，也不能直接提示用户输错密码，而应该提示账号或密码错误</p>
</blockquote>
<p><strong>前端加密</strong></p>
<blockquote>
<p>虽然前端加密对于安全防护来说意义不大，但是在遇到中间人攻击的情况下，可以避免明文密码被第三方获取</p>
</blockquote>
<p><strong>4. 总结</strong></p>
<ul>
<li><code>XSS</code>：跨站脚本攻击，是一种网站应用程序的安全漏洞攻击，是代码注入的一种。常见方式是将恶意代码注入合法代码里隐藏起来，再诱发恶意代码，从而进行各种各样的非法活动</li>
</ul>
<blockquote>
<p>防范：记住一点 “所有用户输入都是不可信的”，所以得做输入过滤和转义</p>
</blockquote>
<ul>
<li><code>CSRF</code>：跨站请求伪造，也称 <code>XSRF</code>，是一种挟制用户在当前已登录的<code>Web</code>应用程序上执行非本意的操作的攻击方法。与 <code>XSS</code> 相比，<code>XSS</code>利用的是用户对指定网站的信任，<code>CSRF</code>利用的是网站对用户网页浏览器的信任。</li>
</ul>
<blockquote>
<p>防范：用户操作验证（验证码），额外验证机制（<code>token</code>使用）等</p>
</blockquote>
<h3 id="XSS攻击"><a href="#XSS攻击" class="headerlink" title="XSS攻击"></a>XSS攻击</h3><ul>
<li><strong>得分点</strong> XSS是跨站脚本攻击、向目标网站插入恶意代码、大量用户访问网站时运行恶意脚本获取信息</li>
<li><strong>标准回答</strong><ul>
<li>XSS是跨站脚本攻击(Cross Site Scripting)，不写为CSS是为了避免和层叠样式表（Cascading Style Sheets）的缩写混淆，所以将跨站脚本攻击写为XSS。攻击者可以通过向Web页面里面插入script代码，当用户浏览这个页面时，就会运行被插入的script代码，达到攻击者的目的。XSS的危害一般是泄露用户的登录信息cookie，攻击者可以通过cookie绕过登录步骤直接进入站点。</li>
<li>XSS的分类分为<strong>反射型</strong>和<strong>存储型</strong>。<ul>
<li>反射型就是临时通过url访问网站，网站服务端将恶意代码从url中取出，拼接在HTML中返回给浏览器，用户就会执行恶意代码。</li>
<li>存储型就是将恶意代码以留言的形式保存在服务器数据库，任何访问网站的人都会受到攻击。预防XSS攻击的方案基本是对数据进行严格的输出编码，比如HTML元素的编码，JavaScript编码，css编码，url编码等等。</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li><strong>XSS的危害：</strong><ul>
<li>获取cookie：网站中的登录一般都是用cookie作为某个用户的身份证明，这是服务器端返回的一串字符。如果cookie被攻击者拿到，那么就可以绕过密码登录。当空间、论坛如果可以被插入script代码，那么进入空间或者论坛的人的账号就可以轻易被攻击者获取。</li>
<li>恶意跳转：直接在页面中插入window.location.href进行跳转。 XSS的分类：<ul>
<li>反射型XSS（非持久型XSS）：通过URL参数直接注入</li>
<li>存储型XSS（持久型XSS）：存储到数据库后读取时注入</li>
</ul>
</li>
</ul>
</li>
<li><strong>XSS的预防：</strong><ul>
<li>浏览器的防御和“X-XSS-Protection”有关，默认值为1，即默认打开XSS防御，可以防御反射型的XSS，不过作用有限，只能防御注入到HTML的节点内容或属性的XSS，例如URL参数中包含script标签。不建议只依赖此防御手段。</li>
<li>防御HTML节点内容，通过转义&lt;为&lt;以及&gt;为&gt;来实现防御HTML节点内容。</li>
<li>预防HTML属性，通过转义”-&gt;&amp;quto来实现防御，一般不转义空格，但是这要求属性必须带引号。</li>
<li>预防JavaScript代码，通过将数据进行JSON序列化。</li>
<li>防御富文本是比较复杂的工程，因为富文本可以包含HTML和script，这些难以预测与防御，建议是通过白名单的方式来过滤允许的HTML标签和标签的属性来进行防御，大概的<strong>实现方式</strong>是：<ul>
<li>将HTML代码段转成树级结构的数据</li>
<li>遍历树的每一个节点，过滤节点的类型和属性，或进行特殊处理</li>
<li>处理完成后，将树级结构转化成HTML代码</li>
<li>开启浏览器XSS防御：Http Only cookie，禁止 JavaScript 读取某些敏感 Cookie，攻击者完成XSS注入后也无法窃取此 Cookie。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="CSRF攻击"><a href="#CSRF攻击" class="headerlink" title="CSRF攻击"></a>CSRF攻击</h3><ul>
<li><strong>得分点</strong> CSRF时跨站请求伪造、盗用用户身份发起请求</li>
<li><strong>标准回答</strong><ul>
<li>CSRF跨站点请求伪造（Cross Site Request Forgery）和XSS攻击一样，有巨大的危害性，就是攻击者盗用了用户的身份，以用户的身份发送恶意请求，但是对服务器来说这个请求是合理的，这样就完成了攻击者的目标。</li>
<li><strong>CSRF攻击的过程原理是：</strong><ul>
<li>用户打开浏览器，访问目标网站A，输入用户名和密码请求登录</li>
<li>用户信息在通过认证后，网站A产生一个cookie信息返回给浏览器，这个时候用户以可正常发送请求到网站A</li>
<li>用户在没有退出网站A之前在同一个浏览器打开了另一个新网站B。</li>
<li>新网站B收到用户请求之后返回一些攻击代码，并发出一个请求要求访问返回cookie的网站A</li>
<li>浏览器收到这些攻击性代码之后根据新网站B的请求在用户不知道的情况下以用户的权限操作了cookie并向网站A服务器发起了合法的请求。</li>
</ul>
</li>
<li><strong>预防CSRF攻击主要有以下策略：</strong><ul>
<li>使用验证码，在表单中添加一个随机的数字或者字母验证码，强制要求用户和应用进行直接的交互。</li>
<li>HTTP中Referer字段，检查是不是从正确的域名访问过来，它记录了HTTP请求的来源地址。</li>
<li>使用token验证，在HTTP请求头中添加token字段，并且在服务器端建立一个拦截器验证这个token，如果token不对，就拒绝这个请求。</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>验证HTTP Referer字段的好处就是实施起来特别简单，普通的网站开发不需要特别担心CSRF漏洞，只需要在最后面设置一个拦截器来验证referer的值就可以了，不需要改变已有的代码逻辑，非常便捷。但是这个方法也不是万无一失的，虽然referer是浏览器提供的，但是不同的浏览器可能在referer的实现上或多或少有自身的漏洞，所以使用referer的安全保证是通过浏览器实现的。</li>
<li>使用token验证的方法要比referer更安全一些，需要把token放在一个HTTP自定义的请求头部中，解决了使用get或者post传参的不便性。</li>
</ul>
</li>
</ul>
<h3 id="❤Service-Worker"><a href="#❤Service-Worker" class="headerlink" title="❤Service Worker"></a>❤Service Worker</h3><blockquote>
<p><code>Service workers</code> 本质上充当Web应用程序与浏览器之间的代理服务器，也可以在网络可用时作为浏览器和网络间的代理。它们旨在（除其他之外）使得能够创建有效的离线体验，拦截网络请求并基于网络是否可用以及更新的资源是否驻留在服务器上来采取适当的动作。他们还允许访问推送通知和后台同步API</p>
</blockquote>
<p><strong>浏览器对 ServiceWorker 做了很多限制</strong></p>
<ul>
<li>在 <code>ServiceWorker</code> 中无法直接访问 <code>DOM</code>，但可以通过 <code>postMessage</code> 接口发送的消息来与其控制的页面进行通信</li>
<li><code>ServiceWorker</code> 只能在本地环境下或 <code>HTTPS</code> 网站中使用</li>
<li><code>ServiceWorker</code> 有作用域的限制，一个 <code>ServiceWorker</code> 脚本只能作用于当前路径及其子路径；</li>
</ul>
<p><strong>目前该技术通常用来做缓存文件，提高首屏速度</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// index.js</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  navigator<span class="token punctuation">.</span>serviceWorker
    <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">"sw.js"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"service worker 注册成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"servcie worker 注册失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// sw.js</span>
<span class="token comment">// 监听 `install` 事件，回调中缓存所需文件</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"install"</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  e<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"my-cache"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"./index.html"</span><span class="token punctuation">,</span> <span class="token string">"./index.js"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 拦截所有请求事件</span>
<span class="token comment">// 如果缓存中已经有请求的数据就直接用缓存，否则去请求数据</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"fetch"</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  e<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> response<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"fetch source"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>打开页面，可以在开发者工具中的 <code>Application</code> 看到 <code>Service Worker</code> 已经启动了</p>
</blockquote>
<p><img data-src="https://s.poetries.work/gitee/2020/09/96.png" alt="img"></p>
<blockquote>
<p>在 Cache 中也可以发现我们所需的文件已被缓存</p>
</blockquote>
<p><img data-src="https://s.poetries.work/gitee/2020/09/97.png" alt="img"></p>
<blockquote>
<p>当我们重新刷新页面可以发现我们缓存的数据是从 <code>Service</code> <code>Worker</code> 中读取的</p>
</blockquote>
<h3 id="❤DOM-节点操作"><a href="#❤DOM-节点操作" class="headerlink" title="❤DOM 节点操作"></a>❤DOM 节点操作</h3><p><strong>（1）创建新节点</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//创建一个DOM片段</span>
<span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//创建一个具体的元素</span>
<span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//创建一个文本节点</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>（2）添加、移除、替换、插入</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
<span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
<span class="token function">replaceChild</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">,</span>old<span class="token punctuation">)</span>
<span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">,</span>old<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>（3）查找</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>（4）属性操作</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">getAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">hasAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">removeAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤掌握页面的加载过程"><a href="#❤掌握页面的加载过程" class="headerlink" title="❤掌握页面的加载过程"></a>❤掌握页面的加载过程</h3><p><strong>网页加载流程</strong></p>
<ul>
<li>当我们打开网址的时候，浏览器会从服务器中获取到 HTML 内容</li>
<li>浏览器获取到 HTML 内容后，就开始从上到下解析 HTML 的元素</li>
<li><code>&lt;head&gt;</code>元素内容会先被解析，此时<code>浏览器还没开始渲染页面</code><ul>
<li>我们看到<code>&lt;head&gt;</code>元素里有用于描述页面元数据的<code>&lt;meta&gt;</code>元素，还有一些<code>&lt;link&gt;</code>元素涉及外部资源（如<code>图片、CSS 样式</code>等），此时浏览器会去获取这些外部资源。除此之外，我们还能看到<code>&lt;head&gt;</code>元素中还包含着不少的<code>&lt;script&gt;</code>元素，这些<code>&lt;script&gt;</code>元素通过<code>src</code>属性指向外部资源</li>
</ul>
</li>
<li>当浏览器解析到这里时（步骤 3），会暂停解析并下载 JavaScript 脚本</li>
<li>当 JavaScript 脚本下载完成后，浏览器的控制权转交给 JavaScript 引擎。当脚本执行完成后，控制权会交回给渲染引擎，渲染引擎继续往下解析 <code>HTML</code> 页面</li>
<li>此时<code>&lt;body&gt;</code>元素内容开始被解析，浏览器开始渲染页面</li>
</ul>
<blockquote>
<ul>
<li>在这个过程中，我们看到<code>&lt;head&gt;</code>中放置的<code>&lt;script&gt;</code>元素会阻塞页面的渲染过程：把 JavaScript 放在<code>&lt;head&gt;</code>里，意味着必须把所有 JavaScript 代码都<code>下载、解析和解释完成后，才能开始渲染页面</code>。</li>
<li>如果外部脚本加载时间很长（比如一直无法完成下载），就会造成网页长时间失去响应，浏览器就会呈现“假死”状态，用户体验会变得很糟糕</li>
<li>因此，对于对性能要求较高、需要快速将内容呈现给用户的网页，常常会将 JavaScript 脚本放在<code>&lt;body&gt;</code>的最后面。这样<code>可以避免资源阻塞，页面得以迅速展示</code>。我们还可以使用<code>defer/async/preload</code>等属性来标记<code>&lt;script&gt;</code>标签，来控制 JavaScript 的加载顺序</li>
</ul>
</blockquote>
<p><strong>延迟加载的方式有哪些</strong></p>
<blockquote>
<p>js 的加载、解析和执行会阻塞页面的渲染过程，因此我们希望 js 脚本能够尽可能的延迟加载，提高页面的渲染速度。</p>
</blockquote>
<p><strong>几种方式是：</strong></p>
<ul>
<li>将 js 脚本放在文档的底部，来使 js 脚本尽可能的在最后来加载执行</li>
<li>给 js 脚本添加 <code>defer</code> 属性，这个属性会让脚本的加载与文档的解析同步解析，然后在文档解析完成后再执行这个脚本文件，这样的话就能使页面的渲染不被阻塞。多个设置了 <code>defer</code> 属性的脚本按规范来说最后是顺序执行的，但是在一些浏览器中可能不是这样</li>
<li>给 js 脚本添加 <code>async</code>属性，这个属性会使脚本异步加载，不会阻塞页面的解析过程，但是当脚本加载完成后立即执行 js脚本，这个时候如果文档没有解析完成的话同样会阻塞。多个 <code>async</code> 属性的脚本的执行顺序是不可预测的，一般不会按照代码的顺序依次执行</li>
<li>动态创建 <code>DOM</code> 标签的方式，我们可以对文档的加载事件进行监听，当文档加载完成后再动态的创建 <code>script</code> 标签来引入 js 脚本</li>
</ul>
<p><img data-src="https://s.poetries.work/images/20210420215756.png" alt="img"></p>
<p><strong>怎么判断页面是否加载完成</strong></p>
<ul>
<li><code>Load</code> 事件触发代表页面中的 <code>DOM</code>，<code>CSS</code>，<code>JS</code>，图片已经全部加载完毕。</li>
<li><code>DOMContentLoaded</code> 事件触发代表初始的 <code>HTML</code> 被完全加载和解析，不需要等待 <code>CSS</code>，<code>JS</code>，图片加载</li>
</ul>
<h3 id="❤从输入URL到页面展示过程"><a href="#❤从输入URL到页面展示过程" class="headerlink" title="❤从输入URL到页面展示过程"></a>❤从输入URL到页面展示过程</h3><p><img data-src="https://s.poetries.work/images/20210504134355.png" alt="img"></p>
<p><strong>1. DNS域名解析</strong></p>
<p><img data-src="https://s.poetries.work/images/20210504134816.png" alt="img"></p>
<ul>
<li>根 DNS 服务器 ：返回顶级域 DNS 服务器的 IP 地址</li>
<li>顶级域 DNS 服务器：返回权威 DNS 服务器的 IP 地址</li>
<li>权威 DNS 服务器 ：返回相应主机的 IP 地址</li>
</ul>
<blockquote>
<p>DNS的域名查找，在客户端和浏览器，本地DNS之间的查询方式是递归查询；在本地DNS服务器与根域及其子域之间的查询方式是迭代查询；</p>
</blockquote>
<p><img data-src="https://s.poetries.work/images/20210504134850.png" alt="img"></p>
<p>在客户端输入 URL 后，会有一个递归查找的过程，从<code>浏览器缓存中查找-&gt;本地的hosts文件查找-&gt;找本地DNS解析器缓存查找-&gt;本地DNS服务器查找</code>，这个过程中任何一步找到了都会结束查找流程。</p>
<p>如果本地DNS服务器无法查询到，则根据本地DNS服务器设置的转发器进行查询。若未用转发模式，则迭代查找过程如下图：</p>
<p><img data-src="https://s.poetries.work/images/20210504134913.png" alt="img"></p>
<p>结合起来的过程，可以用一个图表示：</p>
<p><img data-src="https://s.poetries.work/images/20210504134925.png" alt="img"></p>
<p><strong>在查找过程中，有以下优化点：</strong></p>
<ul>
<li>DNS存在着多级缓存，从离浏览器的距离排序的话，有以下几种: <code>浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存，主域名服务器缓存</code>。</li>
<li>在域名和 IP 的映射过程中，给了应用基于域名做负载均衡的机会，可以是简单的负载均衡，也可以根据地址和运营商做全局的负载均衡。</li>
</ul>
<p><strong>2. 建立TCP连接</strong></p>
<blockquote>
<p>首先，判断是不是https的，如果是，则HTTPS其实是HTTP + SSL / TLS 两部分组成，也就是在HTTP上又加了一层处理加密信息的模块。服务端和客户端的信息传输都会通过TLS进行加密，所以传输的数据都是加密后的数据</p>
</blockquote>
<p>进行三次握手，建立TCP连接。</p>
<ul>
<li>第一次握手：建立连接。客户端发送连接请求报文段</li>
<li>第二次握手：服务器收到SYN报文段。服务器收到客户端的SYN报文段，需要对这个SYN报文段进行确认</li>
<li>第三次握手：客户端收到服务器的SYN+ACK报文段，向服务器发送ACK报文段</li>
</ul>
<p><strong>SSL握手过程</strong></p>
<ul>
<li>第一阶段 建立安全能力 包括协议版本 会话Id 密码构件 压缩方法和初始随机数</li>
<li>第二阶段 服务器发送证书 密钥交换数据和证书请求，最后发送请求-相应阶段的结束信号</li>
<li>第三阶段 如果有证书请求客户端发送此证书 之后客户端发送密钥交换数据 也可以发送证书验证消息</li>
<li>第四阶段 变更密码构件和结束握手协议</li>
</ul>
<p>完成了之后，客户端和服务器端就可以开始传送数据</p>
<p><strong>发送HTTP请求，服务器处理请求，返回响应结果</strong></p>
<blockquote>
<p>TCP连接建立后，浏览器就可以利用 <code>HTTP／HTTPS</code> 协议向服务器发送请求了。服务器接受到请求，就解析请求头，如果头部有缓存相关信息如<code>if-none-match与if-modified-since</code>，则验证缓存是否有效，若有效则返回状态码为<code>304</code>，若无效则重新返回资源，状态码为<code>200</code></p>
</blockquote>
<p>这里有发生的一个过程是HTTP缓存，是一个常考的考点，大致过程如图：</p>
<p><img data-src="https://s.poetries.work/images/20210504135417.png" alt="img"></p>
<p><strong>3. 关闭TCP连接</strong></p>
<p><strong>4. 浏览器渲染</strong></p>
<blockquote>
<p>按照渲染的时间顺序，流水线可分为如下几个子阶段：构建 DOM 树、样式计算、布局阶段、分层、栅格化和显示。如图：</p>
</blockquote>
<p><img data-src="https://s.poetries.work/images/20210504135549.png" alt="img"></p>
<ul>
<li>渲染进程将 HTML 内容转换为能够读懂DOM 树结构。</li>
<li>渲染引擎将 CSS 样式表转化为浏览器可以理解的 <code>styleSheets</code>，计算出 <code>DOM</code> 节点的样式。</li>
<li>创建布局树，并计算元素的布局信息。</li>
<li>对布局树进行分层，并生成分层树。</li>
<li>为每个图层生成绘制列表，并将其提交到合成线程。合成线程将图层分图块，并栅格化将图块转换成位图。</li>
<li>合成线程发送绘制图块命令给浏览器进程。浏览器进程根据指令生成页面，并显示到显示器上。</li>
</ul>
<p><strong>构建 DOM 树</strong></p>
<p><img data-src="https://s.poetries.work/images/20210504135701.png" alt="img"></p>
<ul>
<li>转码（Bytes -&gt; Characters）—— 读取接收到的 HTML 二进制数据，按指定编码格式将字节转换为 HTML 字符串</li>
<li>Tokens 化（Characters -&gt; Tokens）—— 解析 HTML，将 HTML 字符串转换为结构清晰的 Tokens，每个 Token 都有特殊的含义同时有自己的一套规则</li>
<li>构建 Nodes（Tokens -&gt; Nodes）—— 每个 Node 都添加特定的属性（或属性访问器），通过指针能够确定 Node 的父、子、兄弟关系和所属 treeScope（例如：iframe 的 treeScope 与外层页面的 treeScope 不同）</li>
<li>构建 DOM 树（Nodes -&gt; DOM Tree）—— 最重要的工作是建立起每个结点的父子兄弟关系</li>
</ul>
<p><strong>样式计算</strong></p>
<p>渲染引擎将 CSS 样式表转化为浏览器可以理解的 styleSheets，计算出 DOM 节点的样式。</p>
<blockquote>
<p>CSS 样式来源主要有 3 种，分别是通过 link 引用的外部 CSS 文件、style标签内的 CSS、元素的 style 属性内嵌的 CSS。</p>
</blockquote>
<p><strong>页面布局</strong></p>
<blockquote>
<p>布局过程，即<code>排除 script、meta 等功能化、非视觉节点</code>，排除 <code>display: none</code> 的节点，计算元素的位置信息，确定元素的位置，构建一棵只包含可见元素布局树。如图：</p>
</blockquote>
<p><img data-src="https://s.poetries.work/images/20210504135900.png" alt="img"></p>
<blockquote>
<p>其中，这个过程需要注意的是回流和重绘</p>
</blockquote>
<p><strong>生成分层树</strong></p>
<blockquote>
<p>页面中有很多复杂的效果，如一些复杂的 3D 变换、页面滚动，或者使用 z-indexing 做 z 轴排序等，为了更加方便地实现这些效果，渲染引擎还需要为特定的节点生成专用的图层，并生成一棵对应的图层树（LayerTree）</p>
</blockquote>
<p><strong>栅格化</strong></p>
<blockquote>
<p>合成线程会按照视口附近的图块来优先生成位图，实际生成位图的操作是由栅格化来执行的。所谓栅格化，是指将图块转换为位图</p>
</blockquote>
<p><img data-src="https://s.poetries.work/images/20210504140042.png" alt="img"></p>
<p>通常一个页面可能很大，但是用户只能看到其中的一部分，我们把用户可以看到的这个部分叫做视口（viewport）。在有些情况下，有的图层可以很大，比如有的页面你使用滚动条要滚动好久才能滚动到底部，但是通过视口，用户只能看到页面的很小一部分，所以在这种情况下，要绘制出所有图层内容的话，就会产生太大的开销，而且也没有必要。</p>
<p><strong>显示</strong></p>
<p>最后，合成线程发送绘制图块命令给浏览器进程。浏览器进程根据指令生成页面，并显示到显示器上，渲染过程完成。</p>
]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>前端 面试</tag>
      </tags>
  </entry>
  <entry>
    <title>前端面试指南</title>
    <url>/2022/05/20/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<p>介绍目前常见前端面试题，参考链接 <span class="exturl" data-url="aHR0cHM6Ly9pbnRlcnZpZXcyLnBvZXRyaWVzLnRvcC8=">https://interview2.poetries.top/<i class="fa fa-external-link-alt"></i></span></p>
<span id="more"></span>



<h2 id="HTML、HTTP、web综合问题"><a href="#HTML、HTTP、web综合问题" class="headerlink" title="HTML、HTTP、web综合问题"></a>HTML、HTTP、web综合问题</h2><h3 id="❤常用的meta标签有哪些"><a href="#❤常用的meta标签有哪些" class="headerlink" title="❤常用的meta标签有哪些"></a>❤常用的meta标签有哪些</h3><p><code>meta</code> 标签由 <code>name</code> 和 <code>content</code> 属性定义，<strong>用来描述网页文档的属性</strong>，比如网页的作者，网页描述，关键词等，除了HTTP标准固定了一些<code>name</code>作为大家使用的共识，开发者还可以自定义name。</p>
<p>常用的meta标签：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html">（1）`charset`，用来描述HTML文档的编码类型：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>

（2） keywords，页面关键词：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>keywords<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>关键词<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

（3）description，页面描述：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>页面描述内容<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

（4）refresh，页面重定向和刷新：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>refresh<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0;url=<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

（5）viewport，适配移动端，可以控制视口的大小和比例：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1, maximum-scale=1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>其中，<code>content</code> 参数有以下几种：</p>
<ul>
<li><code>width viewport</code> ：宽度(数值/device-width)</li>
<li><code>height viewport</code> ：高度(数值/device-height)</li>
<li><code>initial-scale</code> ：初始缩放比例</li>
<li><code>maximum-scale</code> ：最大缩放比例</li>
<li><code>minimum-scale</code> ：最小缩放比例</li>
<li><code>user-scalable</code> ：是否允许用户缩放(yes/no）</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">（6）搜索引擎索引方式：
&lt;meta name&#x3D;&quot;robots&quot; content&#x3D;&quot;index,follow&quot; &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>其中，<code>content</code> 参数有以下几种：</p>
<ul>
<li><code>all</code>：文件将被检索，且页面上的链接可以被查询；</li>
<li><code>none</code>：文件将不被检索，且页面上的链接不可以被查询；</li>
<li><code>index</code>：文件将被检索；</li>
<li><code>follow</code>：页面上的链接可以被查询；</li>
<li><code>noindex</code>：文件将不被检索；</li>
<li><code>nofollow</code>：页面上的链接不可以被查询。</li>
</ul>
<h3 id="❤meta-标签：自动刷新-跳转"><a href="#❤meta-标签：自动刷新-跳转" class="headerlink" title="❤meta 标签：自动刷新/跳转"></a>❤meta 标签：自动刷新/跳转</h3><p>假设要实现一个类似 PPT 自动播放的效果，你很可能会想到使用 JavaScript 定时器控制页面跳转来实现。但其实有更加简洁的实现方法，比如通过 meta 标签来实现：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Refresh<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5; URL=page2.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>上面的代码会在 5s 之后自动跳转到同域下的 page2.html 页面。我们要实现 PPT 自动播放的功能，只需要在每个页面的 meta 标签内设置好下一个页面的地址即可。</p>
<p>另一种场景，比如每隔一分钟就需要刷新页面的大屏幕监控，也可以通过 meta 标签来实现，只需去掉后面的 URL 即可：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Refresh<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>60<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>meta viewport相关</strong></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!--H5标准声明，使用 HTML5 doctype，不区分大小写--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”en”</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!--标准的 lang 属性写法--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>’utf-8′</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--声明文档使用的字符编码--></span>
&lt;meta http-equiv=”X-UA-Compatible” content=”IE=edge,chrome=1″/>   <span class="token comment">&lt;!--优先使用 IE 最新版本和 Chrome--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”description”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”不超过150个字符”/</span><span class="token punctuation">></span></span>       <span class="token comment">&lt;!--页面描述--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”keywords”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>””/</span><span class="token punctuation">></span></span>     <span class="token comment">&lt;!-- 页面关键词--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”author”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”name,</span> <span class="token attr-name">email@gmail.com”</span><span class="token punctuation">/></span></span>    <span class="token comment">&lt;!--网页作者--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”robots”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”index,follow”/</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--搜索引擎抓取--></span>
&lt;meta name=”viewport” content=”initial-scale=1, maximum-scale=3, minimum-scale=1, user-scalable=no”> <span class="token comment">&lt;!--为移动设备添加 viewport--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”apple-mobile-web-app-title”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”标题”</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!--iOS 设备 begin--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”apple-mobile-web-app-capable”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”yes”/</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--添加到主屏后的标题（iOS 6 新增）是否启用 WebApp 全屏模式，删除苹果默认的工具栏和菜单栏--></span>
&lt;meta name=”apple-itunes-app” content=”app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL”>
<span class="token comment">&lt;!--添加智能 App 广告条 Smart App Banner（iOS 6+ Safari）--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”apple-mobile-web-app-status-bar-style”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”black”/</span><span class="token punctuation">></span></span>
&lt;meta name=”format-detection” content=”telphone=no, email=no”/>  <span class="token comment">&lt;!--设置苹果工具栏颜色--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”renderer”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”webkit”</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!-- 启用360浏览器的极速模式(webkit)--></span>
&lt;meta http-equiv=”X-UA-Compatible” content=”IE=edge”>     <span class="token comment">&lt;!--避免IE使用兼容模式--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”Cache-Control”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”no-siteapp”</span> <span class="token punctuation">/></span></span>    <span class="token comment">&lt;!--不让百度转码--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”HandheldFriendly”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”true”</span><span class="token punctuation">></span></span>     <span class="token comment">&lt;!--针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”MobileOptimized”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”320″</span><span class="token punctuation">></span></span>   <span class="token comment">&lt;!--微软的老式浏览器--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”screen-orientation”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”portrait”</span><span class="token punctuation">></span></span>   <span class="token comment">&lt;!--uc强制竖屏--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”x5-orientation”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”portrait”</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--QQ强制竖屏--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”full-screen”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”yes”</span><span class="token punctuation">></span></span>              <span class="token comment">&lt;!--UC强制全屏--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”x5-fullscreen”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”true”</span><span class="token punctuation">></span></span>       <span class="token comment">&lt;!--QQ强制全屏--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”browsermode”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”application”</span><span class="token punctuation">></span></span>   <span class="token comment">&lt;!--UC应用模式--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”x5-page-mode”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”app”</span><span class="token punctuation">></span></span>   <span class="token comment">&lt;!-- QQ应用模式--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”msapplication-tap-highlight”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”no”</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--windows phone 点击无高亮设置页面不缓存--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”pragma”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”no-cache”</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”cache-control”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”no-cache”</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”expires”</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”0″</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤viewport"><a href="#❤viewport" class="headerlink" title="❤viewport"></a>❤viewport</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"</span> <span class="token operator">/</span><span class="token operator">></span>
   <span class="token comment">// width    设置viewport宽度，为一个正整数，或字符串‘device-width’</span>
   <span class="token comment">// device-width  设备宽度</span>
   <span class="token comment">// height   设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置</span>
   <span class="token comment">// initial-scale    默认缩放比例（初始缩放比例），为一个数字，可以带小数</span>
   <span class="token comment">// minimum-scale    允许用户最小缩放比例，为一个数字，可以带小数</span>
   <span class="token comment">// maximum-scale    允许用户最大缩放比例，为一个数字，可以带小数</span>
   <span class="token comment">// user-scalable    是否允许手动缩放</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>延伸提问<ul>
<li>怎样处理 移动端 <code>1px</code> 被 渲染成 <code>2px</code>问题</li>
</ul>
</li>
</ul>
<p><strong>局部处理</strong></p>
<ul>
<li><code>meta</code>标签中的 <code>viewport</code>属性 ，<code>initial-scale</code> 设置为 <code>1</code></li>
<li><code>rem</code>按照设计稿标准走，外加利用<code>transfrome</code> 的<code>scale(0.5)</code> 缩小一倍即可；</li>
</ul>
<p><strong>全局处理</strong></p>
<ul>
<li><code>mate</code>标签中的 <code>viewport</code>属性 ，<code>initial-scale</code> 设置为 <code>0.5</code></li>
<li><code>rem</code> 按照设计稿标准走即可</li>
</ul>
<h3 id="❤性能优化"><a href="#❤性能优化" class="headerlink" title="❤性能优化"></a>❤性能优化</h3><blockquote>
<p>性能优化是前端开发中避不开的问题，<code>性能问题无外乎两方面原因：渲染速度慢、请求时间长</code>。性能优化虽然涉及很多复杂的原因和解决方案，但其实只要通过合理地使用标签，就可以在一定程度上提升渲染速度以及减少请求时间</p>
</blockquote>
<p><strong>1. script 标签：调整加载顺序提升渲染速度</strong></p>
<ul>
<li>由于浏览器的底层运行机制，<code>渲染引擎在解析 HTML 时，若遇到 script 标签引用文件，则会暂停解析过程</code>，同时<code>通知网络线程加载文件，文件加载后会切换至 JavaScript 引擎来执行对应代码</code>，<code>代码执行完成之后切换至渲染引擎继续渲染页面</code>。</li>
<li>在这一过程中可以看到，<code>页面渲染过程中包含了请求文件以及执行文件的时间</code>，但页面的首次渲染可能并不依赖这些文件，这些请求和执行文件的动作反而延长了用户看到页面的时间，从而降低了用户体验。</li>
</ul>
<p><strong>为了减少这些时间损耗，可以借助 script 标签的 3 个属性来实现。</strong></p>
<ul>
<li><code>async 属性</code>。立即请求文件，但不阻塞渲染引擎，而是<code>文件加载完毕后阻塞渲染引擎并立即执行文件内容</code></li>
<li><code>defer 属性</code>。立即请求文件，但不阻塞渲染引擎，<code>等到解析完 HTML 之后再执行</code>文件内容</li>
<li>HTML5 标准 type 属性，对应值为“module”。让浏览器按照 ECMA Script 6 标准将文件当作模块进行解析，默认阻塞效果同 defer，也可以配合 async 在请求完成后立即执行。</li>
</ul>
<p><img data-src="https://s.poetries.work/images/20210421163450.png" alt="img"></p>
<blockquote>
<p>绿色的线表示执行解析 HTML ，蓝色的线表示请求文件，红色的线表示执行文件</p>
</blockquote>
<p><code>当渲染引擎解析 HTML 遇到 script 标签引入文件时，会立即进行一次渲染</code>。所以这也就是为什么构建工具会把编译好的引用 JavaScript 代码的 script 标签放入到 body 标签底部，因为当渲染引擎执行到 body 底部时会先将已解析的内容渲染出来，然后再去请求相应的 JavaScript 文件</p>
<p><strong>2. link 标签：通过预处理提升渲染速度</strong></p>
<p>在我们对大型单页应用进行性能优化时，也许会用到按需懒加载的方式，来加载对应的模块，但如果能合理利用 <code>link</code> 标签的 <code>rel</code> 属性值来进行预加载，就能进一步提升渲染速度。</p>
<ul>
<li><code>dns-prefetch</code>。当 <code>link</code> 标签的 <code>rel</code> 属性值为“dns-prefetch”时，<code>浏览器会对某个域名预先进行 DNS 解析并缓存</code>。这样，当浏览器在请求同域名资源的时候，能省去从域名查询 IP 的过程，从而<code>减少时间损耗</code>。下图是淘宝网设置的 DNS 预解析 <img data-src="https://s.poetries.work/images/20210421163848.png" alt="img"></li>
<li><code>preconnect</code>。让浏览器在一个 HTTP 请求正式发给服务器前预先执行一些操作，这包括<code>DNS 解析、TLS 协商、TCP 握手</code>，通过消除往返延迟来为用户节省时间</li>
<li><code>prefetch/preload</code>。两个值都是<code>让浏览器预先下载并缓存某个资源</code>，但不同的是，<code>prefetch 可能会在浏览器忙时被忽略</code>，而 <code>preload 则是一定会被预先下载</code>。</li>
<li><code>prerender</code>。浏览器不仅会加载资源，还会解析执行页面，进行预渲染</li>
</ul>
<p>这几个属性值恰好反映了浏览器获取资源文件的过程，在这里我绘制了一个流程简图，方便你记忆。</p>
<p><img data-src="https://s.poetries.work/images/20210421164758.png" alt="img"></p>
<p><strong>3. 搜索优化</strong></p>
<ul>
<li>meta 标签：提取关键信息<ul>
<li>通过 meta 标签可以设置页面的描述信息，从而让搜索引擎更好地展示搜索结果。</li>
<li>示例 <code>&lt;meta name=&quot;description&quot; content=&quot;全球最大的中文搜索引擎、致力于让网民更便捷地获取信息，找到所求。百度超过千亿的中文网页数据库，可以瞬间找到相关的搜索结果。&quot;&gt;</code></li>
</ul>
</li>
</ul>
<h3 id="❤defer和async的区别"><a href="#❤defer和async的区别" class="headerlink" title="❤defer和async的区别"></a>❤defer和async的区别</h3><ul>
<li><strong>得分点</strong> 加载JS文档和渲染文档可以同时进行、JS代码立即执行、JS代码不立即执行、渲染引擎和JS引擎互斥</li>
<li><strong>标准回答</strong> 浏览器会立即加载JS文件并执行指定的脚本，“立即”指的是在渲染该 script 标签之下的文档元素之前，也就是说不等待后续载入的文档元素，读到就加载并执行<ul>
<li>加上<strong>async</strong>属性，加载JS文档和渲染文档可以同时进行（异步），当JS加载完成，JS代码立即执行，会阻塞HTML渲染。</li>
<li>加上<strong>defer</strong>，加载后续文档元素的过程将和 script.js 的加载并行进行（异步），当HTML渲染完成，才会执行JS代码。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li><strong>渲染阻塞的原因：</strong> 由于 JavaScript 是可操纵 DOM 的,如果在修改这些元素属性同时渲染界面（即 JavaScript 线程和 UI 线程同时运行）,那么渲染线程前后获得的元素数据就可能不一致了。因此为了防止渲染出现不可预期的结果,浏览器设置 GUI 渲染线程与 JavaScript 引擎为互斥的关系。当浏览器在执行 JavaScript 程序的时候,GUI 渲染线程会被保存在一个队列中,直到 JS 程序执行完成,才会接着执行。如果 JS 执行的时间过长,这样就会造成页面的渲染不连贯,导致页面渲染加载阻塞的感觉</li>
</ul>
</li>
</ul>
<p>下图可以直观的看出三者之间的区别:</p>
<p> <img data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b0a8a139519f46dfa2d1992c58eb5397~tplv-k3u1fbpfcp-zoom-in-crop-mark:3402:0:0:0.awebp" alt="image.png"></p>
<p>其中蓝色代表js脚本网络加载时间，红色代表js脚本执行时间，绿色代表html解析。</p>
<p><strong>defer 和 async属性都是去异步加载外部的JS脚本文件，它们都不会阻塞页面的解析</strong>，其区别如下：</p>
<ul>
<li><strong>执行顺序：</strong> 多个带async属性的标签，不能保证加载的顺序；多个带defer属性的标签，按照加载顺序执行；</li>
<li><strong>脚本是否并行执行：async属性，表示后续文档的加载和执行与js脚本的加载和执行是并行进行的</strong>，即异步执行；defer属性，加载后续文档的过程和js脚本的加载(此时仅加载不执行)是并行进行的(异步)，js脚本需要等到文档所有元素解析完成之后才执行，DOMContentLoaded事件触发执行之前。</li>
</ul>
<h3 id="❤如何高效操作DOM"><a href="#❤如何高效操作DOM" class="headerlink" title="❤如何高效操作DOM"></a>❤如何高效操作DOM</h3><p><strong>为什么说 DOM 操作耗时</strong></p>
<p><strong>1.1 线程切换</strong></p>
<ul>
<li>浏览器为了避免两个引擎同时修改页面而造成渲染结果不一致的情况，增加了另外一个机制，这<code>两个引擎具有互斥性</code>，也就是说在某个时刻只有<code>一个引擎在运行，另一个引擎会被阻塞</code>。操作系统在进行线程切换的时候需要保存上一个线程执行时的状态信息并读取下一个线程的状态信息，俗称上下文切换。而这个操作相对而言是比较耗时的</li>
<li>每次 DOM 操作就会引发线程的上下文切换——从 JavaScript 引擎切换到渲染引擎执行对应操作，然后再切换回 JavaScript 引擎继续执行，这就带来了性能损耗。单次切换消耗的时间是非常少的，但是如果频繁地大量切换，那么就会产生性能问题</li>
</ul>
<p>比如下面的测试代码，循环读取一百万次 DOM 中的 body 元素的耗时是读取 JSON 对象耗时的 10 倍。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 测试次数：一百万次</span>
<span class="token keyword">const</span> times <span class="token operator">=</span> <span class="token number">1000000</span>
<span class="token comment">// 缓存body元素</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span>body
<span class="token comment">// 循环赋值对象作为对照参考</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>times<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> body
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token comment">// object: 1.77197265625ms</span>

console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'dom'</span><span class="token punctuation">)</span>
<span class="token comment">// 循环读取body元素引发线程切换</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>times<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> document<span class="token punctuation">.</span>body
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'dom'</span><span class="token punctuation">)</span><span class="token comment">// dom: 18.302001953125ms</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>1.2 重新渲染</strong></p>
<p>另一个更加耗时的因素是元素及样式变化引起的再次渲染，在<code>渲染过程中最耗时的两个步骤为重排（Reflow）与重绘（Repaint）</code>。</p>
<p>浏览器在渲染页面时会将 HTML 和 CSS 分别解析成 DOM 树和 CSSOM 树，然后合并进行排布，再绘制成我们可见的页面。如果在操作 DOM 时涉及到元素、样式的修改，就会引起渲染引擎重新计算样式生成 CSSOM 树，同时还有可能触发对元素的重新排布和重新绘制</p>
<ul>
<li>可能会影响到其他元素排布的操作就会引起重排，继而引发重绘<ul>
<li>修改元素边距、大小</li>
<li>添加、删除元素</li>
<li>改变窗口大小</li>
</ul>
</li>
<li>引起重绘<ul>
<li>设置背景图片</li>
<li>修改字体颜色</li>
<li>改变 <code>visibility</code>属性值</li>
</ul>
</li>
</ul>
<blockquote>
<p>了解更多关于重绘和重排的样式属性，可以参看这个网址：<span class="exturl" data-url="aHR0cHM6Ly9jc3N0cmlnZ2Vycy5jb20v">https://csstriggers.com/ (opens new window)<i class="fa fa-external-link-alt"></i></span>。</p>
</blockquote>
<p><strong>2. 如何高效操作 DOM</strong></p>
<blockquote>
<p>明白了 DOM 操作耗时之��后，要提升性能就变得很简单了，反其道而行之，减少这些操作即可</p>
</blockquote>
<p><strong>2.1 在循环外操作元素</strong></p>
<p>比如下面两段测试代码对比了读取 1000 次 JSON 对象以及访问 1000 次 body 元素的耗时差异，相差一个数量级</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> times <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'switch'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  document<span class="token punctuation">.</span>body <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'switch'</span><span class="token punctuation">)</span> <span class="token comment">// 1.873046875ms</span>
<span class="token keyword">var</span> body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'batch'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  body <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'batch'</span><span class="token punctuation">)</span> <span class="token comment">// 0.846923828125ms</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>2.2 批量操作元素</strong></p>
<p>比如说要创建 1 万个 div 元素，在循环中直接创建再添加到父元素上耗时会非常多。如果采用字符串拼接的形式，先将 1 万个 div 元素的 html 字符串拼接成一个完整字符串，然后赋值给 <code>body</code> 元素的 <code>innerHTML</code> 属性就可以明显减少耗时</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> times <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'createElement'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'createElement'</span><span class="token punctuation">)</span><span class="token comment">// 54.964111328125ms</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'innerHTML'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> html<span class="token operator">=</span><span class="token string">''</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  html<span class="token operator">+=</span><span class="token string">'&lt;div>&lt;/div>'</span>
<span class="token punctuation">&#125;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> html <span class="token comment">// 31.919921875ms</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'innerHTML'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="前端需要注意哪些SEO"><a href="#前端需要注意哪些SEO" class="headerlink" title="前端需要注意哪些SEO"></a>前端需要注意哪些SEO</h3><ul>
<li>合理的<code>title</code>、<code>description</code>、<code>keywords</code>：搜索对着三项的权重逐个减小，<code>title</code>值强调重点即可，重要关键词出现不要超过2次，而且要靠前，不同页面<code>title</code>要有所不同；<code>description</code>把页面内容高度概括，长度合适，不可过分堆砌关键词，不同页面<code>description</code>有所不同；<code>keywords</code>列举出重要关键词即可</li>
<li>语义化的<code>HTML</code>代码，符合W3C规范：语义化代码让搜索引擎容易理解网页</li>
<li>重要内容<code>HTML</code>代码放在最前：搜索引擎抓取<code>HTML</code>顺序是从上到下，有的搜索引擎对抓取长度有限制，保证重要内容一定会被抓取</li>
<li>重要内容不要用<code>js</code>输出：爬虫不会执行js获取内容</li>
<li>少用<code>iframe</code>：搜索引擎不会抓取<code>iframe</code>中的内容</li>
<li>非装饰性图片必须加<code>alt</code></li>
<li>提高网站速度：网站速度是搜索引擎排序的一个重要指标</li>
</ul>
<h3 id="lt-img-gt-的title和alt有什么区别"><a href="#lt-img-gt-的title和alt有什么区别" class="headerlink" title="&lt;img&gt;的title和alt有什么区别"></a><code>&lt;img&gt;</code>的<code>title</code>和<code>alt</code>有什么区别</h3><ul>
<li><code>title</code> 通常当鼠标滑动到元素上的时候显示</li>
<li><code>alt</code>是<code>&lt;img&gt;</code>的特有属性，是图片内容的等价描述，用于图片无法加载时显示、读屏器阅读图片。可提图片高可访问性，除了纯装饰图片外都必须设置有意义的值，搜索引擎会重点分析。</li>
</ul>
<h3 id="HTTP的几种请求方法用途"><a href="#HTTP的几种请求方法用途" class="headerlink" title="HTTP的几种请求方法用途"></a>HTTP的几种请求方法用途</h3><ul>
<li><code>GET</code>方法<ul>
<li>发送一个请求来取得服务器上的某一资源</li>
</ul>
</li>
<li><code>POST</code>方法<ul>
<li>向<code>URL</code>指定的资源提交数据或附加新的数据</li>
</ul>
</li>
<li><code>PUT</code>方法<ul>
<li>跟<code>POST</code>方法很像，也是想服务器提交数据。但是，它们之间有不同。<code>PUT</code>指定了资源在服务器上的位置，而<code>POST</code>没有</li>
</ul>
</li>
<li><code>HEAD</code>方法<ul>
<li>只请求页面的首部</li>
</ul>
</li>
<li><code>DELETE</code>方法<ul>
<li>删除服务器上的某资源</li>
</ul>
</li>
<li><code>OPTIONS</code>方法<ul>
<li>它用于获取当前<code>URL</code>所支持的方法。如果请求成功，会有一个<code>Allow</code>的头包含类似<code>“GET,POST”</code>这样的信息</li>
</ul>
</li>
<li><code>TRACE</code>方法<ul>
<li><code>TRACE</code>方法被用于激发一个远程的，应用层的请求消息回路</li>
</ul>
</li>
<li><code>CONNECT</code>方法<ul>
<li>把请求连接转换到透明的<code>TCP/IP</code>通道</li>
</ul>
</li>
</ul>
<h3 id="❤从浏览器地址栏输入url到显示页面的步骤"><a href="#❤从浏览器地址栏输入url到显示页面的步骤" class="headerlink" title="❤从浏览器地址栏输入url到显示页面的步骤"></a>❤从浏览器地址栏输入url到显示页面的步骤</h3><p><strong>基础版本</strong></p>
<ul>
<li>浏览器根据请求的<code>URL</code>交给<code>DNS</code>域名解析，找到真实<code>IP</code>，向服务器发起请求；</li>
<li>服务器交给后台处理完成后返回数据，浏览器接收文件（<code>HTML、JS、CSS</code>、图象等）；</li>
<li>浏览器对加载到的资源（<code>HTML、JS、CSS</code>等）进行语法解析，建立相应的内部数据结构（如<code>HTML</code>的<code>DOM</code>）；</li>
<li>载入解析到的资源文件，渲染页面，完成。</li>
</ul>
<p><strong>详细版</strong></p>
<ol>
<li>在浏览器地址栏输入URL</li>
<li>浏览器查看<strong>缓存</strong>，如果请求资源在缓存中并且新鲜，跳转到转码步骤<ol>
<li>如果资源未缓存，发起新请求</li>
<li>如果已缓存，检验是否足够新鲜，足够新鲜直接提供给客户端，否则与服务器进行验证。</li>
<li>检验新鲜通常有两个HTTP头进行控制<code>Expires</code>和<code>Cache-Control</code>：<ul>
<li>HTTP1.0提供Expires，值为一个绝对时间表示缓存新鲜日期</li>
<li>HTTP1.1增加了Cache-Control: max-age=,值为以秒为单位的最大新鲜时间</li>
</ul>
</li>
</ol>
</li>
<li>浏览器<strong>解析URL</strong>获取协议，主机，端口，path</li>
<li>浏览器<strong>组装一个HTTP（GET）请求报文</strong></li>
<li>浏览器<strong>获取主机ip地址</strong>，过程如下：<ol>
<li>浏览器缓存</li>
<li>本机缓存</li>
<li>hosts文件</li>
<li>路由器缓存</li>
<li>ISP DNS缓存</li>
<li>DNS递归查询（可能存在负载均衡导致每次IP不一样）</li>
</ol>
</li>
<li><strong>打开一个socket与目标IP地址，端口建立TCP链接</strong>，三次握手如下：<ol>
<li>客户端发送一个TCP的<strong>SYN=1，Seq=X</strong>的包到服务器端口</li>
<li>服务器发回<strong>SYN=1， ACK=X+1， Seq=Y</strong>的响应包</li>
<li>客户端发送<strong>ACK=Y+1， Seq=Z</strong></li>
</ol>
</li>
<li>TCP链接建立后<strong>发送HTTP请求</strong></li>
<li>服务器接受请求并解析，将请求转发到服务程序，如虚拟主机使用HTTP Host头部判断请求的服务程序</li>
<li>服务器检查<strong>HTTP请求头是否包含缓存验证信息</strong>如果验证缓存新鲜，返回<strong>304</strong>等对应状态码</li>
<li>处理程序读取完整请求并准备HTTP响应，可能需要查询数据库等操作</li>
<li>服务器将<strong>响应报文通过TCP连接发送回浏览器</strong></li>
<li>浏览器接收HTTP响应，然后根据情况选择<strong>关闭TCP连接或者保留重用，关闭TCP连接的四次握手如下</strong>：<ol>
<li>主动方发送<strong>Fin=1， Ack=Z， Seq= X</strong>报文</li>
<li>被动方发送<strong>ACK=X+1， Seq=Z</strong>报文</li>
<li>被动方发送<strong>Fin=1， ACK=X， Seq=Y</strong>报文</li>
<li>主动方发送<strong>ACK=Y， Seq=X</strong>报文</li>
</ol>
</li>
<li>浏览器检查响应状态吗：是否为1XX，3XX， 4XX， 5XX，这些情况处理与2XX不同</li>
<li>如果资源可缓存，<strong>进行缓存</strong></li>
<li>对响应进行<strong>解码</strong>（例如gzip压缩）</li>
<li>根据资源类型决定如何处理（假设资源为HTML文档）</li>
<li><strong>解析HTML文档，构件DOM树，下载资源，构造CSSOM树，执行js脚本</strong>，这些操作没有严格的先后顺序，以下分别解释</li>
<li><strong>构建DOM树</strong>：<ol>
<li><strong>Tokenizing</strong>：根据HTML规范将字符流解析为标记</li>
<li><strong>Lexing</strong>：词法分析将标记转换为对象并定义属性和规则</li>
<li><strong>DOM construction</strong>：根据HTML标记关系将对象组成DOM树</li>
</ol>
</li>
<li>解析过程中遇到图片、样式表、js文件，<strong>启动下载</strong></li>
<li>构建<strong>CSSOM树</strong>：<ol>
<li><strong>Tokenizing</strong>：字符流转换为标记流</li>
<li><strong>Node</strong>：根据标记创建节点</li>
<li><strong>CSSOM</strong>：节点创建CSSOM树</li>
</ol>
</li>
<li><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL2Z1bmRhbWVudGFscy9wZXJmb3JtYW5jZS9jcml0aWNhbC1yZW5kZXJpbmctcGF0aC9yZW5kZXItdHJlZS1jb25zdHJ1Y3Rpb24=">根据DOM树和CSSOM树构建渲染树 (opens new window)<i class="fa fa-external-link-alt"></i></span>:<ol>
<li>从DOM树的根节点遍历所有<strong>可见节点</strong>，不可见节点包括：1）<code>script</code>,<code>meta</code>这样本身不可见的标签。2)被css隐藏的节点，如<code>display: none</code></li>
<li>对每一个可见节点，找到恰当的CSSOM规则并应用</li>
<li>发布可视节点的内容和计算样式</li>
</ol>
</li>
<li><strong>js解析如下</strong>：<ol>
<li>浏览器创建Document对象并解析HTML，将解析到的元素和文本节点添加到文档中，此时<strong>document.readystate为loading</strong></li>
<li>HTML解析器遇到<strong>没有async和defer的script时</strong>，将他们添加到文档中，然后执行行内或外部脚本。这些脚本会同步执行，并且在脚本下载和执行时解析器会暂停。这样就可以用document.write()把文本插入到输入流中。<strong>同步脚本经常简单定义函数和注册事件处理程序，他们可以遍历和操作script和他们之前的文档内容</strong></li>
<li>当解析器遇到设置了<strong>async</strong>属性的script时，开始下载脚本并继续解析文档。脚本会在它<strong>下载完成后尽快执行</strong>，但是<strong>解析器不会停下来等它下载</strong>。异步脚本**禁止使用document.write()**，它们可以访问自己script和之前的文档元素</li>
<li>当文档完成解析，document.readState变成interactive</li>
<li>所有<strong>defer</strong>脚本会<strong>按照在文档出现的顺序执行</strong>，延迟脚本<strong>能访问完整文档树</strong>，禁止使用document.write()</li>
<li>浏览器<strong>在Document对象上触发DOMContentLoaded事件</strong></li>
<li>此时文档完全解析完成，浏览器可能还在等待如图片等内容加载，等这些<strong>内容完成载入并且所有异步脚本完成载入和执行</strong>，document.readState变为complete，window触发load事件</li>
</ol>
</li>
<li><strong>显示页面</strong>（HTML解析过程中会逐步显示页面）</li>
</ol>
<p><strong>详细简版</strong></p>
<ol>
<li>从浏览器接收<code>url</code>到开启网络请求线程（这一部分可以展开浏览器的机制以及进程与线程之间的关系）</li>
<li>开启网络线程到发出一个完整的<code>HTTP</code>请求（这一部分涉及到dns查询，<code>TCP/IP</code>请求，五层因特网协议栈等知识）</li>
<li>从服务器接收到请求到对应后台接收到请求（这一部分可能涉及到负载均衡，安全拦截以及后台内部的处理等等）</li>
<li>后台和前台的<code>HTTP</code>交互（这一部分包括<code>HTTP</code>头部、响应码、报文结构、<code>cookie</code>等知识，可以提下静态资源的<code>cookie</code>优化，以及编码解码，如<code>gzip</code>压缩等）</li>
<li>单独拎出来的缓存问题，<code>HTTP</code>的缓存（这部分包括http缓存头部，<code>ETag</code>，<code>catch-control</code>等）</li>
<li>浏览器接收到<code>HTTP</code>数据包后的解析流程（解析<code>html</code>-词法分析然后解析成<code>dom</code>树、解析<code>css</code>生成<code>css</code>规则树、合并成<code>render</code>树，然后<code>layout</code>、<code>painting</code>渲染、复合图层的合成、<code>GPU</code>绘制、外链资源的处理、<code>loaded</code>和<code>DOMContentLoaded</code>等）</li>
<li><code>CSS</code>的可视化格式模型（元素的渲染规则，如包含块，控制框，<code>BFC</code>，<code>IFC</code>等概念）</li>
<li><code>JS</code>引擎解析过程（<code>JS</code>的解释阶段，预处理阶段，执行阶段生成执行上下文，<code>VO</code>，作用域链、回收机制等等）</li>
<li>其它（可以拓展不同的知识模块，如跨域，web安全，<code>hybrid</code>模式等等内容）</li>
</ol>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> DNS解析、TCP握手、HTTP缓存、重定向、服务器状态码、渲染引擎和JS引擎互斥、渲染过程、浏览器进程、网络进程、渲染进程</li>
<li><strong>标准回答</strong><ul>
<li>输入地址，浏览器查找域名的 IP 地址。</li>
<li>浏览器向 该 IP 地址的web 服务器发送一个 HTTP 请求，在发送请求之前浏览器和服务器建立TCP的三次握手，判断是否是HTTP缓存，如果是强制缓存且在有效期内，不再向服务器发请求，如果是HTTP协商缓存向后端发送请求且和后端服务器对比，在有效期内，服务器返回304，直接从浏览器获取数据，如果不在有效期内服务器返回200，返回新数据。</li>
<li>请求发送出去服务器返回重定向，浏览器再按照重定向的地址重新发送请求。 如果请求的参数有问题，服务器端返回404，如果服务器端挂了返回500。</li>
<li>如果有数据一切正常，当浏览器拿到服务器的数据之后，开始渲染页面同时获取HTML页面中图片、音频、视频、CSS、JS，在这期间获取到JS文件之后，会直接执行JS代码，阻塞浏览器渲染，因为渲染引擎和JS引擎互斥，不能同时工作，所以通常把Script标签放在body标签的底部。</li>
<li>渲染过程就是先将HTML转换成dom树，再将CSS样式转换成stylesheet，根据dom树和stylesheet创建布局树，对布局树进行分层，为每个图层生成绘制列表，再将图层分成图块，紧接着光栅化将图块转换成位图，最后合成绘制生成页面。</li>
</ul>
</li>
</ul>
<h3 id="❤浏览器渲染过程"><a href="#❤浏览器渲染过程" class="headerlink" title="❤浏览器渲染过程"></a>❤浏览器渲染过程</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> dom树、stylesheet、布局树、分层、光栅化、合成</li>
<li><strong>标准回答</strong> 浏览器拿到HTML，先将HTML转换成dom树，再将CSS样式转换成stylesheet，根据dom树和stylesheet创建布局树，对布局树进行分层，为每个图层生成绘制列表，再将图层分成图块，紧接着光栅化将图块转换成位图，最后合成绘制生成页面。</li>
<li><strong>加分回答</strong><ul>
<li>分层的目的：避免整个页面渲染，把页面分成多个图层，尤其是动画的时候，把动画独立出一个图层，渲染时只渲染该图层就ok，transform，z-index等，浏览器会自动优化生成图层</li>
<li>光栅化目的：页面如果很长但是可视区很小，避免渲染非可视区的样式造成资源浪费，所以将每个图层又划分成多个小个子，当前只渲染可视区附近区域</li>
</ul>
</li>
</ul>
<h3 id="如何进行网站性能优化"><a href="#如何进行网站性能优化" class="headerlink" title="如何进行网站性能优化"></a>如何进行网站性能优化</h3><ul>
<li><code>content</code>方面<ul>
<li>减少<code>HTTP</code>请求：合并文件、<code>CSS</code>精灵、<code>inline Image</code></li>
<li>减少<code>DNS</code>查询：<code>DNS</code>缓存、将资源分布到恰当数量的主机名</li>
<li>减少<code>DOM</code>元素数量</li>
</ul>
</li>
<li><code>Server</code>方面<ul>
<li>使用<code>CDN</code></li>
<li>配置<code>ETag</code></li>
<li>对组件使用<code>Gzip</code>压缩</li>
</ul>
</li>
<li><code>Cookie</code>方面<ul>
<li>减小<code>cookie</code>大小</li>
</ul>
</li>
<li><code>css</code>方面<ul>
<li>将样式表放到页面顶部</li>
<li>不使用<code>CSS</code>表达式</li>
<li>使用<code>&lt;link&gt;</code>不使用<code>@import</code></li>
</ul>
</li>
<li><code>Javascript</code>方面<ul>
<li>将脚本放到页面底部</li>
<li>将<code>javascript</code>和<code>css</code>从外部引入</li>
<li>压缩<code>javascript</code>和<code>css</code></li>
<li>删除不需要的脚本</li>
<li>减少<code>DOM</code>访问</li>
</ul>
</li>
<li>图片方面<ul>
<li>优化图片：根据实际颜色需要选择色深、压缩</li>
<li>优化<code>css</code>精灵</li>
<li>不要在<code>HTML</code>中拉伸图片</li>
</ul>
</li>
</ul>
<p><strong>你有用过哪些前端性能优化的方法？</strong></p>
<ul>
<li>减少http请求次数：CSS Sprites, JS、CSS源码压缩、图片大小控制合适；网页Gzip，CDN托管，data缓存 ，图片服务器。</li>
<li>前端模板 JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数</li>
<li>用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能。</li>
<li>当需要设置的样式很多时设置className而不是直接操作style</li>
<li>少用全局变量、缓存DOM节点查找的结果。减少IO读取操作</li>
<li>避免使用CSS Expression（css表达式)又称Dynamic properties(动态属性)</li>
<li>图片预加载，将样式表放在顶部，将脚本放在底部 加上时间戳</li>
<li>避免在页面的主体布局中使用table，table要等其中的内容完全下载之后才会显示出来，显示比div+css布局慢</li>
</ul>
<p><strong>谈谈性能优化问题</strong></p>
<ul>
<li>代码层面：避免使用css表达式，避免使用高级选择器，通配选择器</li>
<li>缓存利用：缓存Ajax，使用CDN，使用外部js和css文件以便缓存，添加Expires头，服务端配置Etag，减少DNS查找等</li>
<li>请求数量：合并样式和脚本，使用css图片精灵，初始首屏之外的图片资源按需加载，静态资源延迟加载</li>
<li>请求带宽：压缩文件，开启GZIP</li>
</ul>
<p><strong>前端性能优化最佳实践？</strong></p>
<ul>
<li>性能评级工具（PageSpeed 或 YSlow）</li>
<li>合理设置 HTTP 缓存：Expires 与 Cache-control</li>
<li>静态资源打包，开启 Gzip 压缩（节省响应流量）</li>
<li>CSS3 模拟图像，图标base64（降低请求数）</li>
<li>模块延迟(defer)加载/异步(async)加载</li>
<li>Cookie 隔离（节省请求流量）</li>
<li>localStorage（本地存储）</li>
<li>使用 CDN 加速（访问最近服务器）</li>
<li>启用 HTTP/2（多路复用，并行加载）</li>
<li>前端自动化（gulp/webpack）</li>
</ul>
<h3 id="❤前端性能优化手段"><a href="#❤前端性能优化手段" class="headerlink" title="❤前端性能优化手段"></a>❤前端性能优化手段</h3><ul>
<li><strong>得分点</strong> 图片压缩和文件压缩、雪碧图/精灵图、节流防抖、HTTP缓存、本地缓存、Vue的keep-alive缓存、ssr服务器端渲染、懒加载、对dom查询进行缓存、将dom操作合并</li>
<li><strong>标准回答</strong> 前端性能优化分为两类，一类是文件加载更快，另一类是文件渲染更快。<ul>
<li>加载更快的方法： 让传输的数据包更小（压缩文件/图片）：图片压缩和文件压缩</li>
<li>减少网络请求的次数：雪碧图/精灵图、节流防抖</li>
<li>减少渲染的次数：缓存（HTTP缓存、本地缓存、Vue的keep-alive缓存等）</li>
<li>渲染更快的方法： 提前渲染：ssr服务器端渲染</li>
<li>避免渲染阻塞：CSS放在HTML的head中 JS放在HTML的body底部</li>
<li>避免无用渲染：懒加载</li>
<li>减少渲染次数：对dom查询进行缓存、将dom操作合并、使用减少重排的标签</li>
</ul>
</li>
<li><strong>加分回答</strong> 雪碧图的应用场景一般是项目中不常更换的一些固定图标组合在一起，比如logo、搜索图标、切换图标等。 电商项目中最常用到的懒加载，一般在查看商品展示的时候通常下拉加载更多，因为商品数据太多，一次性请求过来数据太大且渲染的时间太长。</li>
</ul>
<h3 id="❤性能优化有哪些性能指标，如何量化"><a href="#❤性能优化有哪些性能指标，如何量化" class="headerlink" title="❤性能优化有哪些性能指标，如何量化"></a>❤性能优化有哪些性能指标，如何量化</h3><ul>
<li><strong>得分点</strong> 加载速度、第一个请求响应时间、页面加载时间、交互动作的反馈时间、帧率FPS、异步请求完成时间 Lighthouse、Throttling 、Performance、Network、WebPageTest</li>
<li><strong>标准回答</strong><ul>
<li>常用的性能优化指标<ul>
<li>Speed Index（lighthouse，速度指数）</li>
<li>TTFB（Network，第一个请求响应时间）</li>
</ul>
</li>
<li>页面加载时间</li>
<li>首次渲染<ul>
<li>交互动作的反馈时间<ul>
<li>帧率FPS（动画 ctrl+shift+p）</li>
</ul>
</li>
<li>异步请求完成时间</li>
<li>使用性能测量工具进行量化<ul>
<li>Chrome DevTools</li>
</ul>
</li>
<li>开发调试、性能评测<ul>
<li>Audit(Lighthouse)</li>
<li>Throttling</li>
</ul>
</li>
<li>调整网络吞吐<ul>
<li>Performance 性能分析</li>
</ul>
</li>
<li>Network 网络加载分析<ul>
<li>Lighthouse</li>
</ul>
</li>
<li>网站整体质量评估</li>
<li>还可以提出优化建议<ul>
<li>WebPageTest - 测试多地点(球各地的用户访问你的网站的性能情况)</li>
</ul>
</li>
<li>全面性能报告（first view,repeat view,waterfall chart 等等）<ul>
<li>WebPageTest 还可以进行本地安装，让你的应用在还没上线的时候就可以测试。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>常用的性能测量API<ul>
<li>DNS 解析耗时: domnLookupEnd - domnLookupStart TCP</li>
<li>连接耗时: connectEnd - connectStart SSL</li>
<li>安全连接耗时: connectEnd - secureConnectionStart</li>
<li>网络请求耗时 (TTFB): responseStart - requestStart</li>
<li>数据传输耗时: responseEnd - responseStart DOM</li>
<li>解析耗时: domInteractive - responseEnd</li>
<li>资源加载耗时: loadEventStart - domContentLoadedEventEnd</li>
<li>First Byte时间: responseStart - domnLookupStart</li>
<li>白屏时间: responseEnd - fetchStart</li>
<li>首次可交互时间: domInteractive - fetchStart</li>
<li>DOM Ready 时间: domContentLoadEventEnd - fetchStart</li>
<li>页面完全加载时间: loadEventStart - fetchStart</li>
<li>http 头部大小： transferSize - encodedBodySize</li>
<li>重定向次数：performance.navigation.redirectCount</li>
<li>重定向耗时: redirectEnd - redirectStart</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="渲染优化"><a href="#渲染优化" class="headerlink" title="渲染优化"></a>渲染优化</h3><ul>
<li>禁止使用<code>iframe</code>（阻塞父文档<code>onload</code>事件）<ul>
<li><code>iframe</code>会阻塞主页面的<code>Onload</code>事件</li>
<li>搜索引擎的检索程序无法解读这种页面，不利于SEO</li>
<li><code>iframe</code>和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载</li>
<li>使用<code>iframe</code>之前需要考虑这两个缺点。如果需要使用<code>iframe</code>，最好是通过<code>javascript</code></li>
<li>动态给<code>iframe</code>添加<code>src</code>属性值，这样可以绕开以上两个问题</li>
</ul>
</li>
<li>禁止使用<code>gif</code>图片实现<code>loading</code>效果（降低<code>CPU</code>消耗，提升渲染性能）</li>
<li>使用<code>CSS3</code>代码代替<code>JS</code>动画（尽可能避免重绘重排以及回流）</li>
<li>对于一些小图标，可以使用base64位编码，以减少网络请求。但不建议大图使用，比较耗费<code>CPU</code><ul>
<li>小图标优势在于<ul>
<li>减少<code>HTTP</code>请求</li>
<li>避免文件跨域</li>
<li>修改及时生效</li>
</ul>
</li>
</ul>
</li>
<li>页面头部的<code>&lt;style&gt;&lt;/style&gt;</code> <code>&lt;script&gt;&lt;/script&gt;</code> 会阻塞页面；（因为 <code>Renderer</code>进程中 <code>JS</code>线程和渲染线程是互斥的）</li>
<li>页面中空的 <code>href</code> 和 <code>src</code> 会阻塞页面其他资源的加载 (阻塞下载进程)</li>
<li>网页<code>gzip</code>，<code>CDN</code>托管，<code>data</code>缓存 ，图片服务器</li>
<li>前端模板 JS+数据，减少由于<code>HTML</code>标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数</li>
<li>用<code>innerHTML</code>代替<code>DOM</code>操作，减少<code>DOM</code>操作次数，优化<code>javascript</code>性能</li>
<li>当需要设置的样式很多时设置<code>className</code>而不是直接操作<code>style</code></li>
<li>少用全局变量、缓存<code>DOM</code>节点查找的结果。减少<code>IO</code>读取操作</li>
<li>图片预加载，将样式表放在顶部，将脚本放在底部 加上时间戳</li>
<li>对普通的网站有一个统一的思路，就是尽量向前端优化、减少数据库操作、减少磁盘<code>IO</code></li>
</ul>
<h3 id="HTTP状态码及其含义"><a href="#HTTP状态码及其含义" class="headerlink" title="HTTP状态码及其含义"></a>HTTP状态码及其含义</h3><ul>
<li><code>1XX</code>：信息状态码<ul>
<li><code>100 Continue</code> 继续，一般在发送<code>post</code>请求时，已发送了<code>http header</code>之后服务端将返回此信息，表示确认，之后发送具体参数信息</li>
</ul>
</li>
<li><code>2XX</code>：成功状态码<ul>
<li><code>200 OK</code> 正常返回信息</li>
<li><code>201 Created</code> 请求成功并且服务器创建了新的资源</li>
<li><code>202 Accepted</code> 服务器已接受请求，但尚未处理</li>
</ul>
</li>
<li><code>3XX</code>：重定向<ul>
<li><code>301 Moved Permanently</code> 请求的网页已永久移动到新位置。</li>
<li><code>302 Found</code> 临时性重定向。</li>
<li><code>303 See Other</code> 临时性重定向，且总是使用 <code>GET</code> 请求新的 <code>URI</code>。</li>
<li><code>304 Not Modified</code> 自从上次请求后，请求的网页未修改过。</li>
</ul>
</li>
<li><code>4XX</code>：客户端错误<ul>
<li><code>400 Bad Request</code> 服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求。</li>
<li><code>401 Unauthorized</code> 请求未授权。</li>
<li><code>403 Forbidden</code> 禁止访问。</li>
<li><code>404 Not Found</code> 找不到如何与 <code>URI</code> 相匹配的资源。</li>
</ul>
</li>
<li><code>5XX</code>:服务器错误<ul>
<li><code>500 Internal Server Error</code> 最常见的服务器端错误。</li>
<li><code>503 Service Unavailable</code> 服务器端暂时无法处理请求（可能是过载或维护）。</li>
</ul>
</li>
</ul>
<h3 id="❤HTML语义化"><a href="#❤HTML语义化" class="headerlink" title="❤HTML语义化"></a>❤HTML语义化</h3><ul>
<li><strong>得分点</strong> 语义化标签、利于页面内容结构化、利于无CSS页面可读、利于SEO、利于代码可读</li>
<li><strong>标准回答</strong><ul>
<li>HTML语义化就是指在使用HTML标签构建页面时，避免大篇幅的使用无语义的标签，比如要求尽可能的使用具有语义的标签，比如<code>&lt;header&gt;</code>、<code>&lt;footer&gt;</code>等。 举例说明： 页面中有一个标题，可以用<code>&lt;/footer&gt;&lt;/header&gt;</code>标签实现标题This is a top level heading也可以使用span+CSS实现标题的样式 Is this a top level heading? 虽然这两种写法都会实现标题的样式，但是建议使用``标签实现。</li>
<li><strong>使用HTML语义化标签的作用：</strong><ul>
<li>对机器友好，带有语义的文字表现力丰富，更适合搜索引擎的爬虫爬取有效信息，有利于SEO，搜索引擎根据标签来确定上下文和各个关键字的权重。除此之外，语义类还支持读屏软件，根据文章可以自动生成目录；</li>
<li>对开发者友好，使用语义类标签增强了可读性，结构更加清晰，开发者能清晰的看出网页的结构，便于团队的开发与维护。</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>HTML5语义化标签并没有广泛使用，比如京东、淘宝等，还是使用div元素，设置id是header或者footer，这个可能是因为HTML5新增的语义化标签的作用不是特别大，网站没有必要重写</li>
</ul>
</li>
</ul>
<p>常见的语义化标签：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>  头部
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>  导航栏
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>  区块（有语义化的div）
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>  主要区域
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span>  主要内容
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aside</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aside</span><span class="token punctuation">></span></span>  侧边栏
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>  底部<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="介绍一下你对浏览器内核的理解？"><a href="#介绍一下你对浏览器内核的理解？" class="headerlink" title="介绍一下你对浏览器内核的理解？"></a>介绍一下你对浏览器内核的理解？</h3><ul>
<li>主要分成两部分：渲染引擎(<code>layout engineer</code>或<code>Rendering Engine</code>)和<code>JS</code>引擎</li>
<li>渲染引擎：负责取得网页的内容（<code>HTML</code>、<code>XML</code>、图像等等）、整理讯息（例如加入<code>CSS</code>等），以及计算网页的显示方式，然后会输出至显示器或打印机。浏览器的内核的不同对于网页的语法解释会有不同，所以渲染的效果也不相同。所有网页浏览器、电子邮件客户端以及其它需要编辑、显示网络内容的应用程序都需要内核</li>
<li><code>JS</code>引擎：解析和执行<code>javascript</code>来实现网页的动态效果</li>
<li>最开始渲染引擎和<code>JS</code>引擎并没有区分的很明确，后来JS引擎越来越独立，内核就倾向于只指渲染引擎</li>
</ul>
<p><strong>常见的浏览器内核有哪些</strong></p>
<ul>
<li><code>Trident</code>内核：<code>IE,MaxThon,TT,The World,360</code>,搜狗浏览器等。[又称MSHTML]</li>
<li><code>Gecko</code>内核：<code>Netscape6</code>及以上版本，<code>FF,MozillaSuite/SeaMonkey</code>等</li>
<li><code>Presto</code>内核：<code>Opera7</code>及以上。 [<code>Opera</code>内核原为：Presto，现为：<code>Blink</code>;]</li>
<li><code>Webkit</code>内核：<code>Safari,Chrome</code>等。 [ <code>Chrome</code>的<code>Blink</code>（<code>WebKit</code>的分支）]</li>
</ul>
<h3 id="❤html5有哪些新特性、移除了那些元素？"><a href="#❤html5有哪些新特性、移除了那些元素？" class="headerlink" title="❤html5有哪些新特性、移除了那些元素？"></a>❤html5有哪些新特性、移除了那些元素？</h3><ul>
<li><code>HTML5</code> 现在已经不是 <code>SGML</code> 的子集，主要是关于图像，位置，存储，多任务等功能的增加<ul>
<li>新增选择器 <code>document.querySelector</code>、<code>document.querySelectorAll</code></li>
<li>拖拽释放(<code>Drag and drop</code>) API</li>
<li>媒体播放的 <code>video</code> 和 <code>audio</code></li>
<li>本地存储 <code>localStorage</code> 和 <code>sessionStorage</code></li>
<li>离线应用 <code>manifest</code></li>
<li>桌面通知 <code>Notifications</code></li>
<li>语意化标签 <code>article</code>、<code>footer</code>、<code>header</code>、<code>nav</code>、<code>section</code></li>
<li>增强表单控件 <code>calendar</code>、<code>date</code>、<code>time</code>、<code>email</code>、<code>url</code>、<code>search</code></li>
<li>地理位置 <code>Geolocation</code></li>
<li>多任务 <code>webworker</code></li>
<li>全双工通信协议 <code>websocket</code></li>
<li>历史管理 <code>history</code></li>
<li>跨域资源共享(CORS) <code>Access-Control-Allow-Origin</code></li>
<li>页面可见性改变事件 <code>visibilitychange</code></li>
<li>跨窗口通信 <code>PostMessage</code></li>
<li><code>Form Data</code> 对象</li>
<li>绘画 <code>canvas</code></li>
</ul>
</li>
<li>移除的元素：<ul>
<li>纯表现的元素：<code>basefont</code>、<code>big</code>、<code>center</code>、<code>font</code>、 <code>s</code>、<code>strike</code>、<code>tt</code>、<code>u</code></li>
<li>对可用性产生负面影响的元素：<code>frame</code>、<code>frameset</code>、<code>noframes</code></li>
</ul>
</li>
<li>支持<code>HTML5</code>新标签：<ul>
<li><code>IE8/IE7/IE6</code>支持通过<code>document.createElement</code>方法产生的标签</li>
<li>可以利用这一特性让这些浏览器支持<code>HTML5</code>新标签</li>
<li>浏览器支持新标签后，还需要添加标签默认的样式</li>
</ul>
</li>
<li>当然也可以直接使用成熟的框架、比如<code>html5shim</code></li>
</ul>
<p><strong>如何区分 HTML 和 HTML5</strong></p>
<ul>
<li><code>DOCTYPE</code>声明、新增的结构元素、功能元素</li>
</ul>
<h3 id="HTML5的离线储存怎么使用，工作原理能不能解释一下？"><a href="#HTML5的离线储存怎么使用，工作原理能不能解释一下？" class="headerlink" title="HTML5的离线储存怎么使用，工作原理能不能解释一下？"></a><code>HTML5</code>的离线储存怎么使用，工作原理能不能解释一下？</h3><ul>
<li>在用户没有与因特网连接时，可以正常访问站点或应用，在用户与因特网连接时，更新用户机器上的缓存文件</li>
<li>原理：<code>HTML5</code>的离线存储是基于一个新建的<code>.appcache</code>文件的缓存机制(不是存储技术)，通过这个文件上的解析清单离线存储资源，这些资源就会像<code>cookie</code>一样被存储了下来。之后当网络在处于离线状态下时，浏览器会通过被离线存储的数据进行页面展示</li>
<li>如何使用：<ul>
<li>页面头部像下面一样加入一个<code>manifest</code>的属性；</li>
<li>在<code>cache.manifest</code>文件的编写离线存储的资源</li>
<li>在离线状态时，操作<code>window.applicationCache</code>进行需求实现</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-json" data-language="json"><code class="language-json">CACHE MANIFEST
#v0.<span class="token number">11</span>
CACHE<span class="token operator">:</span>
js/app.js
css/style.css
NETWORK<span class="token operator">:</span>
resourse/logo.png
FALLBACK<span class="token operator">:</span>
/offline.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="浏览器是怎么对HTML5的离线储存资源进行管理和加载的呢"><a href="#浏览器是怎么对HTML5的离线储存资源进行管理和加载的呢" class="headerlink" title="浏览器是怎么对HTML5的离线储存资源进行管理和加载的呢"></a>浏览器是怎么对<code>HTML5</code>的离线储存资源进行管理和加载的呢</h3><ul>
<li>在线的情况下，浏览器发现<code>html</code>头部有<code>manifest</code>属性，它会请求<code>manifest</code>文件，如果是第一次访问<code>app</code>，那么浏览器就会根据manifest文件的内容下载相应的资源并且进行离线存储。如果已经访问过<code>app</code>并且资源已经离线存储了，那么浏览器就会使用离线的资源加载页面，然后浏览器会对比新的<code>manifest</code>文件与旧的<code>manifest</code>文件，如果文件没有发生改变，就不做任何操作，如果文件改变了，那么就会重新下载文件中的资源并进行离线存储。</li>
<li>离线的情况下，浏览器就直接使用离线存储的资源。</li>
</ul>
<h3 id="iframe有那些缺点？"><a href="#iframe有那些缺点？" class="headerlink" title="iframe有那些缺点？"></a>iframe有那些缺点？</h3><ul>
<li><code>iframe</code>会阻塞主页面的<code>Onload</code>事件</li>
<li>搜索引擎的检索程序无法解读这种页面，不利于<code>SEO</code></li>
<li><code>iframe</code>和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载</li>
<li>使用<code>iframe</code>之前需要考虑这两个缺点。如果需要使用<code>iframe</code>，最好是通过<code>javascript</code>动态给<code>iframe</code>添加<code>src</code>属性值，这样可以绕开以上两个问题</li>
</ul>
<h3 id="WEB标准以及W3C标准是什么"><a href="#WEB标准以及W3C标准是什么" class="headerlink" title="WEB标准以及W3C标准是什么?"></a>WEB标准以及W3C标准是什么?</h3><ul>
<li>标签闭合、标签小写、不乱嵌套、使用外链<code>css</code>和<code>js</code>、结构行为表现的分离</li>
</ul>
<h3 id="xhtml和html有什么区别"><a href="#xhtml和html有什么区别" class="headerlink" title="xhtml和html有什么区别?"></a>xhtml和html有什么区别?</h3><ul>
<li>一个是功能上的差别<ul>
<li>主要是<code>XHTML</code>可兼容各大浏览器、手机以及<code>PDA</code>，并且浏览器也能快速正确地编译网页</li>
</ul>
</li>
<li>另外是书写习惯的差别<ul>
<li><code>XHTML</code> 元素必须被正确地嵌套，闭合，区分大小写，文档必须拥有根元素</li>
</ul>
</li>
</ul>
<h3 id="❤DOCTYPE-⽂档类型-的作⽤"><a href="#❤DOCTYPE-⽂档类型-的作⽤" class="headerlink" title="❤DOCTYPE(⽂档类型) 的作⽤"></a>❤DOCTYPE(⽂档类型) 的作⽤</h3><ul>
<li>DOCTYPE是HTML5中一种标准通用标记语言的文档类型声明，它的目的是<strong>告诉浏览器（解析器）应该以什么样（html或xhtml）的文档类型定义来解析文档</strong>，不同的渲染模式会影响浏览器对 CSS 代码甚⾄ JavaScript 脚本的解析。它必须声明在HTML⽂档的第⼀⾏。</li>
<li>浏览器渲染页面的两种模式（可通过document.compatMode获取，比如，语雀官网的文档类型是<strong>CSS1Compat</strong>）：<ul>
<li><strong>CSS1Compat：标准模式（Strick mode）</strong>，默认模式，浏览器使用W3C的标准解析渲染页面。在标准模式中，浏览器以其支持的最高标准呈现页面。</li>
<li>**BackCompat：怪异模式(混杂模式)(Quick mode)**，浏览器使用自己的怪异模式解析渲染页面。在怪异模式中，页面以一种比较宽松的向后兼容的方式显示。</li>
</ul>
</li>
</ul>
<h3 id="Doctype作用-严格模式与混杂模式如何区分？它们有何意义"><a href="#Doctype作用-严格模式与混杂模式如何区分？它们有何意义" class="headerlink" title="Doctype作用? 严格模式与混杂模式如何区分？它们有何意义?"></a>Doctype作用? 严格模式与混杂模式如何区分？它们有何意义?</h3><ul>
<li>页面被加载的时，<code>link</code>会同时被加载，而<code>@imort</code>页面被加载的时，<code>link</code>会同时被加载，而<code>@import</code>引用的<code>CSS</code>会等到页面被加载完再加载 <code>import</code>只在<code>IE5</code>以上才能识别，而<code>link</code>是<code>XHTML</code>标签，无兼容问题 <code>link</code>方式的样式的权重 高于<code>@import</code>的权重</li>
<li><code>&lt;!DOCTYPE&gt;</code> 声明位于文档中的最前面，处于 <code>&lt;html&gt;</code> 标签之前。告知浏览器的解析器， 用什么文档类型 规范来解析这个文档</li>
<li>严格模式的排版和 <code>JS</code> 运作模式是 以该浏览器支持的最高标准运行</li>
<li>在混杂模式中，页面以宽松的向后兼容的方式显示。模拟老式浏览器的行为以防止站点无法工作。 <code>DOCTYPE</code>不存在或格式不正确会导致文档以混杂模式呈现</li>
</ul>
<h3 id="行内元素有哪些？块级元素有哪些？-空-void-元素有那些？行内元素和块级元素有什么区别？"><a href="#行内元素有哪些？块级元素有哪些？-空-void-元素有那些？行内元素和块级元素有什么区别？" class="headerlink" title="行内元素有哪些？块级元素有哪些？ 空(void)元素有那些？行内元素和块级元素有什么区别？"></a>行内元素有哪些？块级元素有哪些？ 空(void)元素有那些？行内元素和块级元素有什么区别？</h3><ul>
<li>行内元素有：<code>a b span img input select strong</code></li>
<li>块级元素有：<code>div ul ol li dl dt dd h1 h2 h3 h4… p</code></li>
<li>空元素：<code>&lt;br&gt; &lt;hr&gt; &lt;img&gt; &lt;input&gt; &lt;link&gt; &lt;meta&gt;</code></li>
<li>行内元素不可以设置宽高，不独占一行</li>
<li>块级元素可以设置宽高，独占一行</li>
</ul>
<h3 id="HTML全局属性-global-attribute-有哪些"><a href="#HTML全局属性-global-attribute-有哪些" class="headerlink" title="HTML全局属性(global attribute)有哪些"></a>HTML全局属性(global attribute)有哪些</h3><ul>
<li><code>class</code>:为元素设置类标识</li>
<li><code>data-*</code>: 为元素增加自定义属性</li>
<li><code>draggable</code>: 设置元素是否可拖拽</li>
<li><code>id</code>: 元素<code>id</code>，文档内唯一</li>
<li><code>lang</code>: 元素内容的的语言</li>
<li><code>style</code>: 行内<code>css</code>样式</li>
<li><code>title</code>: 元素相关的建议信息</li>
</ul>
<h3 id="Canvas和SVG有什么区别？"><a href="#Canvas和SVG有什么区别？" class="headerlink" title="Canvas和SVG有什么区别？"></a>Canvas和SVG有什么区别？</h3><ul>
<li><code>svg</code>绘制出来的每一个图形的元素都是独立的<code>DOM</code>节点，能够方便的绑定事件或用来修改。<code>canvas</code>输出的是一整幅画布</li>
<li><code>svg</code>输出的图形是矢量图形，后期可以修改参数来自由放大缩小，不会失真和锯齿。而<code>canvas</code>输出标量画布，就像一张图片一样，放大会失真或者锯齿</li>
</ul>
<h3 id="HTML5-为什么只需要写-lt-DOCTYPE-HTML-gt"><a href="#HTML5-为什么只需要写-lt-DOCTYPE-HTML-gt" class="headerlink" title="HTML5 为什么只需要写 &lt;!DOCTYPE HTML&gt;"></a>HTML5 为什么只需要写 <code>&lt;!DOCTYPE HTML&gt;</code></h3><ul>
<li><code>HTML5</code> 不基于 <code>SGML</code>，因此不需要对<code>DTD</code>进行引用，但是需要<code>doctype</code>来规范浏览器的行为</li>
<li>而<code>HTML4.01</code>基于<code>SGML</code>,所以需要对<code>DTD</code>进行引用，才能告知浏览器文档所使用的文档类型</li>
</ul>
<h3 id="如何在页面上实现一个圆形的可点击区域？"><a href="#如何在页面上实现一个圆形的可点击区域？" class="headerlink" title="如何在页面上实现一个圆形的可点击区域？"></a>如何在页面上实现一个圆形的可点击区域？</h3><ul>
<li><code>svg</code></li>
<li><code>border-radius</code></li>
<li>纯<code>js</code>实现 需要求一个点在不在圆上简单算法、获取鼠标坐标等等</li>
</ul>
<h3 id="网页验证码是干嘛的，是为了解决什么安全问题"><a href="#网页验证码是干嘛的，是为了解决什么安全问题" class="headerlink" title="网页验证码是干嘛的，是为了解决什么安全问题"></a>网页验证码是干嘛的，是为了解决什么安全问题</h3><ul>
<li>区分用户是计算机还是人的公共全自动程序。可以防止恶意破解密码、刷票、论坛灌水</li>
<li>有效防止黑客对某一个特定注册用户用特定程序暴力破解方式进行不断的登陆尝试</li>
</ul>
<h3 id="你做的页面在哪些浏览器测试过？这些浏览器的内核分别是什么"><a href="#你做的页面在哪些浏览器测试过？这些浏览器的内核分别是什么" class="headerlink" title="你做的页面在哪些浏览器测试过？这些浏览器的内核分别是什么?"></a>你做的页面在哪些浏览器测试过？这些浏览器的内核分别是什么?</h3><ul>
<li><code>IE</code>: <code>trident</code>内核</li>
<li><code>Firefox</code>：<code>gecko</code>内核</li>
<li><code>Safari</code>:<code>webkit</code>内核</li>
<li><code>Opera</code>:以前是<code>presto</code>内核，<code>Opera</code>现已改用Google - <code>Chrome</code>的<code>Blink</code>内核</li>
<li><code>Chrome:Blink</code>(基于<code>webkit</code>，Google与Opera Software共同开发)</li>
</ul>
<h3 id="div-css的布局较table布局有什么优点？"><a href="#div-css的布局较table布局有什么优点？" class="headerlink" title="div+css的布局较table布局有什么优点？"></a>div+css的布局较table布局有什么优点？</h3><ul>
<li>改版的时候更方便 只要改<code>css</code>文件。</li>
<li>页面加载速度更快、结构化清晰、页面显示简洁。</li>
<li>表现与结构相分离。</li>
<li>易于优化（<code>seo</code>）搜索引擎更友好，排名更容易靠前。</li>
</ul>
<h3 id="a：img的alt与title有何异同？b：strong与em的异同？"><a href="#a：img的alt与title有何异同？b：strong与em的异同？" class="headerlink" title="a：img的alt与title有何异同？b：strong与em的异同？"></a>a：img的alt与title有何异同？b：strong与em的异同？</h3><ul>
<li><code>alt(alt text)</code>:为不能显示图像、窗体或<code>applets</code>的用户代理（<code>UA</code>），<code>alt</code>属性用来指定替换文字。替换文字的语言由<code>lang</code>属性指定。(在IE浏览器下会在没有<code>title</code>时把<code>alt</code>当成 <code>tool tip</code>显示)</li>
<li><code>title(tool tip)</code>:该属性为设置该属性的元素提供建议性的信息</li>
<li><code>strong</code>:粗体强调标签，强调，表示内容的重要性</li>
<li><code>em</code>:斜体强调标签，更强烈强调，表示内容的强调点</li>
</ul>
<h3 id="你能描述一下渐进增强和优雅降级之间的不同吗"><a href="#你能描述一下渐进增强和优雅降级之间的不同吗" class="headerlink" title="你能描述一下渐进增强和优雅降级之间的不同吗"></a>你能描述一下渐进增强和优雅降级之间的不同吗</h3><ul>
<li>渐进增强：针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验。</li>
<li>优雅降级：一开始就构建完整的功能，然后再针对低版本浏览器进行兼容。</li>
</ul>
<blockquote>
<p>区别：优雅降级是从复杂的现状开始，并试图减少用户体验的供给，而渐进增强则是从一个非常基础的，能够起作用的版本开始，并不断扩充，以适应未来环境的需要。降级（功能衰减）意味着往回看；而渐进增强则意味着朝前看，同时保证其根基处于安全地带</p>
</blockquote>
<h3 id="为什么利用多个域名来存储网站资源会更有效？"><a href="#为什么利用多个域名来存储网站资源会更有效？" class="headerlink" title="为什么利用多个域名来存储网站资源会更有效？"></a>为什么利用多个域名来存储网站资源会更有效？</h3><ul>
<li><code>CDN</code>缓存更方便</li>
<li>突破浏览器并发限制</li>
<li>节约<code>cookie</code>带宽</li>
<li>节约主域名的连接数，优化页面响应速度</li>
<li>防止不必要的安全问题</li>
</ul>
<h3 id="❤src与href的区别"><a href="#❤src与href的区别" class="headerlink" title="❤src与href的区别"></a>❤src与href的区别</h3><ul>
<li>src 和href 都是<strong>用来引用外部的资源</strong>，它们的区别如下：<ul>
<li><strong>src：</strong> 表示对资源的引用，它指向的内容会嵌入到当前标签所在的位置。src会将其指向的资源下载并应⽤到⽂档内，如请求js脚本。当浏览器解析到该元素时，会暂停其他资源的下载和处理，直到将该资源加载、编译、执⾏完毕，所以⼀般js脚本会放在页面底部。</li>
<li><strong>href：</strong> 表示超文本引用，它指向一些网络资源，建立和当前元素或本文档的链接关系。当浏览器识别到它他指向的文件时，就会并行下载资源，不会停止对当前文档的处理。 常用在a、link等标签上。</li>
</ul>
</li>
</ul>
<h3 id="知道的网页制作会用到的图片格式有哪些？"><a href="#知道的网页制作会用到的图片格式有哪些？" class="headerlink" title="知道的网页制作会用到的图片格式有哪些？"></a>知道的网页制作会用到的图片格式有哪些？</h3><ul>
<li><code>png-8</code>、<code>png-24</code>、<code>jpeg</code>、<code>gif</code>、<code>svg</code></li>
</ul>
<blockquote>
<p>但是上面的那些都不是面试官想要的最后答案。面试官希望听到是<code>Webp</code>,<code>Apng</code>。（是否有关注新技术，新鲜事物）</p>
</blockquote>
<ul>
<li><strong>Webp</strong>：<code>WebP</code>格式，谷歌（google）开发的一种旨在加快图片加载速度的图片格式。图片压缩体积大约只有<code>JPEG</code>的<code>2/3</code>，并能节省大量的服务器带宽资源和数据空间。<code>Facebook Ebay</code>等知名网站已经开始测试并使用<code>WebP</code>格式。</li>
<li>在质量相同的情况下，WebP格式图像的体积要比JPEG格式图像小<code>40%</code>。</li>
<li><strong>Apng</strong>：全称是<code>“Animated Portable Network Graphics”</code>, 是PNG的位图动画扩展，可以实现png格式的动态图片效果。04年诞生，但一直得不到各大浏览器厂商的支持，直到日前得到 <code>iOS safari 8</code>的支持，有望代替<code>GIF</code>成为下一代动态图标准</li>
</ul>
<h3 id="在css-js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有哪些地方会有缓存处理？"><a href="#在css-js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有哪些地方会有缓存处理？" class="headerlink" title="在css/js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有哪些地方会有缓存处理？"></a>在css/js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有哪些地方会有缓存处理？</h3><blockquote>
<p><code>dns</code>缓存，<code>cdn</code>缓存，浏览器缓存，服务器缓存</p>
</blockquote>
<h3 id="一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。"><a href="#一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。" class="headerlink" title="一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。"></a>一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。</h3><ul>
<li>图片懒加载，在页面上的未可视区域可以添加一个滚动事件，判断图片位置与浏览器顶端的距离与页面的距离，如果前者小于后者，优先加载。</li>
<li>如果为幻灯片、相册等，可以使用图片预加载技术，将当前展示图片的前一张和后一张优先下载。</li>
<li>如果图片为css图片，可以使用<code>CSSsprite</code>，<code>SVGsprite</code>，<code>Iconfont</code>、<code>Base64</code>等技术。</li>
<li>如果图片过大，可以使用特殊编码的图片，加载时会先加载一张压缩的特别厉害的缩略图，以提高用户体验。</li>
<li>如果图片展示区域小于图片的真实大小，则因在服务器端根据业务需要先行进行图片压缩，图片压缩后大小与展示一致。</li>
</ul>
<h3 id="常见排序算法的时间复杂度-空间复杂度"><a href="#常见排序算法的时间复杂度-空间复杂度" class="headerlink" title="常见排序算法的时间复杂度,空间复杂度"></a>常见排序算法的时间复杂度,空间复杂度</h3><p><img data-src="https://s.poetries.work/cos/202204032131039.png" alt="img"></p>
<h3 id="web开发中会话跟踪的方法有哪些"><a href="#web开发中会话跟踪的方法有哪些" class="headerlink" title="web开发中会话跟踪的方法有哪些"></a>web开发中会话跟踪的方法有哪些</h3><ul>
<li><code>cookie</code></li>
<li><code>session</code></li>
<li><code>url</code>重写</li>
<li>隐藏<code>input</code></li>
<li><code>ip</code>地址</li>
</ul>
<h3 id="HTTP-request报文结构是怎样的"><a href="#HTTP-request报文结构是怎样的" class="headerlink" title="HTTP request报文结构是怎样的"></a>HTTP request报文结构是怎样的</h3><ol>
<li>首行是<strong>Request-Line</strong>包括：<strong>请求方法</strong>，<strong>请求URI</strong>，<strong>协议版本</strong>，<strong>CRLF</strong></li>
<li>首行之后是若干行<strong>请求头</strong>，包括<strong>general-header</strong>，<strong>request-header</strong>或者<strong>entity-header</strong>，每个一行以CRLF结束</li>
<li>请求头和消息实体之间有一个<strong>CRLF分隔</strong></li>
<li>根据实际请求需要可能包含一个<strong>消息实体</strong> 一个请求报文例子如下：</li>
</ol>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">GET &#x2F;Protocols&#x2F;rfc2616&#x2F;rfc2616-sec5.html HTTP&#x2F;1.1
Host: www.w3.org
Connection: keep-alive
Cache-Control: max-age&#x3D;0
Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;webp,*&#x2F;*;q&#x3D;0.8
User-Agent: Mozilla&#x2F;5.0 (Windows NT 6.1; WOW64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;35.0.1916.153 Safari&#x2F;537.36
Referer: https:&#x2F;&#x2F;www.google.com.hk&#x2F;
Accept-Encoding: gzip,deflate,sdch
Accept-Language: zh-CN,zh;q&#x3D;0.8,en;q&#x3D;0.6
Cookie: authorstyle&#x3D;yes
If-None-Match: &quot;2cc8-3e3073913b100&quot;
If-Modified-Since: Wed, 01 Sep 2004 13:24:52 GMT

name&#x3D;qiu&amp;age&#x3D;25<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="HTTP-response报文结构是怎样的"><a href="#HTTP-response报文结构是怎样的" class="headerlink" title="HTTP response报文结构是怎样的"></a>HTTP response报文结构是怎样的</h3><ul>
<li>首行是状态行包括：<strong>HTTP版本，状态码，状态描述</strong>，后面跟一个CRLF</li>
<li>首行之后是<strong>若干行响应头</strong>，包括：<strong>通用头部，响应头部，实体头部</strong></li>
<li>响应头部和响应实体之间用<strong>一个CRLF空行</strong>分隔</li>
<li>最后是一个可能的<strong>消息实体</strong> 响应报文例子如下：</li>
</ul>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">HTTP&#x2F;1.1 200 OK
Date: Tue, 08 Jul 2014 05:28:43 GMT
Server: Apache&#x2F;2
Last-Modified: Wed, 01 Sep 2004 13:24:52 GMT
ETag: &quot;40d7-3e3073913b100&quot;
Accept-Ranges: bytes
Content-Length: 16599
Cache-Control: max-age&#x3D;21600
Expires: Tue, 08 Jul 2014 11:28:43 GMT
P3P: policyref&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;05&#x2F;P3P&#x2F;p3p.xml&quot;
Content-Type: text&#x2F;html; charset&#x3D;iso-8859-1

&#123;&quot;name&quot;: &quot;qiu&quot;, &quot;age&quot;: 25&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="title与h1的区别、b与strong的区别、i与em的区别"><a href="#title与h1的区别、b与strong的区别、i与em的区别" class="headerlink" title="title与h1的区别、b与strong的区别、i与em的区别"></a>title与h1的区别、b与strong的区别、i与em的区别</h3><ul>
<li><code>title</code>属性没有明确意义只表示是个标题，H1则表示层次明确的标题，对页面信息的抓取也有很大的影响</li>
<li><code>strong</code>是标明重点内容，有语气加强的含义，使用阅读设备阅读网络时：<code>&lt;strong&gt;</code>会重读，而<code>&lt;B&gt;</code>是展示强调内容</li>
<li>i内容展示为斜体，em表示强调的文本</li>
</ul>
<p>-</p>
<h3 id="git-fetch-和-git-pull的区别"><a href="#git-fetch-和-git-pull的区别" class="headerlink" title="git fetch 和 git pull的区别"></a>git fetch 和 git pull的区别</h3><ul>
<li><code>git pull</code>：相当于是从远程获取最新版本并<code>merge</code>到本地</li>
<li><code>git fetch</code>：相当于是从远程获取最新版本到本地，不会自动<code>merge</code></li>
</ul>
<h2 id="CSS基础"><a href="#CSS基础" class="headerlink" title="CSS基础"></a>CSS基础</h2><h3 id="❤盒模型"><a href="#❤盒模型" class="headerlink" title="❤盒模型"></a>❤盒模型</h3><blockquote>
<p>content（元素内容） + padding（内边距） + border（边框） + margin（外边距）</p>
</blockquote>
<p>延伸：<code>box-sizing</code></p>
<ul>
<li><code>content-box</code>：默认值，总宽度 = <code>margin</code> + <code>border</code> + <code>padding</code> + <code>width</code></li>
<li><code>border-box</code>：盒子宽度包含 <code>padding</code> 和 <code>border</code>，<code>总宽度 = margin + width</code></li>
<li><code>inherit</code>：从父元素继承 <code>box-sizing</code> 属性</li>
</ul>
<blockquote>
<ul>
<li>有两种， <code>IE</code>盒子模型、<code>W3C</code>盒子模型；</li>
<li>盒模型： 内容(content)、填充(<code>padding</code>)、边界(<code>margin</code>)、 边框(<code>border</code>)；</li>
<li>区 别： <code>IE</code>的c<code>ontent</code>部分把 <code>border</code> 和 <code>padding</code>计算了进去;</li>
</ul>
</blockquote>
<ul>
<li><code>IE8</code>及其以下版本浏览器，未声明 <code>DOCTYPE</code>，内容宽高会包含内填充和边框，称为怪异盒模型(<code>IE</code>盒模型)</li>
<li>标准(<code>W3C</code>)盒模型：元素宽度 = <code>width + padding + border + margin</code></li>
<li>怪异(<code>IE</code>)盒模型：元素宽度 = <code>width + margin</code></li>
<li>标准浏览器通过设置 css3 的 <code>box-sizing: border-box</code> 属性，触发“怪异模式”解析计算宽高</li>
</ul>
<p><strong>box-sizing 常用的属性有哪些？分别有什么作用</strong></p>
<ul>
<li><code>box-sizing: content-box;</code> 默认的标准(W3C)盒模型元素效果</li>
<li><code>box-sizing: border-box;</code> 触发怪异(IE)盒模型元素的效果</li>
<li><code>box-sizing: inherit;</code> 继承父元素 <code>box-sizing</code> 属性的值</li>
</ul>
<ul>
<li><strong>得分点</strong> 标准盒模型、怪异盒模型、<code>box-sizing:border-box</code>、盒模型大小</li>
<li><strong>标准回答</strong> CSS盒模型定义了盒的每个部分包含 margin, border, padding, content 。<ul>
<li>根据盒子大小的计算方式不同盒模型分成了两种，标准盒模型和怪异盒模型。<ul>
<li><strong>标准模型</strong>，给盒设置 <code>width</code> 和 <code>height</code>，实际设置的是 content box。<code>padding</code> 和 <code>border </code>再加上设置的宽高一起决定整个盒子的大小。</li>
<li><strong>怪异盒模型</strong>，给盒设置 <code>width</code> 和 <code>height</code>，包含了<code>padding</code>和<code>border </code>，设置的 <code>width</code> 和 <code>height</code>就是盒子实际的大小 默认情况下，盒模型都是标准盒模型<ul>
<li>设置标准盒模型：<code>box-sizing:content-box</code></li>
<li>设置怪异盒模型：<code>box-sizing:border-box</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="❤如何创建块级格式化上下文-block-formatting-context-BFC有什么用"><a href="#❤如何创建块级格式化上下文-block-formatting-context-BFC有什么用" class="headerlink" title="❤如何创建块级格式化上下文(block formatting context),BFC有什么用"></a>❤如何创建块级格式化上下文(block formatting context),BFC有什么用</h3><blockquote>
<p>BFC(Block Formatting Context)，块级格式化上下文，是一个独立的渲染区域，让处于 BFC 内部的元素与外部的元素相互隔离，使内外元素的定位不会相互影响</p>
</blockquote>
<p><strong>触发条件 (以下任意一条)</strong></p>
<ul>
<li><code>float</code>的值不为<code>none</code></li>
<li><code>overflow</code>的值不为<code>visible</code>，为<code>absolute/fixed</code>之一</li>
<li><code>display</code>的值为<code>table-cell</code>、<code>tabble-caption</code>和<code>inline-block</code>之一</li>
<li><code>position</code>的值不为<code>static</code>或则<code>releative</code>中的任何一个</li>
</ul>
<blockquote>
<p>在<code>IE</code>下, <code>Layout</code>,可通过<code>zoom:1</code> 触发</p>
</blockquote>
<p><strong>BFC布局与普通文档流布局区别 普通文档流布局:</strong></p>
<ul>
<li>浮动的元素是不会被父级计算高度</li>
<li>非浮动元素会覆盖浮动元素的位置</li>
<li><code>margin</code>会传递给父级元素</li>
<li>两个相邻元素上下的<code>margin</code>会重叠</li>
</ul>
<p><strong>BFC布局规则:</strong></p>
<ul>
<li>浮动的元素会被父级计算高度(父级元素触发了<code>BFC</code>)</li>
<li>非浮动元素不会覆盖浮动元素的位置(非浮动元素触发了<code>BFC</code>)</li>
<li><code>margin</code>不会传递给父级(父级触发<code>BFC</code>)</li>
<li>属于同一个<code>BFC</code>的两个相邻元素上下<code>margin</code>会重叠</li>
</ul>
<p><strong>开发中的应用</strong></p>
<ul>
<li>阻止<code>margin</code>重叠</li>
<li>可以包含浮动元素 —— 清除内部浮动(清除浮动的原理是两个 <code>div</code>都位于同一个 <code>BFC</code> 区域之中)</li>
<li>自适应两栏布局</li>
<li>可以阻止元素被浮动元素覆盖</li>
</ul>
<ul>
<li><strong>得分点：</strong> 块级格式化上下文、独立的渲染区域、不会影响边界以外的元素、形成BFC条件、float、position、overflow、display</li>
<li><strong>标准回答：</strong> BFC(Block Formatting Context)块级格式化上下文，是Web页面一块独立的渲染区域，内部元素的渲染不会影响边界以外的元素。<ul>
<li><strong>BFC布局规则</strong><ul>
<li>内部盒子会在垂直方向，一个接一个地放置。</li>
<li>Box垂直方向的距离由margin决定。属于同一个BFC的两个相邻Box的margin会发生重叠。</li>
<li>每个盒子（块盒与行盒）的margin box的左边，与包含块border box的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此。</li>
<li>BFC的区域不会与float box重叠。</li>
<li>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。</li>
<li>计算BFC的高度时，浮动元素也参与计算。</li>
</ul>
</li>
<li><strong>BFC形成的条件</strong><ul>
<li><code>float </code>设置成 <code>left </code>或 <code>right</code></li>
<li><code>position </code>是<code>absolute</code>或者<code>fixed</code></li>
<li><code>overflow </code>不是<code>visible</code>，为 <code>auto</code>、<code>scroll</code>、<code>hidden</code> -<code>display</code>是<code>flex</code>或者<code>inline-block</code> 等</li>
</ul>
</li>
<li>BFC解决能的问题：清除浮动</li>
</ul>
</li>
<li><strong>加分回答：</strong> BFC的方式都能清除浮动，但是常使用的清除浮动的BFC方式只有<code>overflow:hidden</code>,原因是使用float或者position方式清除浮动，虽然父级盒子内部浮动被清除了，但是父级本身又脱离文档流了，会对父级后面的兄弟盒子的布局造成影响。如果设置父级为<code>display:flex</code>，内部的浮动就会失效。所以通常只是用<code>overflow: hidden</code>清除浮动。<ul>
<li>IFC（Inline formatting contexts）：内联格式上下文。IFC的高度由其包含行内元素中最高的实际高度计算而来（不受到竖直方向的padding/margin影响)，IFC中的line box一般左右都贴紧整个IFC，但是会因为float元素而扰乱。</li>
<li>GFC（GrideLayout formatting contexts）：网格布局格式化上下文。当为一个元素设置display值为grid的时候，此元素将会获得一个独立的渲染区域。</li>
<li>FFC（Flex formatting contexts）：自适应格式上下文。display值为flex或者inline-flex的元素将会生成自适应容器。</li>
</ul>
</li>
</ul>
<h3 id="css-sprite是什么-有什么优缺点"><a href="#css-sprite是什么-有什么优缺点" class="headerlink" title="css sprite是什么,有什么优缺点"></a>css sprite是什么,有什么优缺点</h3><ul>
<li>概念：将多个小图片拼接到一个图片中。通过<code>background-position</code>和元素尺寸调节需要显示的背景图案。</li>
<li>优点：<ul>
<li>减少<code>HTTP</code>请求数，极大地提高页面加载速度</li>
<li>增加图片信息重复度，提高压缩比，减少图片大小</li>
<li>更换风格方便，只需在一张或几张图片上修改颜色或样式即可实现</li>
</ul>
</li>
<li>缺点：<ul>
<li>图片合并麻烦</li>
<li>维护麻烦，修改一个图片可能需要从新布局整个图片，样式</li>
</ul>
</li>
</ul>
<h3 id="display-none-与-visibility-hidden-的区别"><a href="#display-none-与-visibility-hidden-的区别" class="headerlink" title="display: none; 与 visibility: hidden;的区别"></a><code>display: none;</code> 与 <code>visibility: hidden;</code>的区别</h3><ul>
<li>联系：它们都能让元素不可见</li>
<li>区别：<ul>
<li><code>display:none</code>;会让元素完全从渲染树中消失，渲染的时候不占据任何空间；<code>visibility: hidden</code>;不会让元素从渲染树消失，渲染师元素继续占据空间，只是内容不可见</li>
<li><code>display: none</code>;是非继承属性，子孙节点消失由于元素从渲染树消失造成，通过修改子孙节点属性无法显示<code>；visibility: hidden;</code>是继承属性，子孙节点消失由于继承了<code>hidden</code>，通过设置<code>visibility: visible;</code>可以让子孙节点显式</li>
<li>修改常规流中元素的<code>display</code>通常会造成文档重排。修改<code>visibility</code>属性只会造成本元素的重绘。</li>
<li>读屏器不会读取<code>display: none</code>;元素内容；会读取<code>visibility: hidden;</code>元素内容</li>
</ul>
</li>
</ul>
<h3 id="link与-import的区别"><a href="#link与-import的区别" class="headerlink" title="link与@import的区别"></a><code>link</code>与<code>@import</code>的区别</h3><ol>
<li><code>link</code>是<code>HTML</code>方式， <code>@import</code>是CSS方式</li>
<li><code>link</code>最大限度支持并行下载，<code>@import</code>过多嵌套导致串行下载，出现<code>FOUC</code>(文档样式短暂失效)</li>
<li><code>link</code>可以通过<code>rel=&quot;alternate stylesheet&quot;</code>指定候选样式</li>
<li>浏览器对<code>link</code>支持早于<code>@import</code>，可以使用<code>@import</code>对老浏览器隐藏样式</li>
<li><code>@import</code>必须在样式规则之前，可以在css文件中引用其他文件</li>
<li>总体来说：<code>link</code>优于<code>@import</code></li>
</ol>
<h3 id="什么是FOUC-如何避免"><a href="#什么是FOUC-如何避免" class="headerlink" title="什么是FOUC?如何避免"></a>什么是FOUC?如何避免</h3><ul>
<li><code>Flash Of Unstyled Content</code>：用户定义样式表加载之前浏览器使用默认样式显示文档，用户样式加载渲染之后再从新显示文档，造成页面闪烁。</li>
<li><strong>解决方法</strong>：把样式表放到文档的<code>&lt;head&gt;</code></li>
</ul>
<h3 id="display、float、position的关系"><a href="#display、float、position的关系" class="headerlink" title="display、float、position的关系"></a>display、float、position的关系</h3><ul>
<li>如果<code>display</code>取值为<code>none</code>，那么<code>position</code>和<code>float</code>都不起作用，这种情况下元素不产生框</li>
<li>否则，如果<code>position</code>取值为<code>absolute</code>或者<code>fixed</code>，框就是绝对定位的，<code>float</code>的计算值为<code>none</code>，<code>display</code>根据下面的表格进行调整。</li>
</ul>
<p><img data-src="https://s.poetries.work/images/202202231030963.png" alt="img"></p>
<ul>
<li>否则，如果<code>float</code>不是<code>none</code>，框是浮动的，<code>display</code>根据下表进行调整</li>
<li>否则，如果元素是根元素，<code>display</code>根据下表进行调整</li>
<li>其他情况下<code>display</code>的值为指定值</li>
<li>总结起来：<strong>绝对定位、浮动、根元素都需要调整<code>display</code></strong></li>
</ul>
<h3 id="清除浮动的几种方式，各自的优缺点"><a href="#清除浮动的几种方式，各自的优缺点" class="headerlink" title="清除浮动的几种方式，各自的优缺点"></a>清除浮动的几种方式，各自的优缺点</h3><ul>
<li>父级<code>div</code>定义<code>height</code></li>
<li>结尾处加空<code>div</code>标签<code>clear:both</code></li>
<li>父级<code>div</code>定义伪类<code>:after</code>和<code>zoom</code></li>
<li>父级<code>div</code>定义<code>overflow:hidden</code></li>
<li>父级<code>div</code>也浮动，需要定义宽度</li>
<li>结尾处加<code>br</code>标签<code>clear:both</code></li>
<li>比较好的是第3种方式，好多网站都这么用</li>
</ul>
<h3 id="❤谈谈浮动和清除浮动"><a href="#❤谈谈浮动和清除浮动" class="headerlink" title="❤谈谈浮动和清除浮动"></a>❤谈谈浮动和清除浮动</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><p><strong>得分点：</strong> 脱离文档流、盒子塌陷、 影响其他元素排版、伪元素 、<code>overflow:hidden</code> 、标签插入法</p>
</li>
<li><p><strong>标准回答：</strong> 浮动的作用，设置浮动的图片，可以实现文字环绕图片，设置了浮动的块级元素可以排列在同一行，设置了浮动的行内元素可以设置宽高，同时可以按照浮动设置的方向对齐排列盒子。</p>
<ul>
<li><p>设置浮动元素的特点：</p>
<ul>
<li>设置了浮动，该元素脱标。元素不占位置</li>
<li>浮动可以进行模式转换（行内块元素） 浮动造成的影响，使盒子脱离文档流，如果父级盒子没有设置高度，需要被子盒子撑开，那么这时候父级盒子的高度就塌陷了，同时也会造成父级盒子后面的兄弟盒子布局受到影响。如果浮动元素后面还有其他兄弟元素，其他兄弟元素的布局也会受到影响。</li>
</ul>
</li>
<li><p>清除浮动的方法：</p>
<ul>
<li>伪元素清除浮动：给浮动元素父级增加 <code>.clearfix::after &#123; content: &#39;&#39;; display: table; clear: both; &#125; /*兼容IE低版本 */ .clearfix &#123; *zoom: 1; &#125; overflow：hidden：</code>给浮动元素父级增加<code>overflow：hidden</code>属性 额外标签法：给浮动元素父级增加标签</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>加分回答：</strong> 三种清除浮动的特点和影响</p>
<ul>
<li>伪元素清除浮动：不会新增标签，不会有其他影响，是当下清除浮动最流行的方法</li>
<li><code>overflow：hidden</code>：不会新增标签，但是如果父级元素有定位元素超出父级，超出部分会隐藏，在不涉及父级元素有超出内容的情况，overflow：hidden比较常用，毕竟写法方便简洁</li>
<li>标签插入法：清除浮动的语法加在新增标签上，由于新增标签会造成不必要的渲染，所以这种方法目前不建议使用</li>
</ul>
</li>
</ul>
<h3 id="浮动元素引起的问题"><a href="#浮动元素引起的问题" class="headerlink" title="浮动元素引起的问题"></a>浮动元素引起的问题</h3><ul>
<li>父元素的高度无法被撑开，影响与父元素同级的元素</li>
<li>与浮动元素同级的非浮动元素会跟随其后</li>
</ul>
<h3 id="为什么要初始化CSS样式"><a href="#为什么要初始化CSS样式" class="headerlink" title="为什么要初始化CSS样式?"></a>为什么要初始化CSS样式?</h3><ul>
<li>因为浏览器的兼容问题，不同浏览器对有些标签的默认值是不同的，如果没对<code>CSS</code>初始化往往会出现浏览器之间的页面显示差异。</li>
<li>当然，初始化样式会对<code>SEO</code>有一定的影响，但鱼和熊掌不可兼得，但力求影响最小的情况下初始化</li>
</ul>
<h3 id="css3有哪些新特性"><a href="#css3有哪些新特性" class="headerlink" title="css3有哪些新特性"></a>css3有哪些新特性</h3><ul>
<li>新增选择器 <code>p:nth-child(n)&#123;color: rgba(255, 0, 0, 0.75)&#125;</code></li>
<li>弹性盒模型 <code>display: flex;</code></li>
<li>多列布局 <code>column-count: 5;</code></li>
<li>媒体查询 <code>@media (max-width: 480px) &#123;.box: &#123;column-count: 1;&#125;&#125;</code></li>
<li>个性化字体 <code>@font-face&#123;font-family: BorderWeb; src:url(BORDERW0.eot);&#125;</code></li>
<li>颜色透明度 <code>color: rgba(255, 0, 0, 0.75);</code></li>
<li>圆角 <code>border-radius: 5px;</code></li>
<li>渐变 <code>background:linear-gradient(red, green, blue);</code></li>
<li>阴影 <code>box-shadow:3px 3px 3px rgba(0, 64, 128, 0.3);</code></li>
<li>倒影 <code>box-reflect: below 2px;</code></li>
<li>文字装饰 <code>text-stroke-color: red;</code></li>
<li>文字溢出 <code>text-overflow:ellipsis;</code></li>
<li>背景效果 <code>background-size: 100px 100px;</code></li>
<li>边框效果 <code>border-image:url(bt_blue.png) 0 10;</code></li>
<li>转换<ul>
<li>旋转 <code>transform: rotate(20deg);</code></li>
<li>倾斜 <code>transform: skew(150deg, -10deg);</code></li>
<li>位移 <code>transform: translate(20px, 20px);</code></li>
<li>缩放 <code>transform: scale(.5);</code></li>
</ul>
</li>
<li>平滑过渡 <code>transition: all .3s ease-in .1s;</code></li>
<li>动画 <code>@keyframes anim-1 &#123;50% &#123;border-radius: 50%;&#125;&#125; animation: anim-1 1s;</code></li>
</ul>
<p><strong>CSS3新增伪类有那些？</strong></p>
<ul>
<li><code>p:first-of-type</code> 选择属于其父元素的首个<code>&lt;p&gt;</code>元素的每个<code>&lt;p&gt;</code> 元素。</li>
<li><code>p:last-of-type</code> 选择属于其父元素的最后 <code>&lt;p&gt;</code> 元素的每个<code>&lt;p&gt;</code> 元素。</li>
<li><code>p:only-of-type</code> 选择属于其父元素唯一的 <code>&lt;p&gt;</code>元素的每个 <code>&lt;p&gt;</code> 元素。</li>
<li><code>p:only-child</code> 选择属于其父元素的唯一子元素的每个 <code>&lt;p&gt;</code> 元素。</li>
<li><code>p:nth-child(2)</code> 选择属于其父元素的第二个子元素的每个 <code>&lt;p&gt;</code> 元素。</li>
<li><code>:after</code> 在元素之前添加内容,也可以用来做清除浮动。</li>
<li><code>:before</code> 在元素之后添加内容。</li>
<li><code>:enabled</code> 已启用的表单元素。</li>
<li><code>:disabled</code> 已禁用的表单元素。</li>
<li><code>:checked</code> 单选框或复选框被选中。</li>
</ul>
<h3 id="display有哪些值？说明他们的作用"><a href="#display有哪些值？说明他们的作用" class="headerlink" title="display有哪些值？说明他们的作用"></a>display有哪些值？说明他们的作用</h3><ul>
<li><code>block</code> 转换成块状元素。</li>
<li><code>inline</code> 转换成行内元素。</li>
<li><code>none</code> 设置元素不可见。</li>
<li><code>inline-block</code> 象行内元素一样显示，但其内容象块类型元素一样显示。</li>
<li><code>list-item</code> 象块类型元素一样显示，并添加样式列表标记。</li>
<li><code>table</code> 此元素会作为块级表格来显示</li>
<li><code>inherit</code> 规定应该从父元素继承 <code>display</code> 属性的值</li>
</ul>
<h3 id="❤说一说样式优先级的规则是什么？"><a href="#❤说一说样式优先级的规则是什么？" class="headerlink" title="❤说一说样式优先级的规则是什么？"></a>❤说一说样式优先级的规则是什么？</h3><ul>
<li>优先级就近原则，同权重情况下样式定义最近者为准</li>
<li>载入样式以最后载入的定位为准</li>
<li>优先级为: <code>!important &gt; id &gt; class &gt; tag</code>; <code>!important</code> 比 内联优先级高</li>
</ul>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点：</strong> <code>!important</code>、行内样式、嵌入样式、外链样式、id选择器、类选择器、标签选择器、复合选择器、通配符、继承样式</li>
<li><strong>标准回答：</strong> CSS样式的优先级应该分成四大类<ul>
<li>第一类<code>!important</code>，无论引入方式是什么，选择器是什么，它的优先级都是最高的。</li>
<li>第二类引入方式，行内样式的优先级要高于嵌入和外链，嵌入和外链如果使用的选择器相同就看他们在页面中插入的顺序，在后面插入的会覆盖前面的。</li>
<li>第三类选择器，选择器优先级：id选择器&gt;（类选择器 | 伪类选择器 | 属性选择器 ）&gt; （后代选择器 | 伪元素选择器 ）&gt; （子选择器 | 相邻选择器） &gt; 通配符选择器 。</li>
<li>第四类继承样式，是所有样式中优先级比较低的。</li>
<li>第五类浏览器默认样式优先级最低。</li>
</ul>
</li>
<li><strong>加分回答：</strong> 使用!important要谨慎<ul>
<li> 一定要优先考虑使用样式规则的优先级来解决问题而不是 <code>!important</code></li>
<li>只有在需要覆盖全站或外部 CSS 的特定页面中使用 <code>!important</code></li>
<li>永远不要在你的插件中使用 <code>!important</code></li>
<li>永远不要在全站范围的 CSS 代码中使用 <code>!important</code> 优先级的比较指的是相同的样式属性，不同样式属性优先级比较失效，比如：在设置<code>max-width</code>时注意，已经给元素的<code>max-width</code>设置了<code>!important</code>但是还不生效，很有可能就是被width覆盖了</li>
<li>举例：<code>div</code>最终的宽度还是<code>200px</code> div { max-width: 400px !important; height: 200px;background-color: tomato; width: 200px; }</li>
</ul>
</li>
</ul>
<h3 id="position的值，-relative和absolute定位原点是"><a href="#position的值，-relative和absolute定位原点是" class="headerlink" title="position的值， relative和absolute定位原点是"></a>position的值， relative和absolute定位原点是</h3><ul>
<li><code>absolute</code>：生成绝对定位的元素，相对于 <code>static</code> 定位以外的第一个父元素进行定位</li>
<li><code>fixed</code>：生成绝对定位的元素，相对于浏览器窗口进行定位</li>
<li><code>relative</code>：生成相对定位的元素，相对于其正常位置进行定位</li>
<li><code>static</code> 默认值。没有定位，元素出现在正常的流中</li>
<li><code>inherit</code> 规定从父元素继承 <code>position</code> 属性的值</li>
</ul>
<h3 id="display-inline-block-什么时候不会显示间隙？-携程"><a href="#display-inline-block-什么时候不会显示间隙？-携程" class="headerlink" title="display:inline-block 什么时候不会显示间隙？(携程)"></a>display:inline-block 什么时候不会显示间隙？(携程)</h3><ul>
<li>移除空格</li>
<li>使用<code>margin</code>负值</li>
<li>使用<code>font-size:0</code></li>
<li><code>letter-spacing</code></li>
<li><code>word-spacing</code></li>
</ul>
<h3 id="PNG、GIF、JPG的区别及如何选"><a href="#PNG、GIF、JPG的区别及如何选" class="headerlink" title="PNG、GIF、JPG的区别及如何选"></a>PNG、GIF、JPG的区别及如何选</h3><ul>
<li><code>GIF</code><ul>
<li><code>8</code>位像素，<code>256</code>色</li>
<li>无损压缩</li>
<li>支持简单动画</li>
<li>支持<code>boolean</code>透明</li>
<li>适合简单动画</li>
</ul>
</li>
<li><code>JPEG</code><ul>
<li>颜色限于<code>256</code></li>
<li>有损压缩</li>
<li>可控制压缩质量</li>
<li>不支持透明</li>
<li>适合照片</li>
</ul>
</li>
<li><code>PNG</code><ul>
<li>有<code>PNG8</code>和<code>truecolor PNG</code></li>
<li><code>PNG8</code>类似<code>GIF</code>颜色上限为<code>256</code>，文件小，支持<code>alpha</code>透明度，无动画</li>
<li>适合图标、背景、按钮</li>
</ul>
</li>
</ul>
<h3 id="行内元素float-left后是否变为块级元素？"><a href="#行内元素float-left后是否变为块级元素？" class="headerlink" title="行内元素float:left后是否变为块级元素？"></a>行内元素float:left后是否变为块级元素？</h3><blockquote>
<p>行内元素设置成浮动之后变得更加像是<code>inline-block</code>（行内块级元素，设置成这个属性的元素会同时拥有行内和块级的特性，最明显的不同是它的默认宽度不是<code>100%</code>），这时候给行内元素设置<code>padding-top</code>和<code>padding-bottom</code>或者<code>width</code>、<code>height</code>都是有效果的</p>
</blockquote>
<h3 id="在网页中的应该使用奇数还是偶数的字体？为什么呢？"><a href="#在网页中的应该使用奇数还是偶数的字体？为什么呢？" class="headerlink" title="在网页中的应该使用奇数还是偶数的字体？为什么呢？"></a>在网页中的应该使用奇数还是偶数的字体？为什么呢？</h3><ul>
<li>偶数字号相对更容易和 web 设计的其他部分构成比例关系</li>
</ul>
<h3 id="before-和-after中双冒号和单冒号-有什么区别？解释一下这2个伪元素的作用"><a href="#before-和-after中双冒号和单冒号-有什么区别？解释一下这2个伪元素的作用" class="headerlink" title="::before 和 :after中双冒号和单冒号 有什么区别？解释一下这2个伪元素的作用"></a>::before 和 :after中双冒号和单冒号 有什么区别？解释一下这2个伪元素的作用</h3><ul>
<li>单冒号(<code>:</code>)用于<code>CSS3</code>伪类，双冒号(<code>::</code>)用于<code>CSS3</code>伪元素</li>
<li>用于区分伪类和伪元素</li>
</ul>
<h3 id="如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）"><a href="#如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）" class="headerlink" title="如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）"></a>如果需要手动写动画，你认为最小时间间隔是多久，为什么？（阿里）</h3><ul>
<li>多数显示器默认频率是<code>60Hz</code>，即<code>1</code>秒刷新<code>60</code>次，所以理论上最小间隔为<code>1/60*1000ms ＝ 16.7ms</code></li>
</ul>
<h3 id="CSS合并方法"><a href="#CSS合并方法" class="headerlink" title="CSS合并方法"></a>CSS合并方法</h3><ul>
<li>避免使用<code>@import</code>引入多个<code>css</code>文件，可以使用<code>CSS</code>工具将<code>CSS</code>合并为一个<code>CSS</code>文件，例如使用<code>Sass\Compass</code>等</li>
</ul>
<h3 id="CSS不同选择器的权重-CSS层叠的规则"><a href="#CSS不同选择器的权重-CSS层叠的规则" class="headerlink" title="CSS不同选择器的权重(CSS层叠的规则)"></a>CSS不同选择器的权重(CSS层叠的规则)</h3><ul>
<li><code>！important</code>规则最重要，大于其它规则</li>
<li>行内样式规则，加<code>1000</code></li>
<li>对于选择器中给定的各个<code>ID</code>属性值，加<code>100</code></li>
<li>对于选择器中给定的各个类属性、属性选择器或者伪类选择器，加<code>10</code></li>
<li>对于选择其中给定的各个元素标签选择器，加1</li>
<li>如果权值一样，则按照样式规则的先后顺序来应用，顺序靠后的覆盖靠前的规则</li>
</ul>
<blockquote>
<p>以下是权重的规则：标签的权重为1，class的权重为10，id的权重为100，以下/// 例子是演示各种定义的权重值：</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/*权重为1*/</span>
<span class="token selector">div</span><span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*权重为10*/</span>
<span class="token selector">.class1</span><span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*权重为100*/</span>
<span class="token selector">#id1</span><span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*权重为100+1=101*/</span>
<span class="token selector">#id1 div</span><span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*权重为10+1=11*/</span>
<span class="token selector">.class1 div</span><span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*权重为10+10+1=21*/</span>
<span class="token selector">.class1 .class2 div</span><span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>如果权重相同，则最后定义的样式会起作用，但是应该避免这种情况出现</p>
</blockquote>
<h3 id="列出你所知道可以改变页面布局的属性"><a href="#列出你所知道可以改变页面布局的属性" class="headerlink" title="列出你所知道可以改变页面布局的属性"></a>列出你所知道可以改变页面布局的属性</h3><ul>
<li><code>position</code>、<code>display</code>、<code>float</code>、<code>width</code>、<code>height</code>、<code>margin</code>、<code>padding</code>、<code>top</code>、<code>left</code>、<code>right</code>、`</li>
</ul>
<h3 id="CSS在性能优化方面的实践"><a href="#CSS在性能优化方面的实践" class="headerlink" title="CSS在性能优化方面的实践"></a>CSS在性能优化方面的实践</h3><ul>
<li><code>css</code>压缩与合并、<code>Gzip</code>压缩</li>
<li><code>css</code>文件放在<code>head</code>里、不要用<code>@import</code></li>
<li>尽量用缩写、避免用滤镜、合理使用选择器</li>
</ul>
<h3 id="CSS3动画（简单动画的实现，如旋转等）"><a href="#CSS3动画（简单动画的实现，如旋转等）" class="headerlink" title="CSS3动画（简单动画的实现，如旋转等）"></a>CSS3动画（简单动画的实现，如旋转等）</h3><ul>
<li>依靠<code>CSS3</code>中提出的三个属性：<code>transition</code>、<code>transform</code>、<code>animation</code></li>
<li><code>transition</code>：定义了元素在变化过程中是怎么样的，包含<code>transition-property</code>、<code>transition-duration</code>、<code>transition-timing-function</code>、<code>transition-delay</code>。</li>
<li><code>transform</code>：定义元素的变化结果，包含<code>rotate</code>、<code>scale</code>、<code>skew</code>、<code>translate</code>。</li>
<li><code>animation</code>：动画定义了动作的每一帧（<code>@keyframes</code>）有什么效果，包括<code>animation-name</code>，<code>animation-duration</code>、<code>animation-timing-function</code>、<code>animation-delay</code>、<code>animation-iteration-count</code>、<code>animation-direction</code></li>
</ul>
<h3 id="base64的原理及优缺点"><a href="#base64的原理及优缺点" class="headerlink" title="base64的原理及优缺点"></a>base64的原理及优缺点</h3><ul>
<li>优点可以加密，减少了<code>HTTTP</code>请求</li>
<li>缺点是需要消耗<code>CPU</code>进行编解码</li>
</ul>
<h3 id="❤三栏布局的实现方案"><a href="#❤三栏布局的实现方案" class="headerlink" title="❤三栏布局的实现方案"></a>❤三栏布局的实现方案</h3><ul>
<li><strong>得分点</strong> 圣杯布局、双飞翼布局、三栏高度不定、中间栏内容多先渲染</li>
<li><strong>标准回答</strong> 三栏布局，要求左右两边盒子宽度固定，中间盒子宽度自适应，盒子的高度都是随内容撑高的，一般都是中间盒子内容较多，为了保证页面渲染快，在写结构的时候，需要把中间盒子放在左右盒子的前面。 实现三栏布局的方法通常是圣杯布局和双飞翼布局。</li>
<li><strong>圣杯布局</strong>的实现方案：三个元素放在同一个父级元素中，代表中间盒子的元素放在最前面，父级盒子设置左右<code>padding</code>，三个盒子全部浮动，设置中间盒子宽度100%，左右盒子设置固定宽度，设置左边盒子左边距-100%同时相对自身定位，右边平移自身宽度，右边盒子设置右边距-自身宽度，最后设置父级盒子清除浮动，否则父级盒子的高度无法被撑开</li>
<li><strong>双飞翼布局</strong>的实现方案：三个盒子对应三个元素，其中中间盒子套了两层，中间盒子内部盒子设置<code>margin</code>,三个盒子全部浮动，设置中间盒子宽度100%，左右盒子设置固定宽度,设置左边盒子左边距-100%,右边盒子设置右边距-自身宽度，最后设置父级盒子清除浮动，否则父级盒子的高度无法被撑开</li>
<li><strong>加分回答</strong><ul>
<li><strong>圣杯布局:</strong><ul>
<li><strong>优点：</strong>不需要添加dom节点</li>
<li><strong>缺点：</strong>正常情况下是没有问题的，但是特殊情况下就会暴露此方案的弊端，当middle部分的宽小于left部分时就会发生布局混乱。</li>
</ul>
</li>
<li><strong>双飞翼布局：</strong><ul>
<li><strong>优点：</strong>不会像圣杯布局那样变形，CSS样式代码更简洁</li>
<li><strong>缺点：</strong>多加了一层dom节点</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="几种常见的CSS布局"><a href="#几种常见的CSS布局" class="headerlink" title="几种常见的CSS布局"></a>几种常见的CSS布局</h3><h4 id="流体布局"><a href="#流体布局" class="headerlink" title="流体布局"></a>流体布局</h4><pre class="line-numbers language-css" data-language="css"><code class="language-css">	<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
		<span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
		<span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
		<span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
		<span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
		<span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
		<span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
		<span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
		<span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token selector">.main</span> <span class="token punctuation">&#123;</span>
		<span class="token property">margin-left</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
		<span class="token property">margin-right</span><span class="token punctuation">:</span> 220px<span class="token punctuation">;</span>
		<span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
		<span class="token property">background</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
&lt;div class=<span class="token string">"container"</span>>
    &lt;div class=<span class="token string">"left"</span>>&lt;/div>
    &lt;div class=<span class="token string">"right"</span>>&lt;/div>
    &lt;div class=<span class="token string">"main"</span>>&lt;/div>
&lt;/div><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h4><ul>
<li>要求：三列布局；中间主体内容前置，且宽度自适应；两边内容定宽<ul>
<li>好处：重要的内容放在文档流前面可以优先渲染</li>
<li>原理：利用相对定位、浮动、负边距布局，而不添加额外标签</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">  <span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
      <span class="token property">padding-left</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
      <span class="token property">padding-right</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.main</span> <span class="token punctuation">&#123;</span>
      <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
      <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> -150px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
      <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> -190px<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> -190px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
&lt;div class=<span class="token string">"container"</span>>
	&lt;div class=<span class="token string">"main"</span>>&lt;/div>
	&lt;div class=<span class="token string">"left"</span>>&lt;/div>
	&lt;div class=<span class="token string">"right"</span>>&lt;/div>
&lt;/div><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h4><ul>
<li>双飞翼布局：对圣杯布局（使用相对定位，对以后布局有局限性）的改进，消除相对定位布局</li>
<li>原理：主体元素上设置左右边距，预留两翼位置。左右两栏使用浮动和负边距归位，消除相对定位。</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/*padding-left:150px;*/</span>
    <span class="token comment">/*padding-right:190px;*/</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.main-wrap</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.main</span> <span class="token punctuation">&#123;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
    <span class="token comment">/*position: relative;*/</span>
    <span class="token comment">/*left:-150px;*/</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -190px<span class="token punctuation">;</span>
    <span class="token comment">/*position:relative;*/</span>
    <span class="token comment">/*right:-190px;*/</span>
<span class="token punctuation">&#125;</span>
&lt;div class=<span class="token string">"content"</span>>
    &lt;div class=<span class="token string">"main"</span>>&lt;/div>
&lt;/div>
&lt;div class=<span class="token string">"left"</span>>&lt;/div>
&lt;div class=<span class="token string">"right"</span>>&lt;/div><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="stylus-sass-less区别"><a href="#stylus-sass-less区别" class="headerlink" title="stylus/sass/less区别"></a>stylus/sass/less区别</h3><ul>
<li>均具有“变量”、“混合”、“嵌套”、“继承”、“颜色混合”五大基本特性</li>
<li><code>Scss</code>和<code>LESS</code>语法较为严谨，<code>LESS</code>要求一定要使用大括号“{}”，<code>Scss</code>和<code>Stylus</code>可以通过缩进表示层次与嵌套关系</li>
<li><code>Scss</code>无全局变量的概念，<code>LESS</code>和<code>Stylus</code>有类似于其它语言的作用域概念</li>
<li><code>Sass</code>是基于<code>Ruby</code>语言的，而<code>LESS</code>和<code>Stylus</code>可以基于<code>NodeJS</code> <code>NPM</code>下载相应库后进行编译；</li>
</ul>
<h3 id="postcss的作用"><a href="#postcss的作用" class="headerlink" title="postcss的作用"></a>postcss的作用</h3><ul>
<li>可以直观的理解为：它就是一个平台。为什么说它是一个平台呢？因为我们直接用它，感觉不能干什么事情，但是如果让一些插件在它上面跑，那么将会很强大</li>
<li><code>PostCSS</code> 提供了一个解析器，它能够将 <code>CSS</code> 解析成抽象语法树</li>
<li>通过在 <code>PostCSS</code> 这个平台上，我们能够开发一些插件，来处理我们的<code>CSS</code>，比如热门的：<code>autoprefixer</code></li>
<li><code>postcss</code>可以对sass处理过后的<code>css</code>再处理 最常见的就是<code>autoprefixer</code></li>
</ul>
<h3 id="css样式（选择器）的优先级"><a href="#css样式（选择器）的优先级" class="headerlink" title="css样式（选择器）的优先级"></a>css样式（选择器）的优先级</h3><ul>
<li>计算权重确定</li>
<li><code>!important</code></li>
<li>内联样式</li>
<li>后写的优先级高</li>
</ul>
<h3 id="自定义字体的使用场景"><a href="#自定义字体的使用场景" class="headerlink" title="自定义字体的使用场景"></a>自定义字体的使用场景</h3><ul>
<li>宣传/品牌/<code>banner</code>等固定文案</li>
<li>字体图标</li>
</ul>
<h3 id="如何美化CheckBox"><a href="#如何美化CheckBox" class="headerlink" title="如何美化CheckBox"></a>如何美化CheckBox</h3><ul>
<li><code>&lt;label&gt;</code> 属性 <code>for</code> 和 <code>id</code></li>
<li>隐藏原生的 <code>&lt;input&gt;</code></li>
<li><code>:checked + &lt;label&gt;</code></li>
</ul>
<h3 id="伪类和伪元素的区别"><a href="#伪类和伪元素的区别" class="headerlink" title="伪类和伪元素的区别"></a>伪类和伪元素的区别</h3><ul>
<li>伪类表状态</li>
<li>伪元素是真的有元素</li>
<li>前者单冒号，后者双冒号</li>
</ul>
<h3 id="base64的使用"><a href="#base64的使用" class="headerlink" title="base64的使用"></a><code>base64</code>的使用</h3><ul>
<li>用于减少 <code>HTTP</code> 请求</li>
<li>适用于小图片</li>
<li><code>base64</code>的体积约为原图的<code>4/3</code></li>
</ul>
<h3 id="自适应布局"><a href="#自适应布局" class="headerlink" title="自适应布局"></a>自适应布局</h3><p>思路：</p>
<ul>
<li>左侧浮动或者绝对定位，然后右侧<code>margin</code>撑开</li>
<li>使用<code>&lt;div&gt;</code>包含，然后靠负<code>margin</code>形成<code>bfc</code></li>
<li>使用<code>flex</code></li>
</ul>
<h3 id="请用CSS写一个简单的幻灯片效果页面"><a href="#请用CSS写一个简单的幻灯片效果页面" class="headerlink" title="请用CSS写一个简单的幻灯片效果页面"></a>请用CSS写一个简单的幻灯片效果页面</h3><blockquote>
<p>知道是要用<code>CSS3</code>。使用<code>animation</code>动画实现一个简单的幻灯片效果</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/**css**/</span>
<span class="token selector">.ani</span><span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>480px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>320px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>50px auto<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span>0 0 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">-webkit-animation-name</span><span class="token punctuation">:</span> <span class="token string">"loops"</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-animation-duration</span><span class="token punctuation">:</span> 20s<span class="token punctuation">;</span>
  <span class="token property">-webkit-animation-iteration-count</span><span class="token punctuation">:</span> infinite<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> <span class="token string">"loops"</span></span> <span class="token punctuation">&#123;</span>
    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://d.hiphotos.baidu.com/image/w%3D400/sign=c01e6adca964034f0fcdc3069fc27980/e824b899a9014c08e5e38ca4087b02087af4f4d3.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">25%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://b.hiphotos.baidu.com/image/w%3D400/sign=edee1572e9f81a4c2632edc9e72b6029/30adcbef76094b364d72bceba1cc7cd98c109dd0.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://b.hiphotos.baidu.com/image/w%3D400/sign=937dace2552c11dfded1be2353266255/d8f9d72a6059252d258e7605369b033b5bb5b912.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">75%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://g.hiphotos.baidu.com/image/w%3D400/sign=7d37500b8544ebf86d71653fe9f9d736/0df431adcbef76095d61f0972cdda3cc7cd99e4b.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://c.hiphotos.baidu.com/image/w%3D400/sign=cfb239ceb0fb43161a1f7b7a10a54642/3b87e950352ac65ce2e73f76f9f2b21192138ad1.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="什么是外边距重叠？重叠的结果是什么？"><a href="#什么是外边距重叠？重叠的结果是什么？" class="headerlink" title="什么是外边距重叠？重叠的结果是什么？"></a>什么是外边距重叠？重叠的结果是什么？</h3><blockquote>
<p>外边距重叠就是margin-collapse</p>
</blockquote>
<ul>
<li>在CSS当中，相邻的两个盒子（可能是兄弟关系也可能是祖先关系）的外边距可以结合成一个单独的外边距。这种合并外边距的方式被称为折叠，并且因而所结合成的外边距称为折叠外边距。</li>
</ul>
<p><strong>折叠结果遵循下列计算规则</strong>：</p>
<ul>
<li>两个相邻的外边距都是正数时，折叠结果是它们两者之间较大的值。</li>
<li>两个相邻的外边距都是负数时，折叠结果是两者绝对值的较大值。</li>
<li>两个外边距一正一负时，折叠结果是两者的相加的和。</li>
</ul>
<h3 id="rgba-和opacity的透明效果有什么不同？"><a href="#rgba-和opacity的透明效果有什么不同？" class="headerlink" title="rgba()和opacity的透明效果有什么不同？"></a>rgba()和opacity的透明效果有什么不同？</h3><ul>
<li><code>rgba()</code>和<code>opacity</code>都能实现透明效果，但最大的不同是<code>opacity</code>作用于元素，以及元素内的所有内容的透明度，</li>
<li>而<code>rgba()</code>只作用于元素的颜色或其背景色。（设置<code>rgba</code>透明的元素的子元素不会继承透明效果！）</li>
</ul>
<h3 id="css中可以让文字在垂直和水平方向上重叠的两个属性是什么？"><a href="#css中可以让文字在垂直和水平方向上重叠的两个属性是什么？" class="headerlink" title="css中可以让文字在垂直和水平方向上重叠的两个属性是什么？"></a>css中可以让文字在垂直和水平方向上重叠的两个属性是什么？</h3><ul>
<li>垂直方向：<code>line-height</code></li>
<li>水平方向：<code>letter-spacing</code></li>
</ul>
<h3 id="如何垂直居中一个浮动元素？"><a href="#如何垂直居中一个浮动元素？" class="headerlink" title="如何垂直居中一个浮动元素？"></a>如何垂直居中一个浮动元素？</h3><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/**方法一：已知元素的高宽**/</span>

<span class="token selector">#div1</span><span class="token punctuation">&#123;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span>#6699FF<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>        //父元素需要相对定位
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span>-100px <span class="token punctuation">;</span>   //二分之一的height，width
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -100px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/**方法二:**/</span>

<span class="token selector">#div1</span><span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #6699FF<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>auto<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>        //父元素需要相对定位
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>如何垂直居中一个<code>&lt;img&gt;</code>?（用更简便的方法。）</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">#container     <span class="token comment">/**&lt;img>的容器设置如下**/</span>
<span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span>table-cell<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span>middle<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤CSS尺寸设置的单位"><a href="#❤CSS尺寸设置的单位" class="headerlink" title="❤CSS尺寸设置的单位"></a>❤CSS尺寸设置的单位</h3><ul>
<li><code>px</code>和<code>em</code>都是长度单位，区别是，<code>px</code>的值是固定的，指定是多少就是多少，计算比较容易。<code>em</code>得值不是固定的，并且<code>em</code>会继承父级元素的字体大小。</li>
<li>浏览器的默认字体高都是<code>16px</code>。所以未经调整的浏览器都符合: <code>1em=16px</code>。那么<code>12px=0.75em</code>, <code>10px=0.625em</code>。</li>
</ul>
<blockquote>
<ul>
<li>px 相对于显示器屏幕分辨率，无法用浏览器字体放大功能</li>
<li>em 值并不是固定的，会继承父级的字体大小： em = 像素值 / 父级font-size</li>
</ul>
</blockquote>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> px、rem、em、vw、vh</li>
<li><strong>标准回答</strong><ul>
<li><strong>px：</strong>pixel像素的缩写，绝对长度单位，它的大小取决于屏幕的分辨率，是开发网页中常常使用的单位。</li>
<li><strong>em：</strong>相对长度单位，在 <code>font-size</code> 中使用是相对于父元素的字体大小，在其他属性中使用是相对于自身的字体大小，如 width。如当前元素的字体尺寸未设置，由于字体大小可继承的原因，可逐级向上查找，最终找不到则相对于浏览器默认字体大小。</li>
<li><strong>rem：</strong>相对长度单位，相对于根元素的字体大小，根元素字体大小未设置，使用浏览器默认字体大小。</li>
<li><strong>vw：</strong>相对长度单位，相对于视窗宽度的1%。</li>
<li><strong>vh：</strong>相对长度单位，相对于视窗高度的1%。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li><strong>rem应用：</strong>在移动端网页开发中，页面要做成响应式的，可使用rem配合媒体查询或者flexible.js实现。</li>
<li>原理是通过媒体查询或者flexible.js，能够在屏幕尺寸发生改变时，重置html根元素的字体大小，页面中的元素都是使用rem为单位设置的尺寸，因此只要改变根元素字体大小，页面中的其他元素的尺寸就自动跟着修改</li>
<li><strong>vw应用：</strong>由于vw被更多浏览器兼容之后，在做移动端响应式页面时，通常使用vw配合rem。</li>
<li>原理是使用vw设置根元素html字体的大小，当窗口大小发生改变，vw代表的尺寸随着修改，无需加入媒体查询和flexible.js，页面中的其他元素仍使用rem为单位，就可实现响应式。</li>
</ul>
</li>
</ul>
<h3 id="Sass、LESS是什么？大家为什么要使用他们？"><a href="#Sass、LESS是什么？大家为什么要使用他们？" class="headerlink" title="Sass、LESS是什么？大家为什么要使用他们？"></a>Sass、LESS是什么？大家为什么要使用他们？</h3><ul>
<li>他们是<code>CSS</code>预处理器。他是<code>CSS</code>上的一种抽象层。他们是一种特殊的语法/语言编译成<code>CSS</code>。</li>
<li>例如Less是一种动态样式语言. 将CSS赋予了动态语言的特性，如变量，继承，运算， 函数. <code>LESS</code> 既可以在客户端上运行 (支持<code>IE 6+</code>, <code>Webkit</code>, <code>Firefox</code>)，也可一在服务端运行 (借助 <code>Node.js</code>)</li>
</ul>
<p><strong>为什么要使用它们？</strong></p>
<ul>
<li>结构清晰，便于扩展。</li>
<li>可以方便地屏蔽浏览器私有语法差异。这个不用多说，封装对- 浏览器语法差异的重复处理，减少无意义的机械劳动。</li>
<li>可以轻松实现多重继承。</li>
<li>完全兼容 CSS 代码，可以方便地应用到老项目中。LESS 只- 是在 CSS 语法上做了扩展，所以老的 CSS 代码也可以与 LESS 代码一同编译</li>
</ul>
<h3 id="知道css有个content属性吗？有什么作用？有什么应用？"><a href="#知道css有个content属性吗？有什么作用？有什么应用？" class="headerlink" title="知道css有个content属性吗？有什么作用？有什么应用？"></a>知道css有个content属性吗？有什么作用？有什么应用？</h3><blockquote>
<p>css的<code>content</code>属性专门应用在 <code>before/after</code>伪元素上，用于来插入生成内容。最常见的应用是利用伪类清除浮动。</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/**一种常见利用伪类清除浮动的代码**/</span>
<span class="token selector">.clearfix:after</span> <span class="token punctuation">&#123;</span>
    <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">"."</span><span class="token punctuation">;</span>       //这里利用到了content属性
    <span class="token property">display</span><span class="token punctuation">:</span>block<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    <span class="token property">visibility</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span>
    <span class="token property">clear</span><span class="token punctuation">:</span>both<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
<span class="token selector">.clearfix</span> <span class="token punctuation">&#123;</span>
    *<span class="token property">zoom</span><span class="token punctuation">:</span>1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤未知宽高元素水平垂直居中方法"><a href="#❤未知宽高元素水平垂直居中方法" class="headerlink" title="❤未知宽高元素水平垂直居中方法"></a>❤未知宽高元素水平垂直居中方法</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> <code>position</code> <code>transform</code> <code>flex</code> <code>justify-content</code> <code>align-items</code> <code>vertical-align</code> <code>text-align</code></li>
<li><strong>标准回答</strong><br>未知宽高元素水平垂直都居中的实现方法：<ol>
<li>设置元素相对父级定位<code>position:absolute;left:50%;right:50%</code>，让自身平移自身高度50% <code>transform: translate(-50%,-50%);</code>，这种方式兼容性好，被广泛使用的一种方式</li>
<li>设置元素的父级为弹性盒子<code>display:flex</code>，设置父级和盒子内部子元素水平垂直都居中<code>justify-content:center; align-items:center</code> ，这种方式代码简洁，但是兼容性ie 11以上支持，由于目前ie版本都已经很高，很多网站现在也使用这种方式实现水平垂直居中</li>
<li>设置元素的父级为网格元素<code>display: grid</code>，设置父级和盒子内部子元素水平垂直都居中<code>justify-content:center; align-items:center</code> ，这种方式代码简介，但是兼容性ie 10以上支持</li>
<li>设置元素的父级为表格元素<code>display: table-cell</code>，其内部元素水平垂直都居中<code>text-align: center;vertical-align: middle;</code> ，设置子元素为行内块<code>display: inline-block; </code>，这种方式兼容性较好</li>
</ol>
</li>
<li><strong>加分回答</strong><ul>
<li>京东的移动端顶部京东logo，使用的是<code>display:flex</code>这种模式</li>
</ul>
</li>
</ul>
<p><img data-src="https://uploadfiles.nowcoder.com/images/20220226/4107856_1645863237781/BC704AA0F4330EE2306751C366A460B5" alt="img"></p>
<h3 id="水平居中的方法"><a href="#水平居中的方法" class="headerlink" title="水平居中的方法"></a>水平居中的方法</h3><ul>
<li>元素为行内元素，设置父元素<code>text-align:center</code></li>
<li>如果元素宽度固定，可以设置左右<code>margin</code>为<code>auto</code>;</li>
<li>绝对定位和移动: <code>absolute + transform</code></li>
<li>使用<code>flex-box</code>布局，指定<code>justify-content</code>属性为center</li>
<li><code>display</code>设置为<code>tabel-ceil</code></li>
</ul>
<h3 id="垂直居中的方法"><a href="#垂直居中的方法" class="headerlink" title="垂直居中的方法"></a>垂直居中的方法</h3><ul>
<li><p>将显示方式设置为表格，<code>display:table-cell</code>,同时设置<code>vertial-align：middle</code></p>
</li>
<li><p>使用<code>flex</code>布局，设置为<code>align-item：center</code></p>
</li>
<li><p>绝对定位中设置<code>bottom:0,top:0</code>,并设置<code>margin:auto</code></p>
</li>
<li><p>绝对定位中固定高度时设置<code>top:50%，margin-top</code>值为高度一半的负值</p>
</li>
<li><p>文本垂直居中设置<code>line-height</code>为<code>height</code>值</p>
</li>
<li><p>如果是单行文本, line-height 设置成和 height 值</p>
</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.vertical</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>已知高度的块级子元素，采用绝对定位和负边距</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.vertical</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>  <span class="token comment">/*子元素高度*/</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>  <span class="token comment">/*父元素高度50%*/</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -150px<span class="token punctuation">;</span> <span class="token comment">/*自身高度一半*/</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>未知高度的块级父子元素居中，模拟表格布局</li>
<li>缺点：IE67不兼容，父级 overflow：hidden 失效</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">.content</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>新增 inline-block 兄弟元素，设置 vertical-align<ul>
<li>缺点：需要增加额外标签，IE67不兼容</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token comment">/*定义父级高度，作为参考*/</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.extra .vertical</span><span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>  <span class="token comment">/*行内块显示*/</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span> <span class="token comment">/*垂直居中*/</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.extra</span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token comment">/*设置新增元素高度为100%*/</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>绝对定位配合 CSS3 位移</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.vertical</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>  <span class="token comment">/*父元素高度50%*/</span>
  <span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">translateY</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>CSS3弹性盒模型</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span> <span class="token comment">/*子元素水平居中*/</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span> <span class="token comment">/*子元素垂直居中*/</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="如何使用CSS实现硬件加速？"><a href="#如何使用CSS实现硬件加速？" class="headerlink" title="如何使用CSS实现硬件加速？"></a>如何使用CSS实现硬件加速？</h3><blockquote>
<p>硬件加速是指通过创建独立的复合图层，让GPU来渲染这个图层，从而提高性能，</p>
</blockquote>
<ul>
<li>一般触发硬件加速的<code>CSS</code>属性有<code>transform</code>、<code>opacity</code>、<code>filter</code>，为了避免2D动画在 开始和结束的时候的<code>repaint</code>操作，一般使用<code>tranform:translateZ(0)</code></li>
</ul>
<h3 id="❤重绘和回流（重排）是什么，如何避免？"><a href="#❤重绘和回流（重排）是什么，如何避免？" class="headerlink" title="❤重绘和回流（重排）是什么，如何避免？"></a>❤重绘和回流（重排）是什么，如何避免？</h3><ul>
<li>重绘：当渲染树中的元素外观（如：颜色）发生改变，不影响布局时，产生重绘</li>
<li>回流：当渲染树中的元素的布局（如：尺寸、位置、隐藏/状态状态）发生改变时，产生重绘回流</li>
<li>注意：JS获取Layout属性值（如：<code>offsetLeft</code>、<code>scrollTop</code>、<code>getComputedStyle</code>等）也会引起回流。因为浏览器需要通过回流计算最新值</li>
<li>回流必将引起重绘，而重绘不一定会引起回流</li>
</ul>
<p>**如何最小化重绘(repaint)和回流(reflow)**：</p>
<ul>
<li>需要要对元素进行复杂的操作时，可以先隐藏(<code>display:&quot;none&quot;</code>)，操作完成后再显示</li>
<li>需要创建多个<code>DOM</code>节点时，使用<code>DocumentFragment</code>创建完后一次性的加入<code>document</code></li>
<li>缓存<code>Layout</code>属性值，如：<code>var left = elem.offsetLeft;</code> 这样，多次使用 <code>left</code> 只产生一次回流</li>
<li>尽量避免用<code>table</code>布局（<code>table</code>元素一旦触发回流就会导致table里所有的其它元素回流）</li>
<li>避免使用<code>css</code>表达式(<code>expression</code>)，因为每次调用都会重新计算值（包括加载页面）</li>
<li>尽量使用 <code>css</code> 属性简写，如：用 <code>border</code> 代替 <code>border-width</code>, <code>border-style</code>, <code>border-color</code></li>
<li>批量修改元素样式：<code>elem.className</code> 和 <code>elem.style.cssText</code> 代替 <code>elem.style.xxx</code></li>
</ul>
<ul>
<li><strong>得分点</strong> 改变元素尺寸、重新计算布局树、重排必定重绘、重绘避开了重建布局树和分层、GPU加速、脱离文档流、样式集中改变</li>
<li><strong>标准回答</strong><ul>
<li>重排 ：当DOM的变化影响了元素的几何信息(元素的的位置和尺寸大小)，浏览器需要重新计算元素的几何属性，将其安放在界面中的正确位置，这个过程叫做重排。</li>
<li>重绘：当一个元素的外观发生改变，但没有改变布局，重新把元素外观绘制出来的过程，所以重绘跳过了创建布局树和分层的阶段。 重排需要重新计算布局树，重绘不需要，重排必定发生重绘，但是涉及到重绘不一定要重排。涉及到重排对性能的消耗更多一些。</li>
<li>触发重排的方法：<ul>
<li>页面初始渲染，这是开销最大的一次重排</li>
<li>添加/删除可见的DOM元素</li>
<li>改变元素位置 -改变元素尺寸，比如边距、填充、边框、宽度和高度等</li>
<li>改变元素内容，比如文字数量，图片大小等 -改变元素字体大小 -改变浏览器窗口尺寸，比如resize事件发生时</li>
<li>激活CSS伪类（例如：<code>:hover</code>）</li>
<li>设置 style 属性的值，因为通过设置style属性改变结点样式的话，每一次设置都会触发一次reflow</li>
<li>查询某些属性或调用某些计算方法：offsetWidth、offsetHeight等 避免重排的方式</li>
<li>样式集中改变</li>
<li>使用 absolute 或 fixed 脱离文档流</li>
<li>使用GPU加速:transform</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>GPU的过程是以下这几步 : 1. 获取DOM并将其分割成多个层(renderLayer) 2. 将每个层栅格化，并独立的绘制进位图中 3. 将这些位图作为纹理上传至GPU 4. 复合多个层来生成最终的屏幕图像(最后的layer) 开启了GPU加速的元素被独立出来，不会再影响其他dom的布局，因为它改变之后，只是相当于被贴上了页面。</li>
</ul>
</li>
</ul>
<h3 id="说一说css3的animation"><a href="#说一说css3的animation" class="headerlink" title="说一说css3的animation"></a>说一说css3的animation</h3><ul>
<li>css3的<code>animation</code>是css3新增的动画属性，这个css3动画的每一帧是通过<code>@keyframes</code>来声明的，<code>keyframes</code>声明了动画的名称，通过<code>from</code>、<code>to</code>或者是百分比来定义</li>
<li>每一帧动画元素的状态，通过<code>animation-name</code>来引用这个动画，同时css3动画也可以定义动画运行的时长、动画开始时间、动画播放方向、动画循环次数、动画播放的方式，</li>
<li>这些相关的动画子属性有：<code>animation-name</code>定义动画名、<code>animation-duration</code>定义动画播放的时长、<code>animation-delay</code>定义动画延迟播放的时间、<code>animation-direction</code>定义 动画的播放方向、<code>animation-iteration-count</code>定义播放次数、<code>animation-fill-mode</code>定义动画播放之后的状态、<code>animation-play-state</code>定义播放状态，如暂停运行等、<code>animation-timing-function</code></li>
<li>定义播放的方式，如恒速播放、艰涩播放等。</li>
</ul>
<h3 id="左边宽度固定，右边自适应"><a href="#左边宽度固定，右边自适应" class="headerlink" title="左边宽度固定，右边自适应"></a>左边宽度固定，右边自适应</h3><blockquote>
<p>左侧固定宽度，右侧自适应宽度的两列布局实现</p>
</blockquote>
<p>html结构</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>outer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>固定宽度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>自适应宽度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>在外层<code>div</code>（类名为<code>outer</code>）的<code>div</code>中，有两个子<code>div</code>，类名分别为<code>left</code>和<code>right</code>，其中<code>left</code>为固定宽度，而<code>right</code>为自适应宽度</p>
</blockquote>
<p><strong>方法1：左侧div设置成浮动：float: left，右侧div宽度会自拉升适应</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.outer</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法2：对右侧:div进行绝对定位，然后再设置right=0，即可以实现宽度自适应</strong></p>
<blockquote>
<p>绝对定位元素的第一个高级特性就是其具有自动伸缩的功能，当我们将 <code>width</code>设置为 <code>auto</code> 的时候（或者不设置，默认为 <code>auto</code> ），绝对定位元素会根据其 <code>left</code> 和 <code>right</code> 自动伸缩其大小</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.outer</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法3：将左侧<code>div</code>进行绝对定位，然后右侧<code>div</code>设置<code>margin-left: 200px</code></strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.outer</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法4：使用flex布局</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.outer</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.left</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.right</span> <span class="token punctuation">&#123;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="两种以上方式实现已知或者未知宽度的垂直水平居中"><a href="#两种以上方式实现已知或者未知宽度的垂直水平居中" class="headerlink" title="两种以上方式实现已知或者未知宽度的垂直水平居中"></a>两种以上方式实现已知或者未知宽度的垂直水平居中</h3><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/** 1 **/</span>
<span class="token selector">.wraper</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token selector">;
  .box</span> <span class="token punctuation">&#123;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> -50px 0 0 -50px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/** 2 **/</span>
<span class="token selector">.wraper</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token selector">;
  .box</span> <span class="token punctuation">&#123;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/** 3 **/</span>
<span class="token selector">.wraper</span> <span class="token punctuation">&#123;</span>
  <span class="token selector">.box</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/** 4 **/</span>
<span class="token selector">.wraper</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token selector">;
  .box</span> <span class="token punctuation">&#123;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> table-cell<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="如何实现小于12px的字体效果"><a href="#如何实现小于12px的字体效果" class="headerlink" title="如何实现小于12px的字体效果"></a>如何实现小于12px的字体效果</h3><blockquote>
<p><code>transform:scale()</code>这个属性只可以缩放可以定义宽高的元素，而行内元素是没有宽高的，我们可以加上一个<code>display:inline-block</code>;</p>
</blockquote>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">transform: scale(0.7);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><code>css</code>的属性，可以缩放大小</p>
<h3 id="css-hack原理及常用hack"><a href="#css-hack原理及常用hack" class="headerlink" title="css hack原理及常用hack"></a>css hack原理及常用hack</h3><ul>
<li>原理：利用不同浏览器对CSS的支持和解析结果不一样编写针对特定浏览器样式。</li>
<li>常见的hack有<ul>
<li>属性hack</li>
<li>选择器hack</li>
<li>IE条件注释</li>
</ul>
</li>
</ul>
<h3 id="CSS有哪些继承属性"><a href="#CSS有哪些继承属性" class="headerlink" title="CSS有哪些继承属性"></a>CSS有哪些继承属性</h3><ul>
<li>关于文字排版的属性如：<ul>
<li><code>font</code><ul>
<li><code>word-break</code></li>
<li><code>letter-spacing</code></li>
<li><code>text-align</code></li>
<li><code>text-rendering</code></li>
<li><code>word-spacing</code></li>
<li><code>white-space</code></li>
<li><code>text-indent</code></li>
<li><code>text-transform</code></li>
<li><code>text-shadow</code></li>
</ul>
</li>
<li><code>line-height</code></li>
<li><code>color</code></li>
<li><code>visibility</code></li>
<li><code>cursor</code></li>
</ul>
</li>
</ul>
<h3 id="外边距折叠-collapsing-margins"><a href="#外边距折叠-collapsing-margins" class="headerlink" title="外边距折叠(collapsing margins)"></a>外边距折叠(collapsing margins)</h3><ul>
<li>毗邻的两个或多个<code>margin</code>会合并成一个<code>margin</code>，叫做外边距折叠。规则如下：<ul>
<li>两个或多个毗邻的普通流中的块元素垂直方向上的<code>margin</code>会折叠</li>
<li>浮动元素或<code>inline-block</code>元素或绝对定位元素的<code>margin</code>不会和垂直方向上的其他元素的margin折叠</li>
<li>创建了块级格式化上下文的元素，不会和它的子元素发生margin折叠</li>
<li>元素自身的<code>margin-bottom</code>和<code>margin-top</code>相邻时也会折</li>
</ul>
</li>
</ul>
<h3 id="CSS选择符有哪些？哪些属性可以继承"><a href="#CSS选择符有哪些？哪些属性可以继承" class="headerlink" title="CSS选择符有哪些？哪些属性可以继承"></a>CSS选择符有哪些？哪些属性可以继承</h3><ul>
<li>id选择器（ <code>#myid</code>）</li>
<li>类选择器（<code>.myclassname</code>）</li>
<li>标签选择器（<code>div</code>, <code>h1</code>, <code>p</code>）</li>
<li>相邻选择器（<code>h1 + p</code>）</li>
<li>子选择器（<code>ul &gt; li</code>）</li>
<li>后代选择器（<code>li a</code>）</li>
<li>通配符选择器（ <code>*</code> ）</li>
<li>属性选择器（<code>a[rel = &quot;external&quot;]</code>）</li>
<li>伪类选择器（<code>a:hover, li:nth-child</code>）</li>
</ul>
<p><strong>CSS哪些属性可以继承？哪些属性不可以继承</strong></p>
<ul>
<li>可继承的样式： <code>font-size font-family color, UL LI DL DD DT</code></li>
<li>不可继承的样式：<code>border padding margin width height</code></li>
</ul>
<h3 id="CSS3新增伪类有那些"><a href="#CSS3新增伪类有那些" class="headerlink" title="CSS3新增伪类有那些"></a>CSS3新增伪类有那些</h3><ul>
<li><code>:root</code> 选择文档的根元素，等同于 html 元素</li>
<li><code>:empty</code> 选择没有子元素的元素</li>
<li><code>:target</code> 选取当前活动的目标元素</li>
<li><code>:not(selector)</code> 选择除 <code>selector</code> 元素意外的元素</li>
<li><code>:enabled</code> 选择可用的表单元素</li>
<li><code>:disabled</code> 选择禁用的表单元素</li>
<li><code>:checked</code> 选择被选中的表单元素</li>
<li><code>:after</code> 在元素内部最前添加内容</li>
<li><code>:before</code> 在元素内部最后添加内容</li>
<li><code>:nth-child(n)</code> 匹配父元素下指定子元素，在所有子元素中排序第n</li>
<li><code>:nth-last-child(n)</code> 匹配父元素下指定子元素，在所有子元素中排序第n，从后向前数</li>
<li><code>:nth-child(odd)</code></li>
<li><code>:nth-child(even)</code></li>
<li><code>:nth-child(3n+1)</code></li>
<li><code>:first-child</code></li>
<li><code>:last-child</code></li>
<li><code>:only-child</code></li>
<li><code>:nth-of-type(n)</code> 匹配父元素下指定子元素，在同类子元素中排序第n</li>
<li><code>:nth-last-of-type(n)</code> 匹配父元素下指定子元素，在同类子元素中排序第n，从后向前数</li>
<li><code>:nth-of-type(odd)</code></li>
<li><code>:nth-of-type(even)</code></li>
<li><code>:nth-of-type(3n+1)</code></li>
<li><code>:first-of-type</code></li>
<li><code>:last-of-type</code></li>
<li><code>:only-of-type</code></li>
<li><code>::selection</code> 选择被用户选取的元素部分</li>
<li><code>:first-line</code> 选择元素中的第一行</li>
<li><code>:first-letter</code> 选择元素中的第一个字符</li>
</ul>
<h3 id="如何居中div？如何居中一个浮动元素？如何让绝对定位的div居中"><a href="#如何居中div？如何居中一个浮动元素？如何让绝对定位的div居中" class="headerlink" title="如何居中div？如何居中一个浮动元素？如何让绝对定位的div居中"></a>如何居中div？如何居中一个浮动元素？如何让绝对定位的div居中</h3><ul>
<li>给<code>div</code>设置一个宽度，然后添加<code>margin:0 auto</code>属性</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">div</span><span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>0 auto<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>居中一个浮动元素</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 确定容器的宽高 宽500 高 300 的层
设置层的外边距 */</span>

<span class="token selector">.div</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>500px <span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span>//高度可以不设
  <span class="token property">margin</span><span class="token punctuation">:</span> -150px 0 0 -250px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>         //相对定位
  <span class="token property">background-color</span><span class="token punctuation">:</span>pink<span class="token punctuation">;</span>     //方便看效果
  <span class="token property">left</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>让绝对定位的div居中</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token property">width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span>
<span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="用纯CSS创建一个三角形的原理是什么"><a href="#用纯CSS创建一个三角形的原理是什么" class="headerlink" title="用纯CSS创建一个三角形的原理是什么"></a>用纯CSS创建一个三角形的原理是什么</h3><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 把上、左、右三条边隐藏掉（颜色设为 transparent） */</span>
<span class="token selector">#demo</span> <span class="token punctuation">&#123;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">border-width</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> transparent transparent red transparent<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="一个满屏-品-字布局-如何设计"><a href="#一个满屏-品-字布局-如何设计" class="headerlink" title="一个满屏 品 字布局 如何设计?"></a>一个满屏 品 字布局 如何设计?</h3><ul>
<li>简单的方式：<ul>
<li>上面的<code>div</code>宽<code>100%</code>，</li>
<li>下面的两个<code>div</code>分别宽<code>50%</code>，</li>
<li>然后用<code>float</code>或者<code>inline</code>使其不换行即可</li>
</ul>
</li>
</ul>
<h3 id="li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法"><a href="#li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法" class="headerlink" title="li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法"></a>li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法</h3><blockquote>
<p>行框的排列会受到中间空白（回车\空格）等的影响，因为空格也属于字符,这些空白也会被应用样式，占据空间，所以会有间隔，把字符大小设为0，就没有空格了</p>
</blockquote>
<h3 id="为什么要初始化CSS样式-1"><a href="#为什么要初始化CSS样式-1" class="headerlink" title="为什么要初始化CSS样式"></a>为什么要初始化CSS样式</h3><blockquote>
<p>因为浏览器的兼容问题，不同浏览器对有些标签的默认值是不同的，如果没对CSS初始化往往会出现浏览器之间的页面显示差异</p>
</blockquote>
<h3 id="请列举几种隐藏元素的方法"><a href="#请列举几种隐藏元素的方法" class="headerlink" title="请列举几种隐藏元素的方法"></a>请列举几种隐藏元素的方法</h3><ul>
<li><code>visibility: hidden;</code> 这个属性只是简单的隐藏某个元素，但是元素占用的空间任然存在</li>
<li><code>opacity: 0;</code> <code>CSS3</code>属性，设置<code>0</code>可以使一个元素完全透明</li>
<li><code>position: absolute;</code> 设置一个很大的 <code>left</code> 负值定位，使元素定位在可见区域之外</li>
<li><code>display: none;</code> 元素会变得不可见，并且不会再占用文档的空间。</li>
<li><code>transform: scale(0);</code> 将一个元素设置为缩放无限小，元素将不可见，元素原来所在的位置将被保留</li>
<li><code>&lt;div hidden=&quot;hidden&quot;&gt;</code> HTML5属性,效果和<code>display:none;</code>相同，但这个属性用于记录一个元素的状态</li>
<li><code>height: 0;</code> 将元素高度设为 <code>0</code> ，并消除边框</li>
<li><code>filter: blur(0);</code> CSS3属性，将一个元素的模糊度设置为<code>0</code>，从而使这个元素“消失”在页面中</li>
</ul>
<h3 id="rgba-和-opacity-的透明效果有什么不同"><a href="#rgba-和-opacity-的透明效果有什么不同" class="headerlink" title="rgba() 和 opacity 的透明效果有什么不同"></a>rgba() 和 opacity 的透明效果有什么不同</h3><ul>
<li><code>opacity</code> 作用于元素以及元素内的所有内容（包括文字）的透明度</li>
<li><code>rgba()</code> 只作用于元素自身的颜色或其背景色，子元素不会继承透明效果</li>
</ul>
<h3 id="css-属性-content-有什么作用"><a href="#css-属性-content-有什么作用" class="headerlink" title="css 属性 content 有什么作用"></a>css 属性 content 有什么作用</h3><ul>
<li>content 属性专门应用在 before/after 伪元素上，用于插入额外内容或样式</li>
</ul>
<h3 id="请解释一下-CSS3-的-Flexbox（弹性盒布局模型）以及适用场景"><a href="#请解释一下-CSS3-的-Flexbox（弹性盒布局模型）以及适用场景" class="headerlink" title="请解释一下 CSS3 的 Flexbox（弹性盒布局模型）以及适用场景"></a>请解释一下 CSS3 的 Flexbox（弹性盒布局模型）以及适用场景</h3><blockquote>
<p>1Flexbox1 用于不同尺寸屏幕中创建可自动扩展和收缩布局</p>
</blockquote>
<h3 id="经常遇到的浏览器的JS兼容性有哪些？解决方法是什么"><a href="#经常遇到的浏览器的JS兼容性有哪些？解决方法是什么" class="headerlink" title="经常遇到的浏览器的JS兼容性有哪些？解决方法是什么"></a>经常遇到的浏览器的JS兼容性有哪些？解决方法是什么</h3><ul>
<li>当前样式：<code>getComputedStyle(el, null) VS el.currentStyle</code></li>
<li>事件对象：<code>e VS window.event</code></li>
<li>鼠标坐标：<code>e.pageX, e.pageY VS window.event.x, window.event.y</code></li>
<li>按键码：<code>e.which VS event.keyCode</code></li>
<li>文本节点：<code>el.textContent VS el.innerText</code></li>
</ul>
<h3 id="请写出多种等高布局"><a href="#请写出多种等高布局" class="headerlink" title="请写出多种等高布局"></a>请写出多种等高布局</h3><ul>
<li>在列的父元素上使用这个背景图进行Y轴的铺放，从而实现一种等高列的假像</li>
<li>模仿表格布局等高列效果：兼容性不好，在ie6-7无法正常运行</li>
<li>css3 flexbox 布局： .container{display: flex; align-items: stretch;}</li>
</ul>
<h3 id="CSS优化、提高性能的方法有哪些"><a href="#CSS优化、提高性能的方法有哪些" class="headerlink" title="CSS优化、提高性能的方法有哪些"></a>CSS优化、提高性能的方法有哪些</h3><ul>
<li>多个<code>css</code>合并，尽量减少<code>HTTP</code>请求</li>
<li>将<code>css</code>文件放在页面最上面</li>
<li>移除空的<code>css</code>规则</li>
<li>避免使用<code>CSS</code>表达式</li>
<li>选择器优化嵌套，尽量避免层级过深</li>
<li>充分利用<code>css</code>继承属性，减少代码量</li>
<li>抽象提取公共样式，减少代码量</li>
<li>属性值为<code>0</code>时，不加单位</li>
<li>属性值为小于<code>1</code>的小数时，省略小数点前面的0</li>
<li><code>css</code>雪碧图</li>
</ul>
<h3 id="浏览器是怎样解析CSS选择器的"><a href="#浏览器是怎样解析CSS选择器的" class="headerlink" title="浏览器是怎样解析CSS选择器的"></a>浏览器是怎样解析CSS选择器的</h3><ul>
<li>浏览器解析 CSS 选择器的方式是从右到左</li>
</ul>
<h3 id="在网页中的应该使用奇数还是偶数的字体"><a href="#在网页中的应该使用奇数还是偶数的字体" class="headerlink" title="在网页中的应该使用奇数还是偶数的字体"></a>在网页中的应该使用奇数还是偶数的字体</h3><ul>
<li>在网页中的应该使用“偶数”字体：<ul>
<li>偶数字号相对更容易和 web 设计的其他部分构成比例关系</li>
<li>使用奇数号字体时文本段落无法对齐</li>
<li>宋体的中文网页排布中使用最多的就是 12 和 14</li>
</ul>
</li>
</ul>
<h3 id="margin和padding分别适合什么场景使用"><a href="#margin和padding分别适合什么场景使用" class="headerlink" title="margin和padding分别适合什么场景使用"></a>margin和padding分别适合什么场景使用</h3><ul>
<li>需要在<code>border</code>外侧添加空白，且空白处不需要背景（色）时，使用 <code>margin</code></li>
<li>需要在<code>border</code>内测添加空白，且空白处需要背景（色）时，使用 <code>padding</code></li>
</ul>
<h3 id="抽离样式模块怎么写，说出思路"><a href="#抽离样式模块怎么写，说出思路" class="headerlink" title="抽离样式模块怎么写，说出思路"></a>抽离样式模块怎么写，说出思路</h3><ul>
<li>CSS可以拆分成2部分：公共CSS 和 业务CSS：<ul>
<li>网站的配色，字体，交互提取出为公共CSS。这部分CSS命名不应涉及具体的业务</li>
<li>对于业务CSS，需要有统一的命名，使用公用的前缀。可以参考面向对象的CSS</li>
</ul>
</li>
</ul>
<h3 id="元素竖向的百分比设定是相对于容器的高度吗"><a href="#元素竖向的百分比设定是相对于容器的高度吗" class="headerlink" title="元素竖向的百分比设定是相对于容器的高度吗"></a>元素竖向的百分比设定是相对于容器的高度吗</h3><blockquote>
<p>元素竖向的百分比设定是相对于容器的宽度，而不是高度</p>
</blockquote>
<h3 id="全屏滚动的原理是什么？-用到了CSS的那些属性"><a href="#全屏滚动的原理是什么？-用到了CSS的那些属性" class="headerlink" title="全屏滚动的原理是什么？ 用到了CSS的那些属性"></a>全屏滚动的原理是什么？ 用到了CSS的那些属性</h3><ul>
<li>原理类似图片轮播原理，超出隐藏部分，滚动时显示</li>
<li>可能用到的CSS属性：<code>overflow:hidden; transform:translate(100%, 100%); display:none;</code></li>
</ul>
<h3 id="什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE"><a href="#什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE" class="headerlink" title="什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE"></a>什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE</h3><ul>
<li>响应式设计就是网站能够兼容多个终端，而不是为每个终端做一个特定的版本</li>
<li>基本原理是利用CSS3媒体查询，为不同尺寸的设备适配不同样式</li>
<li>对于低版本的IE，可采用JS获取屏幕宽度，然后通过resize方法来实现兼容：</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">screenRespond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">screenRespond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">screenRespond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
<span class="token keyword">var</span> screenWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>screenWidth <span class="token operator">&lt;=</span> <span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> <span class="token string">"w1800"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>screenWidth <span class="token operator">&lt;=</span> <span class="token number">1400</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> <span class="token string">"w1400"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>screenWidth <span class="token operator">></span> <span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"class"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="什么是视差滚动效果，如何给每页做不同的动画"><a href="#什么是视差滚动效果，如何给每页做不同的动画" class="headerlink" title="什么是视差滚动效果，如何给每页做不同的动画"></a>什么是视差滚动效果，如何给每页做不同的动画</h3><ul>
<li>视差滚动是指多层背景以不同的速度移动，形成立体的运动效果，具有非常出色的视觉体验</li>
<li>一般把网页解剖为：背景层、内容层和悬浮层。当滚动鼠标滚轮时，各图层以不同速度移动，形成视差的</li>
<li>实现原理<ul>
<li>以 “页面滚动条” 作为 “视差动画进度条”</li>
<li>以 “滚轮刻度” 当作 “动画帧度” 去播放动画的</li>
<li>监听 mousewheel 事件，事件被触发即播放动画，实现“翻页”效果</li>
</ul>
</li>
</ul>
<h3 id="a标签上四个伪类的执行顺序是怎么样的"><a href="#a标签上四个伪类的执行顺序是怎么样的" class="headerlink" title="a标签上四个伪类的执行顺序是怎么样的"></a>a标签上四个伪类的执行顺序是怎么样的</h3><blockquote>
<pre class="line-numbers language-none"><code class="language-none">link &gt; visited &gt; hover &gt; active<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<ul>
<li><code>L-V-H-A</code> <code>love hate</code> 用喜欢和讨厌两个词来方便记忆</li>
</ul>
<h3 id="伪元素和伪类的区别和作用"><a href="#伪元素和伪类的区别和作用" class="headerlink" title="伪元素和伪类的区别和作用"></a>伪元素和伪类的区别和作用</h3><ul>
<li>伪元素 – 在内容元素的前后插入额外的元素或样式，但是这些元素实际上并不在文档中生成。</li>
<li>它们只在外部显示可见，但不会在文档的源代码中找到它们，因此，称为“伪”元素。例如：</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">p::before</span> <span class="token punctuation">&#123;</span><span class="token property">content</span><span class="token punctuation">:</span><span class="token string">"第一章："</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">p::after</span> <span class="token punctuation">&#123;</span><span class="token property">content</span><span class="token punctuation">:</span><span class="token string">"Hot!"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">p::first-line</span> <span class="token punctuation">&#123;</span><span class="token property">background</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token selector">p::first-letter</span> <span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>伪类 – 将特殊的效果添加到特定选择器上。它是已有元素上添加类别的，不会产生新的元素。例如：</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">a:hover</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> #FF00FF<span class="token punctuation">&#125;</span>
<span class="token selector">p:first-child</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="before-和-after-中双冒号和单冒号有什么区别"><a href="#before-和-after-中双冒号和单冒号有什么区别" class="headerlink" title="::before 和 :after 中双冒号和单冒号有什么区别"></a>::before 和 :after 中双冒号和单冒号有什么区别</h3><ul>
<li>在 CSS 中伪类一直用 <code>:</code> 表示，如 <code>:hover</code>, <code>:active</code> 等</li>
<li>伪元素在CSS1中已存在，当时语法是用 <code>:</code> 表示，如 <code>:before</code> 和 <code>:after</code></li>
<li>后来在CSS3中修订，伪元素用 <code>::</code> 表示，如 <code>::before</code> 和 <code>::after</code>，以此区分伪元素和伪类</li>
<li>由于低版本IE对双冒号不兼容，开发者为了兼容性各浏览器，继续使使用 :after 这种老语法表示伪元素</li>
<li>综上所述：<code>::before</code> 是 <code>CSS3</code> 中写伪元素的新语法； <code>:after</code> 是 <code>CSS1</code> 中存在的、兼容IE的老语法</li>
</ul>
<h3 id="如何修改Chrome记住密码后自动填充表单的黄色背景"><a href="#如何修改Chrome记住密码后自动填充表单的黄色背景" class="headerlink" title="如何修改Chrome记住密码后自动填充表单的黄色背景"></a>如何修改Chrome记住密码后自动填充表单的黄色背景</h3><ul>
<li>产生原因：由于Chrome默认会给自动填充的input表单加上 <code>input:-webkit-autofill</code> 私有属性造成的</li>
<li>解决方案1：在form标签上直接关闭了表单的自动填充：<code>autocomplete=&quot;off&quot;</code></li>
<li>解决方案2：<code>input:-webkit-autofill &#123; background-color: transparent; &#125;</code></li>
</ul>
<p><strong>input [type=search] 搜索框右侧小图标如何美化？</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">input[type="search"]::-webkit-search-cancel-button</span><span class="token punctuation">&#123;</span>
  <span class="token property">-webkit-appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"images/searchicon.png"</span><span class="token punctuation">)</span></span> no-repeat 0 0<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> 15px 15px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="网站图片文件，如何点击下载？而非点击预览"><a href="#网站图片文件，如何点击下载？而非点击预览" class="headerlink" title="网站图片文件，如何点击下载？而非点击预览"></a>网站图片文件，如何点击下载？而非点击预览</h3><p><code>&lt;a href=&quot;logo.jpg&quot; download&gt;下载&lt;/a&gt;</code> <code>&lt;a href=&quot;logo.jpg&quot; download=&quot;网站LOGO&quot; &gt;下载&lt;/a&gt;</code></p>
<h3 id="你对-line-height-是如何理解的"><a href="#你对-line-height-是如何理解的" class="headerlink" title="你对 line-height 是如何理解的"></a>你对 line-height 是如何理解的</h3><ul>
<li><code>line-height</code> 指一行字的高度，包含了字间距，实际上是下一行基线到上一行基线距离</li>
<li>如果一个标签没有定义 <code>height</code> 属性，那么其最终表现的高度是由 <code>line-height</code> 决定的</li>
<li>一个容器没有设置高度，那么撑开容器高度的是 <code>line-height</code> 而不是容器内的文字内容</li>
<li>把 <code>line-height</code> 值设置为 <code>height</code> 一样大小的值可以实现单行文字的垂直居中</li>
<li><code>line-height</code> 和 <code>height</code> 都能撑开一个高度，<code>height</code> 会触发 <code>haslayout</code>，而 <code>line-height</code> 不会</li>
</ul>
<h3 id="line-height-三种赋值方式有何区别？（带单位、纯数字、百分比）"><a href="#line-height-三种赋值方式有何区别？（带单位、纯数字、百分比）" class="headerlink" title="line-height 三种赋值方式有何区别？（带单位、纯数字、百分比）"></a>line-height 三种赋值方式有何区别？（带单位、纯数字、百分比）</h3><ul>
<li>带单位：<code>px</code> 是固定值，而 <code>em</code> 会参考父元素 <code>font-size</code> 值计算自身的行高</li>
<li>纯数字：会把比例传递给后代。例如，父级行高为 <code>1.5</code>，子元素字体为 <code>18px</code>，则子元素行高为 <code>1.5 * 18 = 27px</code></li>
<li>百分比：将计算后的值传递给后代</li>
</ul>
<h3 id="设置元素浮动后，该元素的-display-值会如何变化"><a href="#设置元素浮动后，该元素的-display-值会如何变化" class="headerlink" title="设置元素浮动后，该元素的 display 值会如何变化"></a>设置元素浮动后，该元素的 display 值会如何变化</h3><blockquote>
<p>设置元素浮动后，该元素的 <code>display</code> 值自动变成 <code>block</code></p>
</blockquote>
<h3 id="让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）"><a href="#让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）" class="headerlink" title="让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）"></a>让页面里的字体变清晰，变细用CSS怎么做？（IOS手机浏览器字体齿轮设置）</h3><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="font-style-属性-oblique-是什么意思"><a href="#font-style-属性-oblique-是什么意思" class="headerlink" title="font-style 属性 oblique 是什么意思"></a>font-style 属性 oblique 是什么意思</h3><blockquote>
<p><code>font-style: oblique;</code> 使没有 <code>italic</code> 属性的文字实现倾斜</p>
</blockquote>
<h3 id="display-inline-block-什么时候会显示间隙"><a href="#display-inline-block-什么时候会显示间隙" class="headerlink" title="display:inline-block 什么时候会显示间隙"></a>display:inline-block 什么时候会显示间隙</h3><ul>
<li>相邻的 <code>inline-block</code> 元素之间有换行或空格分隔的情况下会产生间距</li>
<li>非 <code>inline-block</code> 水平元素设置为 <code>inline-block</code> 也会有水平间距</li>
<li>可以借助 <code>vertical-align:top;</code> 消除垂直间隙</li>
<li>可以在父级加 <code>font-size：0;</code> 在子元素里设置需要的字体大小，消除垂直间隙</li>
<li>把 <code>li</code> 标签写到同一行可以消除垂直间隙，但代码可读性差</li>
</ul>
<h3 id="一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度"><a href="#一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度" class="headerlink" title="一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度"></a>一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度</h3><ul>
<li>方案1：<ul>
<li><code>.sub &#123; height: calc(100%-100px); &#125;</code></li>
</ul>
</li>
<li>方案2：<ul>
<li><code>.container &#123; position:relative; &#125;</code></li>
<li><code>.sub &#123; position: absolute; top: 100px; bottom: 0; &#125;</code></li>
</ul>
</li>
<li>方案3：<ul>
<li><code>.container &#123; display:flex; flex-direction:column; &#125;</code></li>
<li><code>.sub &#123; flex:1; &#125;</code></li>
</ul>
</li>
</ul>
<h3 id="iOS-safari-如何阻止“橡皮筋效果”"><a href="#iOS-safari-如何阻止“橡皮筋效果”" class="headerlink" title="iOS safari 如何阻止“橡皮筋效果”"></a>iOS safari 如何阻止“橡皮筋效果”</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">stopScrolling</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span> stopScrolling<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchmove'</span><span class="token punctuation">,</span> stopScrolling<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="❤this指向"><a href="#❤this指向" class="headerlink" title="❤this指向"></a>❤this指向</h3><p><strong>1. this 指向有哪几种</strong></p>
<ul>
<li>默认绑定：全局环境中，<code>this</code>默认绑定到<code>window</code></li>
<li>隐式绑定：一般地，被直接对象所包含的函数调用时，也称为方法调用，<code>this</code>隐式绑定到该直接对象</li>
<li>隐式丢失：隐式丢失是指被隐式绑定的函数丢失绑定对象，从而默认绑定到<code>window</code>。显式绑定：通过<code>call()</code>、<code>apply()</code>、<code>bind()</code>方法把对象绑定到<code>this</code>上，叫做显式绑定</li>
<li><code>new</code>绑定：如果函数或者方法调用之前带有关键字<code>new</code>，它就构成构造函数调用。对于<code>this</code>绑定来说，称为<code>new</code>绑定<ul>
<li>构造函数通常不使用<code>return</code>关键字，它们通常初始化新对象，当构造函数的函数体执行完毕时，它会显式返回。在这种情况下，构造函数调用表达式的计算结果就是这个新对象的值</li>
<li>如果构造函数使用<code>return</code>语句但没有指定返回值，或者返回一个原始值，那么这时将忽略返回值，同时使用这个新对象作为调用结果</li>
<li>如果构造函数显式地使用<code>return</code>语句返回一个对象，那么调用表达式的值就是这个对象</li>
</ul>
</li>
</ul>
<p><strong>2. 改变函数内部 this 指针的指向函数（bind，apply，call的区别）</strong></p>
<ul>
<li><code>apply</code>：调用一个对象的一个方法，用另一个对象替换当前对象。例如：<code>B.apply(A, arguments)</code>;即A对象应用B对象的方法</li>
<li><code>call</code>：调用一个对象的一个方法，用另一个对象替换当前对象。例如：<code>B.call(A, args1,args2)</code>;即A对象调用B对象的方法</li>
<li><code>bind</code>除了返回是函数以外，它的参数和<code>call</code>一样</li>
</ul>
<p><strong>3. 箭头函数</strong></p>
<ul>
<li>箭头函数没有<code>this</code>，所以需要通过查找作用域链来确定<code>this</code>的值，这就意味着如果箭头函数被非箭头函数包含，<code>this</code>绑定的就是最近一层非箭头函数的<code>this</code>，</li>
<li>箭头函数没有自己的<code>arguments</code>对象，但是可以访问外围函数的<code>arguments</code>对象</li>
<li>不能通过<code>new</code>关键字调用，同样也没有<code>new.target</code>值和原型</li>
</ul>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 全局执行上下文、函数执行上下文、this严格模式下undefined、非严格模式window、构造函数新对象本身、普通函数不继承this、箭头函数无this，可继承</li>
<li><strong>标准回答</strong><ul>
<li><strong>this关键字</strong>由来：在对象内部的方法中使用对象内部的属性是一个非常普遍的需求。但是 JavaScript 的作用域机制并不支持这一点，基于这个需求，JavaScript 又搞出来另外一套 this 机制。</li>
<li><strong>this存在的场景</strong>有三种 <strong>全局执行上下文</strong> 和 <strong>函数执行上下文</strong> 和 <strong>eval执行上下文</strong>，eval这种不讨论。<ul>
<li>在全局执行环境中无论是否在严格模式下，（在任何函数体外部）<code>this</code> 都指向全局对象。</li>
<li>在函数执行上下文中访问this，函数的调用方式决定了 <code>this</code> 的值。在全局环境中调用一个函数，函数内部的 this 指向的是全局变量 window，通过一个对象来调用其内部的一个方法，该方法的执行上下文中的 this 指向对象本身。</li>
<li>普通函数this指向：当函数被正常调用时，在严格模式下，this 值是 undefined，非严格模式下 this 指向的是全局对象 window；通过一个对象来调用其内部的一个方法，该方法的执行上下文中的 this 指向对象本身。</li>
<li>new 关键字构建好了一个新对象，并且构造函数中的 this 其实就是新对象本身。嵌套函数中的 this 不会继承外层函数的 this 值。</li>
<li> 箭头函数this指向：箭头函数并不会创建其自身的执行上下文，所以箭头函数中的 this 取决于它的外部函数。</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>箭头函数因为没有this，所以也不能作为构造函数，但是需要继承函数外部this的时候，使用箭头函数比较方便</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> myObj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name <span class="token operator">:</span> <span class="token string">"闷倒驴"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">showThis</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// myObj</span>
        <span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"王美丽"</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token comment">// myObj</span>
    	<span class="token punctuation">&#125;</span>
    	<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
myObj<span class="token punctuation">.</span><span class="token function">showThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// "王美丽"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤This"><a href="#❤This" class="headerlink" title="❤This"></a>❤This</h3><p><code>new</code> 的方式优先级最高，接下来是 <code>bind</code> 这些函数，然后是 <code>obj.foo()</code> 这种调用方式，最后是 <code>foo</code> 这种调用方式，同时，箭头函数的 <code>this</code> 一旦被绑定，就不会再被任何方式所改变。</p>
<p><img data-src="https://s.poetries.work/gitee/2020/07/2.png" alt="image.png"></p>
<p>由于 JS 的设计原理: 在函数中，可以引用运行环境中的变量。因此就需要一个机制来让我们可以在函数体内部获取当前的运行环境，这便是<code>this</code></p>
<p>但这种机制并不完全能满足我们的业务需求，因此提供了三种方式可以手动修改 <code>this</code> 的指向:</p>
<ul>
<li><code>call: fn.call(target, 1, 2)</code></li>
<li><code>apply: fn.apply(target, [1, 2])</code></li>
<li><code>bind: fn.bind(target)(1,2)</code></li>
</ul>
<h3 id="❤call-apply-bind的作用和区别？"><a href="#❤call-apply-bind的作用和区别？" class="headerlink" title="❤call apply bind的作用和区别？"></a>❤call apply bind的作用和区别？</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> bind改变this指向不直接调用、call和apply改变this指向直接调用、apply接收第二个参数为数组 、call用于对象的继承 、伪数组转换成真数组、apply用于找出数组中的最大值和最小值以及数组合并、bind用于vue或者react框架中改变函数的this指向</li>
<li><strong>标准回答</strong><ul>
<li>call、apply、bind的作用都是改变函数运行时的this指向。 bind和call、apply在使用上有所不同，bind在改变this指向的时候，返回一个改变执行上下文的函数，不会立即执行函数，而是需要调用该函数的时候再调用即可，但是call和apply在改变this指向的同时执行了该函数。</li>
<li>bind只接收一个参数，就是this指向的执行上文。 call、apply接收多个参数，第一个参数都是this指向的执行上文，后面的参数都是作为改变this指向的函数的参数。但是call和apply参数的格式不同，call是一个参数对应一个原函数的参数，但是apply第二个参数是数组，数组中每个元素代表函数接收的参数，数组有几个元素函数就接收几个元素。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li><strong>call的应用场景：</strong> 对象的继承，在子构造函数这种调用父构造函数，但是改变this指向，就可以继承父的属性</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'java'</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'script'</span><span class="token punctuation">,</span>
  length<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token string">'jack'</span><span class="token punctuation">,</span> <span class="token string">'lily'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'object'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#123;0: "java", 1: "script", 2: "jack", 3: "lily", length: 4&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><strong>apply的应用场景：</strong></li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 获取数组中最大、最小的一项</span>
<span class="token keyword">let</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 实现两个数组合并</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [1, 2, 3, 4, 5, 6]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><strong>bind的应用场景</strong> 在vue或者react框架中，使用bind将定义的方法中的this指向当前类</li>
</ul>
<p><img data-src="https://s.poetries.work/images/20210414155100.png" alt="img"></p>
<blockquote>
<p><code>call、apply</code> 和 <code>bind</code> 是挂在 <code>Function</code> 对象上的三个方法，调用这三个方法的必须是一个函数。</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>
<span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> <span class="token punctuation">[</span>param1<span class="token punctuation">,</span>param2<span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">func</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li>在浏览器里，在全局范围内this 指向window对象；</li>
<li>在函数中，this永远指向最后调用他的那个对象；</li>
<li>构造函数中，this指向new出来的那个新的对象；</li>
<li><code>call、apply、bind</code>中的this被强绑定在指定的那个对象上；</li>
<li>箭头函数中this比较特殊,箭头函数this为父作用域的this，不是调用时的this.要知道前四种方式,都是调用时确定,也就是动态的,而箭头函数的this指向是静态的,声明的时候就确定了下来；</li>
<li><code>apply、call、bind</code>都是js给函数内置的一些API，调用他们可以为函数指定this的执行,同时也可以传参。</li>
</ul>
<h3 id="❤变量提升"><a href="#❤变量提升" class="headerlink" title="❤变量提升"></a>❤变量提升</h3><blockquote>
<p>当执行 JS 代码时，会生成执行环境，只要代码不是写在函数中的，就是在全局执行环境中，函数中的代码会产生函数执行环境，只此两种执行环境</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// call b</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// undefined</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'Hello world'</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'call b'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>这是因为函数和变量提升的原因。通常提升的解释是说将声明的代码移动到了顶部，这其实没有什么错误，便于大家理解。但是更准确的解释应该是：在生成执行环境时，会有两个阶段。第一个阶段是创建的阶段，JS 解释器会找出需要提升的变量和函数，并且给他们提前在内存中开辟好空间，函数的话会将整个函数存入内存中，变量只声明并且赋值为 <code>undefined</code>，所以在第二个阶段，也就是代码执行阶段，我们可以直接提前使用</p>
</blockquote>
<ul>
<li>在提升的过程中，相同的函数会覆盖上一个函数，并且函数优先于变量提升</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// call b second</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'call b fist'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'call b second'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">'Hello world'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p><code>var</code> 会产生很多错误，所以在 <code>ES6</code>中引入了 <code>let</code>。<code>let</code> 不能在声明前使用，但是这并不是常说的 <code>let</code> 不会提升，<code>let</code> 提升了，在第一阶段内存也已经为他开辟好了空间，但是因为这个声明的特性导致了并不能在声明前使用</p>
</blockquote>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> Var声明的变量声明提升、函数声明提升、let和const变量不提升</li>
<li><strong>标准回答</strong><ul>
<li><strong>变量提升</strong>是指JS的变量和函数声明会在代码编译期，提升到代码的最前面。</li>
<li>变量提升成立的前提是使用<strong>Var关键字</strong>进行声明的变量，并且变量提升的时候只有声明被提升，赋值并不会被提升，同时函数的声明提升会比变量的提升优先。</li>
<li>变量提升的结果，可以在变量初始化之前访问该变量，返回的是<strong>undefined</strong>。在函数声明前可以调用该函数。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>使用let和const声明的变量是创建提升，形成暂时性死区，在初始化之前访问let和const创建的变量会报错。</li>
</ul>
</li>
</ul>
<h3 id="❤作用域"><a href="#❤作用域" class="headerlink" title="❤作用域"></a>❤作用域</h3><ul>
<li>作用域： 作用域是定义变量的区域，它有一套访问变量的规则，这套规则来管理浏览器引擎如何在当前作用域以及嵌套的作用域中根据变量（标识符）进行变量查找</li>
<li>作用域链： 作用域链的作用是保证对执行环境有权访问的所有变量和函数的有序访问，通过作用域链，我们可以访问到外层环境的变量和 函数。</li>
</ul>
<blockquote>
<p>作用域链的本质上是一个指向变量对象的指针列表。变量对象是一个包含了执行环境中所有变量和函数的对象。作用域链的前 端始终都是当前执行上下文的变量对象。全局执行上下文的变量对象（也就是全局对象）始终是作用域链的最后一个对象。</p>
</blockquote>
<ul>
<li>当我们查找一个变量时，如果当前执行环境中没有找到，我们可以沿着作用域链向后查找</li>
<li>作用域链的创建过程跟执行上下文的建立有关….</li>
</ul>
<blockquote>
<p>作用域可以理解为变量的可访问性，总共分为三种类型，分别为：</p>
</blockquote>
<ul>
<li>全局作用域</li>
<li>函数作用域</li>
<li>块级作用域，ES6 中的 <code>let</code>、<code>const</code> 就可以产生该作用域</li>
</ul>
<p>其实看完前面的闭包、<code>this</code> 这部分内部的话，应该基本能了解作用域的一些应用。</p>
<p>一旦我们将这些作用域嵌套起来，就变成了另外一个重要的知识点「作用域链」，也就是 JS 到底是如何访问需要的变量或者函数的。</p>
<ul>
<li>首先作用域链是在定义时就被确定下来的，和箭头函数里的 this 一样，后续不会改变，JS 会一层层往上寻找需要的内容。</li>
<li>其实作用域链这个东西我们在闭包小结中已经看到过它的实体了：<code>[[Scopes]]</code></li>
</ul>
<p>图中的 <code>[[Scopes]]</code> 是个数组，作用域的一层层往上寻找就等同于遍历 <code>[[Scopes]]</code>。</p>
<h3 id="❤闭包"><a href="#❤闭包" class="headerlink" title="❤闭包"></a>❤闭包</h3><blockquote>
<p> 闭包其实就是一个可以访问其他函数内部变量的函数。创建闭包的最常见的方式就是在一个函数内创建另一个函数，创建的函数可以 访问到当前函数的局部变量。</p>
</blockquote>
<p><strong>闭包产生的本质就是：当前环境中存在指向父级作用域的引用</strong></p>
<p><strong>闭包有两个常用的用途</strong></p>
<ul>
<li>闭包的第一个用途是使我们在函数外部能够访问到函数内部的变量。通过使用闭包，我们可以通过在外部调用闭包函数，从而在外部访问到函数内部的变量，可以使用这种方法来创建私有变量。</li>
<li>函数的另一个用途是使已经运行结束的函数上下文中的变量对象继续留在内存中，因为闭包函数保留了这个变量对象的引用，所以这个变量对象不会被回收。</li>
</ul>
<blockquote>
<p>其实闭包的本质就是作用域链的一个特殊的应用，只要了解了作用域链的创建过程，就能够理解闭包的实现原理。</p>
</blockquote>
<ul>
<li>闭包的特性：<ul>
<li>函数内再嵌套函数</li>
<li>内部函数可以引用外层的参数和变量</li>
<li>参数和变量不会被垃圾回收机制回收</li>
</ul>
</li>
</ul>
<p><strong>说说你对闭包的理解</strong></p>
<ul>
<li>使用闭包主要是为了设计私有的方法和变量。<ul>
<li>闭包的<strong>优点</strong>是可以避免全局变量的污染，</li>
<li><strong>缺点</strong>是闭包会常驻内存，会增大内存使用量，使用不当很容易造成内存泄露。在js中，函数即闭包，只有函数才会产生作用域的概念</li>
</ul>
</li>
<li>闭包 的最大用处有两个，一个是可以读取函数内部的变量，另一个就是让这些变量始终保持在内存中</li>
<li>闭包的另一个用处，是封装对象的私有属性和私有方法</li>
<li><strong>好处</strong>：能够实现封装和缓存等；</li>
<li><strong>坏处</strong>：就是消耗内存、不正当使用会造成内存溢出的问题</li>
</ul>
<p><strong>使用闭包的注意点</strong></p>
<ul>
<li>由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露</li>
<li>解决方法是，在退出函数之前，将不使用的局部变量全部删除</li>
</ul>
<ul>
<li><strong>得分点：</strong>变量背包、作用域链、局部变量不销毁、函数体外访问函数的内部变量、内存泄漏、内存溢出、形成块级作用域、柯里化、构造函数中定义特权方法、Vue中数据响应式Observer</li>
<li><strong>标准回答：</strong>闭包 一个函数和词法环境的引用捆绑在一起，这样的组合就是闭包（closure）。<ul>
<li>一般就是一个函数A，return其内部的函数B，被return出去的B函数能够在外部访问A函数内部的变量，这时候就形成了一个B函数的变量背包，A函数执行结束后这个变量背包也不会被销毁，并且这个变量背包在A函数外部只能通过B函数访问。</li>
<li><strong>形成的原理</strong>：作用域链，当前作用域可以访问上级作用域中的变量</li>
<li><strong>解决的问题</strong>：能够让函数作用域中的变量在函数执行结束之后不被销毁，同时也能在函数外部可以访问函数内部的局部变量。</li>
<li><strong>带来的问题</strong>：由于垃圾回收器不会将闭包中变量销毁，于是就造成了内存泄露，内存泄露积累多了就容易导致内存溢出。</li>
</ul>
</li>
<li><strong>加分回答：</strong><ul>
<li>闭包的应用，能够模仿块级作用域，能够实现柯里化，在构造函数中定义特权方法、Vue中数据响应式Observer中使用闭包等。</li>
</ul>
</li>
</ul>
<h3 id="❤New的原理"><a href="#❤New的原理" class="headerlink" title="❤New的原理"></a>❤New的原理</h3><ul>
<li><p><strong>得分点</strong> 创建空对象、为对象添加属性、把新对象当作this的上下文、箭头函数不能作为构造函数</p>
</li>
<li><p><strong>标准回答</strong></p>
</li>
<li><p><code>new</code> 操作符可以帮助我们构建出一个实例，并且绑定上 this，内部执行步骤可大概分为以下几步：</p>
<ol>
<li>创建一个新对象</li>
<li>对象连接到构造函数原型上，并绑定 <code>this</code>（this 指向新对象）</li>
<li>执行构造函数代码（为这个新对象添加属性）</li>
<li>返回新对象</li>
</ol>
<p>在第四步返回新对象这边有一个情况会例外：</p>
<blockquote>
<p>那么问题来了，如果不用 <code>new</code> 这个关键词，结合上面的代码改造一下，去掉 <code>new</code>，会发生什么样的变化呢？我们再来看下面这段代码</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Jack'</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// Jack</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 'name' of undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>从上面的代码中可以看到，我们没有使用 <code>new</code> 这个关键词，返回的结果就是 <code>undefined</code>。其中由于 <code>JavaScript</code> 代码在默认情况下 <code>this</code> 的指向是 <code>window</code>，那么 <code>name</code> 的输出结果就为 <code>Jack</code>，这是一种不存在 <code>new</code> 关键词的情况。</p>
<p>那么当构造函数中有 <code>return</code> 一个对象的操作，结果又会是什么样子呢？我们再来看一段在上面的基础上改造过的代码。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Jack'</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>  <span class="token comment">// &#123;age: 18&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 18</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>通过这段代码又可以看出，当构造函数最后 <code>return</code> 出来的是一个和 <code>this</code> 无关的对象时，<code>new 命令会直接返回这个新对象</code>，<code>而不是通过 new 执行步骤生成的 this 对象</code></p>
</blockquote>
<p>但是这里要求构造函数必须是返回一个对象，<code>如果返回的不是对象，那么还是会按照 new 的实现步骤，返回新生成的对象</code>。接下来还是在上面这段代码的基础之上稍微改动一下</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Jack'</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token string">'tom'</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>  <span class="token comment">// &#123;name: 'Jack'&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Jack</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>可以看出，当构造函数中 <code>return</code> 的不是一个对象时，那么它还是会根据 <code>new</code> 关键词的执行逻辑，生成一个新的对象（绑定了最新 <code>this</code>），最后返回出来</p>
<blockquote>
<p>因此我们总结一下：<code>new 关键词执行之后总是会返回一个对象，要么是实例对象，要么是 return 语句指定的对象</code></p>
</blockquote>
</li>
<li><p><strong>加分回答</strong></p>
<ul>
<li><code>new</code>关键字后面的构造函数不能是箭头函数。</li>
</ul>
</li>
</ul>
<h3 id="❤原型，原型链"><a href="#❤原型，原型链" class="headerlink" title="❤原型，原型链"></a>❤原型，原型链</h3><p><strong><code>__proto__</code>和prototype关系</strong>：<code>__proto__</code>和<code>constructor</code>是<strong>对象</strong>独有的。<code>prototype</code>属性是<strong>函数</strong>独有的</p>
<p>当我们访问一个对象的属性时，如果这个对象内部不存在这个属性，那么它就会去它的原型对象里找这个属性，这个原型对象又会有自己的原型，于是就这样一直找下去，也就是原型链的概念。原型链的尽头一般来说都是 <code>Object.prototype</code> 所以这就是我们新建的对象为什么能够使用 <code>toString()</code> 等方法的原因。</p>
<blockquote>
<p>特点：JavaScript 对象是通过引用来传递的，我们创建的每个新对象实体中并没有一份属于自己的原型副本。当我们修改原型时，与 之相关的对象也会继承这一改变</p>
</blockquote>
<ul>
<li>原型(<code>prototype</code>): 一个简单的对象，用于实现对象的 属性继承。可以简单的理解成对象的爹。在 <code>Firefox</code> 和 <code>Chrome</code> 中，每个<code>JavaScript</code>对象中都包含一个<code>__proto__</code>(非标准)的属性指向它爹(该对象的原型)，可<code>obj.__proto__</code>进行访问。</li>
<li>构造函数: 可以通过<code>new</code>来 新建一个对象 的函数。</li>
<li>实例: 通过构造函数和<code>new</code>创建出来的对象，便是实例。 实例通过<code>__proto__</code>指向原型，通过<code>constructor</code>指向构造函数。</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 实例</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 原型</span>
<span class="token keyword">const</span> prototype <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>这里我们可以来看出三者的关系:</strong></p>
<ul>
<li><code>实例.__proto__ === 原型</code></li>
<li><code>原型.constructor === 构造函数</code></li>
<li><code>构造函数.prototype === 原型</code></li>
</ul>
<p><img data-src="https://s.poetries.work/gitee/2020/09/112.png" alt="img"></p>
<p><strong>总结：</strong></p>
<p><img data-src="https://s.poetries.work/gitee/2020/09/105.png" alt="img"></p>
<ul>
<li>每个函数都有 <code>prototype</code> 属性，除了 <code>Function.prototype.bind()</code>，该属性指向原型。</li>
<li>每个对象都有 <code>__proto__</code> 属性，指向了创建该对象的构造函数的原型。其实这个属性指向了 <code>[[prototype]]</code>，但是 <code>[[prototype]]</code>是内部属性，我们并不能访问到，所以使用 <code>_proto_</code>来访问。</li>
<li>对象可以通过 <code>__proto__</code> 来寻找不属于该对象的属性，<code>__proto__</code> 将对象连接起来组成了原型链。</li>
</ul>
<h3 id="❤继承"><a href="#❤继承" class="headerlink" title="❤继承"></a>❤继承</h3><p><img data-src="https://s.poetries.work/images/20210414142754.png" alt="img"></p>
<blockquote>
<p>涉及面试题：原型如何实现继承？<code>Class</code> 如何实现继承？<code>Class</code> 本质是什么？</p>
</blockquote>
<p>首先先来讲下 <code>class</code>，其实在 <code>JS</code>中并不存在类，<code>class</code> 只是语法糖，本质还是函数</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
Person <span class="token keyword">instanceof</span> <span class="token class-name">Function</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>组合继承</strong></p>
<blockquote>
<p>组合继承是最常用的继承方式</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> value
<span class="token punctuation">&#125;</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getValue</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

child<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
child <span class="token keyword">instanceof</span> <span class="token class-name">Parent</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>以上继承的方式核心是在子类的构造函数中通过 <code>Parent.call(this)</code> 继承父类的属性，然后改变子类的原型为 <code>new Parent()</code> 来继承父类的函数。</li>
<li>这种继承方式<strong>优点</strong>在于构造函数可以传参，不会与父类引用属性共享，可以复用父类的函数，但是也存在一个<strong>缺点</strong>就是在继承父类函数的时候调用了父类构造函数，导致子类的原型上多了不需要的父类属性，存在内存上的浪费</li>
</ul>
<p>-</p>
<ul>
<li>构造继承</li>
<li>原型继承</li>
<li>实例继承</li>
<li>拷贝继承</li>
<li>原型<code>prototype</code>机制或<code>apply</code>和<code>call</code>方法去实现较简单，建议使用构造函数与原型混合方式</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'wang'</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//继承了Parent，通过原型</span>

<span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//得到被继承的属性</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="❤基本数据类型和引用数据类型"><a href="#❤基本数据类型和引用数据类型" class="headerlink" title="❤基本数据类型和引用数据类型"></a>❤基本数据类型和引用数据类型</h3><ul>
<li><p>基本数据类型，也叫简单数据类型，包含7种类型：<code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>BigInt</code>、<code>Symbol</code>、<code>Null</code>、<code>Undefined</code></p>
</li>
<li><p>引用数据类型，也叫复杂数据类型：<code>Object</code>、(包括<code>array</code>、<code>function</code>)</p>
</li>
<li><p>数据分成两大类的本质区别：基本数据类型和引用数据类型它们在内存中的存储方式不同。</p>
<ul>
<li>基本数据类型是直接存储在<strong>栈</strong>中的简单数据段，占据空间小，属于被频繁使用的数据。</li>
<li>引用数据类型是存储在<strong>堆内存</strong>中，占据空间大。引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址，当解释器寻找引用值时，会检索其在栈中的地址，取得地址后从堆中获得实体。</li>
</ul>
</li>
</ul>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vaW50ZXJ2aWV3L2RldGFpbD9xdWVzdGlvbkNsYXNzaWZ5SWQ9MCZxdWVzdGlvbklkPTI0MTIzMzgmcXVlc3Rpb25Kb2JJZD0xNTYmdHlwZT0x">加分回答<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="❤JavaScript有几种方法判断变量的类型？"><a href="#❤JavaScript有几种方法判断变量的类型？" class="headerlink" title="❤JavaScript有几种方法判断变量的类型？"></a>❤JavaScript有几种方法判断变量的类型？</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点：</strong> typeof、instanceof、Object.prototype.toString.call()（对象原型链判断方法）、 constructor (用于引用数据类型)</li>
<li><strong>标准回答：</strong> JavaScript有4种方法判断变量的类型，分别是typeof、instanceof、Object.prototype.toString.call()（对象原型链判断方法）、 constructor (用于引用数据类型)<ul>
<li><strong>typeof：</strong>常用于判断基本数据类型，对于引用数据类型除了<code>function</code>返回<code>’function‘</code>，其余全部返回<code>’object&#39;</code>。</li>
<li><strong>instanceof：</strong>主要用于区分引用数据类型，检测方法是检测的类型在当前实例的原型链上，用其检测出来的结果都是true，不太适合用于简单数据类型的检测，检测过程繁琐且对于简单数据类型中的undefined, null, symbol检测不出来。</li>
<li><strong>constructor：</strong>用于检测引用数据类型，检测方法是获取实例的构造函数判断和某个类是否相同，如果相同就说明该数据是符合那个数据类型的，这种方法不会把原型链上的其他类也加入进来，避免了原型链的干扰。</li>
<li><strong>Object.prototype.toString.call()：</strong>适用于所有类型的判断检测，检测方法是Object.prototype.toString.call(数据) 返回的是该数据类型的字符串。 这四种判断数据类型的方法中，各种数据类型都能检测且检测精准的就是Object.prototype.toString.call()这种方法。</li>
</ul>
</li>
<li><strong>加分回答：</strong><ul>
<li>instanceof的实现原理：验证当前类的原型prototype是否会出现在实例的原型链__proto__上，只要在它的原型链上，则结果都为true。因此，<code>instanceof</code> 在查找的过程中会遍历左边变量的原型链，直到找到右边变量的 <code>prototype</code>，找到返回true，未找到返回false。</li>
<li>Object.prototype.toString.call()原理：Object.prototype.toString 表示一个返回对象类型的字符串，call()方法可以改变this的指向，那么把Object.prototype.toString()方法指向不同的数据类型上面，返回不同的结果</li>
</ul>
</li>
</ul>
<h3 id="请解释什么是事件代理"><a href="#请解释什么是事件代理" class="headerlink" title="请解释什么是事件代理"></a>请解释什么是事件代理</h3><ul>
<li>事件代理（<code>Event Delegation</code>），又称之为事件委托。是 <code>JavaScript</code> 中常用绑定事件的常用技巧。顾名思义，“事件代理”即是把原本需要绑定的事件委托给父元素，让父元素担当事件监听的职务。事件代理的原理是DOM元素的事件冒泡。使用事件代理的好处是可以提高性能</li>
<li>可以大量节省内存占用，减少事件注册，比如在<code>table</code>上代理所有<code>td</code>的<code>click</code>事件就非常棒</li>
<li>可以实现当新增子对象时无需再次对其绑定</li>
</ul>
<h3 id="事件模型"><a href="#事件模型" class="headerlink" title="事件模型"></a>事件模型</h3><blockquote>
<p><code>W3C</code>中定义事件的发生经历三个阶段：捕获阶段（<code>capturing</code>）、目标阶段（<code>targetin</code>）、冒泡阶段（<code>bubbling</code>）</p>
</blockquote>
<ul>
<li>冒泡型事件：当你使用事件冒泡时，子级元素先触发，父级元素后触发</li>
<li>捕获型事件：当你使用事件捕获时，父级元素先触发，子级元素后触发</li>
<li><code>DOM</code>事件流：同时支持两种事件模型：捕获型事件和冒泡型事件</li>
<li>阻止冒泡：在<code>W3c</code>中，使用<code>stopPropagation()</code>方法；在IE下设置<code>cancelBubble = true</code></li>
<li>阻止捕获：阻止事件的默认行为，例如<code>click - &lt;a&gt;</code>后的跳转。在<code>W3c</code>中，使用<code>preventDefault()</code>方法，在<code>IE</code>下设置<code>window.event.returnValue = false</code></li>
</ul>
<h3 id="❤伪数组和数组的区别"><a href="#❤伪数组和数组的区别" class="headerlink" title="❤伪数组和数组的区别"></a>❤伪数组和数组的区别</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 类型是object、不能使用数组方法、可以获取长度、可以使用for in遍历</li>
<li><strong>标准回答</strong> 伪数组它的类型不是Array，而是Object，而数组类型是Array。可以使用的length属性查看长度，也可以使用[index]获取某个元素，但是不能使用数组的其他方法，也不能改变长度，遍历使用<code>for in</code>方法。<ul>
<li>伪数组的常见场景：<ul>
<li>函数的参数<code>arguments </code></li>
<li>原生js获取DOM：<code>document.querySelector(&#39;div&#39;) </code>等</li>
<li>jquery获取DOM：<code>$(“div”)</code>等</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>伪数组转换成真数组方法</li>
<li><code>Array.prototype.slice.call(伪数组) </code></li>
<li><code>[].slice.call(伪数组) </code></li>
<li><code>Array.from(伪数组) </code>转换后的数组长度由 <code>length</code> 属性决定。索引不连续时转换结果是连续的，会自动补位。</li>
</ul>
</li>
</ul>
<h3 id="❤Ajax原理"><a href="#❤Ajax原理" class="headerlink" title="❤Ajax原理"></a>❤Ajax原理</h3><ul>
<li><code>Ajax</code>的原理简单来说是在用户和服务器之间加了—个中间层(<code>AJAX</code>引擎)，通过<code>XmlHttpRequest</code>对象来向服务器发异步请求，从服务器获得数据，然后用<code>javascrip</code>t来操作<code>DOM</code>而更新页面。使用户操作与服务器响应异步化。这其中最关键的一步就是从服务器获得请求数据</li>
<li><code>Ajax</code>的过程只涉及<code>JavaScript</code>、<code>XMLHttpRequest</code>和<code>DOM</code>。<code>XMLHttpRequest</code>是<code>aja</code>x的核心机制</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** 1. 创建Ajax对象 **/</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">/** 2. 连接服务器 **/</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token string">'test.html'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token comment">/** 3. 发送请求 **/</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/** 4. 接受请求 **/</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// 请求的状态码</span>
        <span class="token comment">// 0:请求还没有建立（open执行前）</span>
        <span class="token comment">// 1：请求建立了还没发送（执行了open）</span>
        <span class="token comment">// 2：请求正式发送（执行了send）</span>
        <span class="token comment">// 3：请求已受理，有部分数据可以用，但还没有处理完成</span>
        <span class="token comment">// 4：请求完全处理完成</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token function">success</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
			<span class="token comment">/** false **/</span>
			fail <span class="token operator">&amp;&amp;</span> <span class="token function">fail</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>ajax 有那些优缺点?</strong></p>
<ul>
<li>优点：<ul>
<li>通过异步模式，提升了用户体验.</li>
<li>优化了浏览器和服务器之间的传输，减少不必要的数据往返，减少了带宽占用.</li>
<li><code>Ajax</code>在客户端运行，承担了一部分本来由服务器承担的工作，减少了大用户量下的服务器负载。</li>
<li><code>Ajax</code>可以实现动态不刷新（局部刷新）</li>
</ul>
</li>
<li>缺点：<ul>
<li>安全问题 <code>AJAX</code>暴露了与服务器交互的细节。</li>
<li>对搜索引擎的支持比较弱。</li>
<li>不容易调试。</li>
</ul>
</li>
</ul>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> new XMLHttpRequest()、设置请求参数open()、发送请求request.send()、响应request.onreadystatechange</li>
<li><strong>标准回答</strong> 创建ajax过程：<ol>
<li>创建XHR对象：new XMLHttpRequest()</li>
<li>设置请求参数：request.open(Method, 服务器接口地址);</li>
<li>发送请求: request.send()，如果是get请求不需要参数，post请求需要参数request.send(data)</li>
<li>监听请求成功后的状态变化：根据状态码进行相应的处理。</li>
</ol>
</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">XHR</span><span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">XHR</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">XHR</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">XHR</span><span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 主动释放,JS本身也会回收的</span>
        <span class="token constant">XHR</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><strong>加分回答</strong><ul>
<li>POST请求需要设置请求头 readyState值说明<ul>
<li>0：初始化,XHR对象已经创建,还未执行open</li>
<li>1：载入,已经调用open方法,但是还没发送请求</li>
<li>2：载入完成,请求已经发送完成</li>
<li>3：交互,可以接收到部分数据</li>
<li>4：数据全部返回 status值说明<ul>
<li>200：成功</li>
<li>404：没有发现文件、查询或URl</li>
<li>500：服务器产生内部错误</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="模块化开发怎么做？"><a href="#模块化开发怎么做？" class="headerlink" title="模块化开发怎么做？"></a>模块化开发怎么做？</h3><ul>
<li>立即执行函数,不暴露私有成员</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> module1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
　　　　<span class="token keyword">var</span> _count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
　　　　<span class="token keyword">var</span> <span class="token function-variable function">m1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
　　　　　　<span class="token comment">//...</span>
　　　　<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
　　　　<span class="token keyword">var</span> <span class="token function-variable function">m2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
　　　　　　<span class="token comment">//...</span>
　　　　<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
　　　　<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
　　　　　　m1 <span class="token operator">:</span> m1<span class="token punctuation">,</span>
　　　　　　m2 <span class="token operator">:</span> m2
　　　　<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="异步加载JS的方式有哪些？"><a href="#异步加载JS的方式有哪些？" class="headerlink" title="异步加载JS的方式有哪些？"></a>异步加载JS的方式有哪些？</h3><ul>
<li>设置<code>&lt;script&gt;</code>属性 async=”async” （一旦脚本可用，则会异步执行）</li>
<li>动态创建 <code>script DOM</code>：<code>document.createElement(&#39;script&#39;);</code></li>
<li><code>XmlHttpRequest</code> 脚本注入</li>
<li>异步加载库 <code>LABjs</code></li>
<li>模块加载器 <code>Sea.js</code></li>
</ul>
<h3 id="那些操作会造成内存泄漏？"><a href="#那些操作会造成内存泄漏？" class="headerlink" title="那些操作会造成内存泄漏？"></a>那些操作会造成内存泄漏？</h3><blockquote>
<p>JavaScript 内存泄露指对象在不需要使用它时仍然存在，导致占用的内存不能使用或回收</p>
</blockquote>
<ul>
<li>未使用 var 声明的全局变量</li>
<li>闭包函数(Closures)</li>
<li>循环引用(两个对象相互引用)</li>
<li>控制台日志(console.log)</li>
<li>移除存在绑定事件的DOM元素(IE)</li>
<li><code>setTimeout</code> 的第一个参数使用字符串而非函数的话，会引发内存泄漏</li>
<li>垃圾回收器定期扫描对象，并计算引用了每个对象的其他对象的数量。如果一个对象的引用数量为 0（没有其他对象引用过该对象），或对该对象的惟一引用是循环的，那么该对象的内存即可回收</li>
</ul>
<h3 id="XML和JSON的区别？"><a href="#XML和JSON的区别？" class="headerlink" title="XML和JSON的区别？"></a>XML和JSON的区别？</h3><ul>
<li>数据体积方面<ul>
<li><code>JSON</code>相对<code>于XML</code>来讲，数据的体积小，传递的速度更快些。</li>
</ul>
</li>
<li>数据交互方面<ul>
<li><code>JSON</code>与<code>JavaScript</code>的交互更加方便，更容易解析处理，更好的数据交互</li>
</ul>
</li>
<li>数据描述方面<ul>
<li><code>JSON</code>对数据的描述性比<code>XML</code>较差</li>
</ul>
</li>
<li>传输速度方面<ul>
<li><code>JSON</code>的速度要远远快于<code>XML</code></li>
</ul>
</li>
</ul>
<h3 id="谈谈你对webpack的看法"><a href="#谈谈你对webpack的看法" class="headerlink" title="谈谈你对webpack的看法"></a>谈谈你对webpack的看法</h3><ul>
<li><code>WebPack</code> 是一个模块打包工具，你可以使用<code>WebPack</code>管理你的模块依赖，并编绎输出模块们所需的静态文件。它能够很好地管理、打包<code>Web</code>开发中所用到的<code>HTML</code>、<code>Javascript</code>、<code>CSS</code>以及各种静态文件（图片、字体等），让开发过程更加高效。对于不同类型的资源，<code>webpack</code>有对应的模块加载器。<code>webpack</code>模块打包器会分析模块间的依赖关系，最后 生成了优化且合并后的静态资源</li>
</ul>
<h3 id="说说你对AMD和Commonjs的理解"><a href="#说说你对AMD和Commonjs的理解" class="headerlink" title="说说你对AMD和Commonjs的理解"></a>说说你对AMD和Commonjs的理解</h3><ul>
<li><code>CommonJS</code>是服务器端模块的规范，<code>Node.js</code>采用了这个规范。<code>CommonJS</code>规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。<code>AMD</code>规范则是非同步加载模块，允许指定回调函数</li>
<li><code>AMD</code>推荐的风格通过返回一个对象做为模块对象，<code>CommonJS</code>的风格通过对<code>module.exports</code>或<code>exports</code>的属性赋值来达到暴露模块对象的目的</li>
</ul>
<h3 id="常见web安全及防护原理"><a href="#常见web安全及防护原理" class="headerlink" title="常见web安全及防护原理"></a>常见web安全及防护原理</h3><ul>
<li><code>sql</code>注入原理<ul>
<li>就是通过把<code>SQL</code>命令插入到<code>Web</code>表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令</li>
</ul>
</li>
<li>总的来说有以下几点<ul>
<li>永远不要信任用户的输入，要对用户的输入进行校验，可以通过正则表达式，或限制长度，对单引号和双<code>&quot;-&quot;</code>进行转换等</li>
<li>永远不要使用动态拼装SQL，可以使用参数化的<code>SQL</code>或者直接使用存储过程进行数据查询存取</li>
<li>永远不要使用管理员权限的数据库连接，为每个应用使用单独的权限有限的数据库连接</li>
<li>不要把机密信息明文存放，请加密或者<code>hash</code>掉密码和敏感的信息</li>
</ul>
</li>
</ul>
<p><strong>XSS原理及防范</strong></p>
<ul>
<li><code>Xss(cross-site scripting)</code>攻击指的是攻击者往<code>Web</code>页面里插入恶意<code>html</code>标签或者<code>javascript</code>代码。比如：攻击者在论坛中放一个看似安全的链接，骗取用户点击后，窃取<code>cookie</code>中的用户私密信息；或者攻击者在论坛中加一个恶意表单，当用户提交表单的时候，却把信息传送到攻击者的服务器中，而不是用户原本以为的信任站点</li>
</ul>
<p><strong>XSS防范方法</strong></p>
<ul>
<li>首先代码里对用户输入的地方和变量都需要仔细检查长度和对<code>”&lt;”,”&gt;”,”;”,”’”</code>等字符做过滤；其次任何内容写到页面之前都必须加以encode，避免不小心把<code>html tag</code> 弄出来。这一个层面做好，至少可以堵住超过一半的XSS 攻击</li>
</ul>
<p><strong>XSS与CSRF有什么区别吗？</strong></p>
<ul>
<li><code>XSS</code>是获取信息，不需要提前知道其他用户页面的代码和数据包。<code>CSRF</code>是代替用户完成指定的动作，需要知道其他用户页面的代码和数据包。要完成一次<code>CSRF</code>攻击，受害者必须依次完成两个步骤</li>
<li>登录受信任网站<code>A</code>，并在本地生成<code>Cookie</code></li>
<li>在不登出<code>A</code>的情况下，访问危险网站<code>B</code></li>
</ul>
<p><strong>CSRF的防御</strong></p>
<ul>
<li>服务端的<code>CSRF</code>方式方法很多样，但总的思想都是一致的，就是在客户端页面增加伪随机数</li>
<li>通过验证码的方法</li>
</ul>
<h3 id="用过哪些设计模式？"><a href="#用过哪些设计模式？" class="headerlink" title="用过哪些设计模式？"></a>用过哪些设计模式？</h3><ul>
<li>工厂模式：<ul>
<li>工厂模式解决了重复实例化的问题，但还有一个问题,那就是识别问题，因为根本无法</li>
<li>主要好处就是可以消除对象间的耦合，通过使用工程方法而不是<code>new</code>关键字</li>
</ul>
</li>
<li>构造函数模式<ul>
<li>使用构造函数的方法，即解决了重复实例化的问题，又解决了对象识别的问题，该模式与工厂模式的不同之处在于</li>
<li>直接将属性和方法赋值给 <code>this</code>对象;</li>
</ul>
</li>
</ul>
<h3 id="offsetWidth-offsetHeight-clientWidth-clientHeight与scrollWidth-scrollHeight的区别"><a href="#offsetWidth-offsetHeight-clientWidth-clientHeight与scrollWidth-scrollHeight的区别" class="headerlink" title="offsetWidth/offsetHeight,clientWidth/clientHeight与scrollWidth/scrollHeight的区别"></a>offsetWidth/offsetHeight,clientWidth/clientHeight与scrollWidth/scrollHeight的区别</h3><ul>
<li><code>offsetWidth/offsetHeight</code>返回值包含<strong>content + padding + border</strong>，效果与e.getBoundingClientRect()相同</li>
<li><code>clientWidth/clientHeight</code>返回值只包含<strong>content + padding</strong>，如果有滚动条，也<strong>不包含滚动条</strong></li>
<li><code>scrollWidth/scrollHeight</code>返回值包含<strong>content + padding + 溢出内容的尺寸</strong></li>
</ul>
<h3 id="javascript有哪些方法定义对象"><a href="#javascript有哪些方法定义对象" class="headerlink" title="javascript有哪些方法定义对象"></a>javascript有哪些方法定义对象</h3><ul>
<li>对象字面量： <code>var obj = &#123;&#125;;</code></li>
<li>构造函数： <code>var obj = new Object();</code></li>
<li>Object.create(): <code>var obj = Object.create(Object.prototype);</code></li>
</ul>
<h3 id="常见兼容性问题？"><a href="#常见兼容性问题？" class="headerlink" title="常见兼容性问题？"></a>常见兼容性问题？</h3><ul>
<li><code>png24</code>位的图片在iE6浏览器上出现背景，解决方案是做成<code>PNG8</code></li>
<li>浏览器默认的<code>margin</code>和<code>padding</code>不同。解决方案是加一个全局的<code>*&#123;margin:0;padding:0;&#125;</code>来统一,，但是全局效率很低，一般是如下这样解决：</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body,ul,li,ol,dl,dt,dd,form,input,h1,h2,h3,h4,h5,h6,p</span><span class="token punctuation">&#123;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><code>IE</code>下,<code>event</code>对象有<code>x</code>,<code>y</code>属性,但是没有<code>pageX</code>,<code>pageY</code>属性</li>
<li><code>Firefox</code>下,<code>event</code>对象有<code>pageX</code>,<code>pageY</code>属性,但是没有<code>x,y</code>属性.</li>
</ul>
<h3 id="说说你对promise的了解"><a href="#说说你对promise的了解" class="headerlink" title="说说你对promise的了解"></a>说说你对promise的了解</h3><ul>
<li>依照 <code>Promise/A+</code> 的定义，<code>Promise</code> 有四种状态：<ul>
<li><code>pending:</code> 初始状态, 非 <code>fulfilled</code> 或 <code>rejected.</code></li>
<li><code>fulfilled:</code> 成功的操作.</li>
<li><code>rejected:</code> 失败的操作.</li>
<li><code>settled: Promise</code>已被<code>fulfilled</code>或<code>rejected</code>，且不是<code>pending</code></li>
</ul>
</li>
<li>另外， <code>fulfilled</code>与 <code>rejected</code>一起合称 <code>settled</code></li>
<li><code>Promise</code> 对象用来进行延迟(<code>deferred</code>) 和异步(<code>asynchronous</code>) 计算</li>
</ul>
<p><strong>Promise 的构造函数</strong></p>
<ul>
<li>构造一个 <code>Promise</code>，最基本的用法如下：</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// succeed</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>   <span class="token comment">// fails</span>
            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token function">Error</span><span class="token punctuation">(</span>errMessage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><code>Promise</code> 实例拥有 <code>then</code> 方法（具有 <code>then</code> 方法的对象，通常被称为<code>thenable</code>）。它的使用方法如下：</li>
</ul>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">promise.then(onFulfilled, onRejected)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>接收两个函数作为参数，一个在 <code>fulfilled</code> 的时候被调用，一个在<code>rejected</code>的时候被调用，接收参数就是 <code>future</code>，<code>onFulfilled</code> 对应<code>resolve</code>, <code>onRejected</code>对应 <code>reject</code></li>
</ul>
<h3 id="你觉得jQuery源码有哪些写的好的地方"><a href="#你觉得jQuery源码有哪些写的好的地方" class="headerlink" title="你觉得jQuery源码有哪些写的好的地方"></a>你觉得jQuery源码有哪些写的好的地方</h3><ul>
<li><code>jquery</code>源码封装在一个匿名函数的自执行环境中，有助于防止变量的全局污染，然后通过传入<code>window</code>对象参数，可以使<code>window</code>对象作为局部变量使用，好处是当<code>jquery</code>中访问<code>window</code>对象的时候，就不用将作用域链退回到顶层作用域了，从而可以更快的访问window对象。同样，传入<code>undefined</code>参数，可以缩短查找<code>undefined</code>时的作用域链</li>
<li><code>jquery</code>将一些原型属性和方法封装在了<code>jquery.prototype</code>中，为了缩短名称，又赋值给了<code>jquery.fn</code>，这是很形象的写法</li>
<li>有一些数组或对象的方法经常能使用到，<code>jQuery</code>将其保存为局部变量以提高访问速度</li>
<li><code>jquery</code>实现的链式调用可以节约代码，所返回的都是同一个对象，可以提高代码效率</li>
</ul>
<h3 id="vue、react、angular"><a href="#vue、react、angular" class="headerlink" title="vue、react、angular"></a>vue、react、angular</h3><ul>
<li><code>Vue.js</code> 一个用于创建 <code>web</code> 交互界面的库，是一个精简的 <code>MVVM</code>。它通过双向数据绑定把 <code>View</code> 层和 <code>Model</code> 层连接了起来。实际的 <code>DOM</code> 封装和输出格式都被抽象为了<code>Directives</code> 和 <code>Filters</code></li>
<li><code>AngularJS</code> 是一个比较完善的前端<code>MVVM</code>框架，包含模板，数据双向绑定，路由，模块化，服务，依赖注入等所有功能，模板功能强大丰富，自带了丰富的 <code>Angular</code>指令</li>
<li><code>react</code> <code>React</code> 仅仅是 <code>VIEW</code> 层是<code>facebook</code>公司。推出的一个用于构建<code>UI</code>的一个库，能够实现服务器端的渲染。用了<code>virtual dom</code>，所以性能很好。</li>
</ul>
<h3 id="Node的应用场景"><a href="#Node的应用场景" class="headerlink" title="Node的应用场景"></a>Node的应用场景</h3><ul>
<li>特点：<ul>
<li>1、它是一个<code>Javascript</code>运行环境</li>
<li>2、依赖于<code>Chrome V8</code>引擎进行代码解释</li>
<li>3、事件驱动</li>
<li>4、非阻塞<code>I/O</code></li>
<li>5、单进程，单线程</li>
</ul>
</li>
<li>优点：<ul>
<li>高并发（最重要的优点）</li>
</ul>
</li>
<li>缺点：<ul>
<li>1、只支持单核<code>CPU</code>，不能充分利用<code>CPU</code></li>
<li>2、可靠性低，一旦代码某个环节崩溃，整个系统都崩溃</li>
</ul>
</li>
</ul>
<h3 id="谈谈你对AMD、CMD的理解"><a href="#谈谈你对AMD、CMD的理解" class="headerlink" title="谈谈你对AMD、CMD的理解"></a>谈谈你对AMD、CMD的理解</h3><ul>
<li><code>CommonJS</code>是服务器端模块的规范，<code>Node.js</code>采用了这个规范。<code>CommonJS</code>规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。<code>AMD</code>规范则是非同步加载模块，允许指定回调函数</li>
<li><code>AMD</code>推荐的风格通过返回一个对象做为模块对象，<code>CommonJS</code>的风格通过对<code>module.exports</code>或<code>exports</code>的属性赋值来达到暴露模块对象的目的</li>
</ul>
<p><strong>es6模块 CommonJS、AMD、CMD</strong></p>
<ul>
<li><code>CommonJS</code> 的规范中，每个 <code>JavaScript</code> 文件就是一个独立的模块上下文（<code>module context</code>），在这个上下文中默认创建的属性都是私有的。也就是说，在一个文件定义的变量（还包括函数和类），都是私有的，对其他文件是不可见的。</li>
<li><code>CommonJS</code>是同步加载模块,在浏览器中会出现堵塞情况，所以不适用</li>
<li><code>AMD</code> 异步，需要定义回调<code>define</code>方式</li>
<li><code>es6</code> 一个模块就是一个独立的文件，该文件内部的所有变量，外部无法获取。如果你希望外部能够读取模块内部的某个变量，就必须使用<code>export</code>关键字输出该变量 <code>es6</code>还可以导出类、方法，自动适用严格模式</li>
</ul>
<h3 id="那些操作会造成内存泄漏"><a href="#那些操作会造成内存泄漏" class="headerlink" title="那些操作会造成内存泄漏"></a>那些操作会造成内存泄漏</h3><ul>
<li>内存泄漏指任何对象在您不再拥有或需要它之后仍然存在</li>
<li><code>setTimeout</code> 的第一个参数使用字符串而非函数的话，会引发内存泄漏</li>
<li>闭包、控制台日志、循环（在两个对象彼此引用且彼此保留时，就会产生一个循环）</li>
</ul>
<h3 id="web开发中会话跟踪的方法有哪些-1"><a href="#web开发中会话跟踪的方法有哪些-1" class="headerlink" title="web开发中会话跟踪的方法有哪些"></a>web开发中会话跟踪的方法有哪些</h3><ul>
<li><code>cookie</code></li>
<li><code>session</code></li>
<li><code>url</code>重写</li>
<li>隐藏<code>input</code></li>
<li><code>ip</code>地址</li>
</ul>
<h3 id="介绍js有哪些内置对象"><a href="#介绍js有哪些内置对象" class="headerlink" title="介绍js有哪些内置对象"></a>介绍js有哪些内置对象</h3><ul>
<li><code>Object</code> 是 <code>JavaScript</code> 中所有对象的父对象</li>
<li>数据封装类对象：<code>Object</code>、<code>Array</code>、<code>Boolean</code>、<code>Number</code> 和 <code>String</code></li>
<li>其他对象：<code>Function</code>、<code>Arguments</code>、<code>Math</code>、<code>Date</code>、<code>RegExp</code>、<code>Error</code></li>
</ul>
<h3 id="说几条写JavaScript的基本规范"><a href="#说几条写JavaScript的基本规范" class="headerlink" title="说几条写JavaScript的基本规范"></a>说几条写JavaScript的基本规范</h3><ul>
<li>不要在同一行声明多个变量</li>
<li>请使用<code>===/!==</code>来比较<code>true/false</code>或者数值</li>
<li>使用对象字面量替代<code>new Array</code>这种形式</li>
<li>不要使用全局函数</li>
<li><code>Switch</code>语句必须带有<code>default</code>分支</li>
<li><code>If</code>语句必须使用大括号</li>
<li><code>for-in</code>循环中的变量 应该使用<code>var</code>关键字明确限定作用域，从而避免作用域污</li>
</ul>
<h3 id="JavaScript有几种类型的值"><a href="#JavaScript有几种类型的值" class="headerlink" title="JavaScript有几种类型的值"></a>JavaScript有几种类型的值</h3><ul>
<li>栈：原始数据类型（<code>Undefined</code>，<code>Null</code>，<code>Boolean</code>，<code>Number</code>、<code>String</code>）</li>
<li>堆：引用数据类型（对象、数组和函数）</li>
<li>两种类型的区别是：存储位置不同；</li>
<li>原始数据类型直接存储在栈(<code>stack</code>)中的简单数据段，占据空间小、大小固定，属于被频繁使用数据，所以放入栈中存储；</li>
<li>引用数据类型存储在堆(<code>heap</code>)中的对象,占据空间大、大小不固定,如果存储在栈中，将会影响程序运行的性能；引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体</li>
</ul>
<h3 id="javascript创建对象的几种方式"><a href="#javascript创建对象的几种方式" class="headerlink" title="javascript创建对象的几种方式"></a>javascript创建对象的几种方式</h3><blockquote>
<p><code>javascript</code>创建对象简单的说,无非就是使用内置对象或各种自定义对象，当然还可以用<code>JSON</code>；但写法有很多种，也能混合使用</p>
</blockquote>
<ul>
<li>对象字面量的方式</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">person<span class="token operator">=</span><span class="token punctuation">&#123;</span>firstname<span class="token operator">:</span><span class="token string">"Mark"</span><span class="token punctuation">,</span>lastname<span class="token operator">:</span><span class="token string">"Yun"</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">,</span>eyecolor<span class="token operator">:</span><span class="token string">"black"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>用<code>function</code>来模拟无参的构造函数</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token keyword">var</span> person<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//定义一个function，如果使用new"实例化",该function可以看作是一个Class</span>
        person<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"Mark"</span><span class="token punctuation">;</span>
        person<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token string">"25"</span><span class="token punctuation">;</span>
        person<span class="token punctuation">.</span><span class="token function-variable function">work</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">" hello..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
person<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>用<code>function</code>来模拟参构造函数来实现（用<code>this</code>关键字定义构造的上下文属性）</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Pet</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>hobby</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span><span class="token comment">//this作用域：当前对象</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>hobby<span class="token operator">=</span>hobby<span class="token punctuation">;</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">eat</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
           <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我叫"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">",我喜欢"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>hobby<span class="token operator">+</span><span class="token string">",是个程序员"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> maidou <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Pet</span><span class="token punctuation">(</span><span class="token string">"麦兜"</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token string">"coding"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化、创建对象</span>
maidou<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用eat方法</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>用工厂方式来创建（内置对象）</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> wcDog <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     wcDog<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"旺财"</span><span class="token punctuation">;</span>
     wcDog<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
     wcDog<span class="token punctuation">.</span><span class="token function-variable function">work</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
       <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是"</span><span class="token operator">+</span>wcDog<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">",汪汪汪......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">&#125;</span>
     wcDog<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>用原型方式来创建</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"旺财"</span><span class="token punctuation">;</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">"是个吃货"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> wangcai <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
wangcai<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>用混合方式来创建</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"> <span class="token keyword">function</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>price</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>price<span class="token operator">=</span>price<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Car</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sell</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">"，我现在卖"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>price<span class="token operator">+</span><span class="token string">"万元"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> camry <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"凯美瑞"</span><span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
camry<span class="token punctuation">.</span><span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="eval是做什么的"><a href="#eval是做什么的" class="headerlink" title="eval是做什么的"></a>eval是做什么的</h3><ul>
<li>它的功能是把对应的字符串解析成<code>JS</code>代码并运行</li>
<li>应该避免使用<code>eval</code>，不安全，非常耗性能（<code>2</code>次，一次解析成<code>js</code>语句，一次执行）</li>
<li>由<code>JSON</code>字符串转换为JSON对象的时候可以用<code>eval，var obj =eval(&#39;(&#39;+ str +&#39;)&#39;)</code></li>
</ul>
<h3 id="❤null，undefined-的区别，如何让一个属性变为null"><a href="#❤null，undefined-的区别，如何让一个属性变为null" class="headerlink" title="❤null，undefined 的区别，如何让一个属性变为null"></a>❤null，undefined 的区别，如何让一个属性变为null</h3><ul>
<li><code>undefined</code> 表示不存在这个值。</li>
<li><code>undefined</code> :是一个表示”无”的原始值或者说表示”缺少值”，就是此处应该有一个值，但是还没有定义。当尝试读取时会返回 <code>undefined</code></li>
<li>例如变量被声明了，但没有赋值时，就等于<code>undefined</code></li>
<li><code>null</code> 表示一个对象被定义了，值为“空值”</li>
<li><code>null</code> : 是一个对象(空对象, 没有任何属性和方法)</li>
<li>例如作为函数的参数，表示该函数的参数不是对象；</li>
<li>在验证<code>null</code>时，一定要使用　<code>===</code> ，因为 <code>==</code>无法分别<code>null</code> 和　<code>undefined</code></li>
</ul>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点：</strong>操作的变量没有被赋值、全局对象的一个属性、函数没有return返回值、值 <code>null</code> 特指对象的值未设置 undefined == null、undefined !== null</li>
<li><strong>标准回答：</strong><ul>
<li><strong>undefind</strong> 是全局对象的一个属性，当一个变量没有被赋值或者一个函数没有返回值或者某个对象不存在某个属性却去访问或者函数定义了形参但没有传递实参，这时候都是undefined。undefined通过typeof判断类型是’undefined’。undefined == undefined undefined === undefined 。</li>
<li><strong>null</strong>代表对象的值未设置，相当于一个对象没有设置指针地址就是null。null通过typeof判断类型是’object’。null === null null == null null == undefined null !== undefined undefined 表示一个变量初始状态值，而 null 则表示一个变量被人为的设置为空对象，而不是原始状态。在实际使用过程中，不需要对一个变量显式的赋值 undefined，当需要释放一个对象时，直接赋值为 null 即可。 让一个变量为null，直接给该变量赋值为null即可。</li>
</ul>
</li>
<li><strong>加分回答：</strong> null 其实属于自己的类型 Null，而不属于Object类型，typeof 之所以会判定为 Object 类型，是因为JavaScript 数据类型在底层都是以二进制的形式表示的，二进制的前三位为 0 会被 typeof 判断为对象类型，而 null 的二进制位恰好都是 0 ，因此，null 被误判断为 Object 类型。 对象被赋值了null 以后，对象对应的堆内存中的值就是游离状态了，GC 会择机回收该值并释放内存。因此，需要释放某个对象，就将变量设置为 null，即表示该对象已经被清空，目前无效状态。</li>
</ul>
<h3 id="“1”-“2”-“3”-map-parseInt-答案是多少"><a href="#“1”-“2”-“3”-map-parseInt-答案是多少" class="headerlink" title="[“1”, “2”, “3”].map(parseInt) 答案是多少"></a>[“1”, “2”, “3”].map(parseInt) 答案是多少</h3><ul>
<li><code>[1, NaN, NaN]</code>因为 <code>parseInt</code> 需要两个参数 <code>(val, radix)</code>，其中<code>radix</code> 表示解析时用的基数。</li>
<li><code>map</code>传了 <code>3</code>个<code>(element, index, array)</code>，对应的 <code>radix</code> 不合法导致解析失败。</li>
</ul>
<h3 id="javascript-代码中的”use-strict”-是什么意思"><a href="#javascript-代码中的”use-strict”-是什么意思" class="headerlink" title="javascript 代码中的”use strict”;是什么意思"></a>javascript 代码中的”use strict”;是什么意思</h3><ul>
<li><code>use strict</code>是一种<code>ECMAscript 5</code> 添加的（严格）运行模式,这种模式使得 Javascript 在更严格的条件下运行,使<code>JS</code>编码更加规范化的模式,消除<code>Javascript</code>语法的一些不合理、不严谨之处，减少一些怪异行为</li>
</ul>
<h3 id="JSON-的了解"><a href="#JSON-的了解" class="headerlink" title="JSON 的了解"></a>JSON 的了解</h3><ul>
<li><code>JSON(JavaScript Object Notation)</code> 是一种轻量级的数据交换格式</li>
<li>它是基于<code>JavaScript</code>的一个子集。数据格式简单, 易于读写, 占用带宽小</li>
<li><code>JSON</code>字符串转换为JSON对象:</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'('</span><span class="token operator">+</span> str <span class="token operator">+</span><span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">parseJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li><code>JSON</code>对象转换为JSON字符串：</li>
</ul>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">var last&#x3D;obj.toJSONString();
var last&#x3D;JSON.stringify(obj);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="js延迟加载的方式有哪些"><a href="#js延迟加载的方式有哪些" class="headerlink" title="js延迟加载的方式有哪些"></a>js延迟加载的方式有哪些</h3><ul>
<li>设置<code>&lt;script&gt;</code>属性 <code>defer=&quot;defer&quot;</code> （脚本将在页面完成解析时执行）</li>
<li>动态创建 <code>script DOM</code>：<code>document.createElement(&#39;script&#39;);</code></li>
<li><code>XmlHttpRequest</code> 脚本注入</li>
<li>延迟加载工具 <code>LazyLoad</code></li>
</ul>
<h3 id="同步和异步的区别"><a href="#同步和异步的区别" class="headerlink" title="同步和异步的区别"></a>同步和异步的区别</h3><ul>
<li>同步：浏览器访问服务器请求，用户看得到页面刷新，重新发请求,等请求完，页面刷新，新内容出现，用户看到新内容,进行下一步操作</li>
<li>异步：浏览器访问服务器请求，用户正常操作，浏览器后端进行请求。等请求完，页面不刷新，新内容也会出现，用户看到新内容</li>
</ul>
<h3 id="渐进增强和优雅降级"><a href="#渐进增强和优雅降级" class="headerlink" title="渐进增强和优雅降级"></a>渐进增强和优雅降级</h3><ul>
<li>渐进增强 ：针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验。</li>
<li>优雅降级 ：一开始就构建完整的功能，然后再针对低版本浏览器进行兼容</li>
</ul>
<p>-</p>
<h3 id="说说严格模式的限制"><a href="#说说严格模式的限制" class="headerlink" title="说说严格模式的限制"></a>说说严格模式的限制</h3><ul>
<li>变量必须声明后再使用</li>
<li>函数的参数不能有同名属性，否则报错</li>
<li>不能使用with语句</li>
<li>不能对只读属性赋值，否则报错</li>
<li>不能使用前缀0表示八进制数，否则报错</li>
<li>不能删除不可删除的属性，否则报错</li>
<li>不能删除变量<code>delete prop</code>，会报错，只能删除属性<code>delete global[prop]</code></li>
<li><code>eval</code>不会在它的外层作用域引入变量</li>
<li><code>eval</code>和<code>arguments</code>不能被重新赋值</li>
<li><code>arguments</code>不会自动反映函数参数的变化</li>
<li>不能使用<code>arguments.callee</code></li>
<li>不能使用<code>arguments.caller</code></li>
<li>禁止<code>this</code>指向全局对象</li>
<li>不能使用<code>fn.caller</code>和<code>fn.arguments</code>获取函数调用的堆栈</li>
<li>增加了保留字（比如<code>protected</code>、<code>static</code>和<code>interface</code>）</li>
</ul>
<h3 id="attribute和property的区别是什么"><a href="#attribute和property的区别是什么" class="headerlink" title="attribute和property的区别是什么"></a>attribute和property的区别是什么</h3><ul>
<li><code>attribute</code>是<code>dom</code>元素在文档中作为<code>html</code>标签拥有的属性；</li>
<li><code>property</code>就是<code>dom</code>元素在<code>js</code>中作为对象拥有的属性。</li>
<li>对于<code>html</code>的标准属性来说，<code>attribute</code>和<code>property</code>是同步的，是会自动更新的</li>
<li>但是对于自定义的属性来说，他们是不同步的</li>
</ul>
<h3 id="谈谈你对ES6的理解"><a href="#谈谈你对ES6的理解" class="headerlink" title="谈谈你对ES6的理解"></a>谈谈你对ES6的理解</h3><ul>
<li>新增模板字符串（为<code>JavaScript</code>提供了简单的字符串插值功能）</li>
<li>箭头函数</li>
<li><code>for-of</code>（用来遍历数据—例如数组中的值。）</li>
<li><code>arguments</code>对象可被不定参数和默认参数完美代替。</li>
<li><code>ES6</code>将p<code>romise</code>对象纳入规范，提供了原生的<code>Promise</code>对象。</li>
<li>增加了<code>let</code>和<code>const</code>命令，用来声明变量。</li>
<li>增加了块级作用域。</li>
<li><code>let</code>命令实际上就增加了块级作用域。</li>
<li>还有就是引入<code>module</code>模块的概念</li>
</ul>
<h3 id="ECMAScript6-怎么写class么"><a href="#ECMAScript6-怎么写class么" class="headerlink" title="ECMAScript6 怎么写class么"></a>ECMAScript6 怎么写class么</h3><ul>
<li>这个语法糖可以让有<code>OOP</code>基础的人更快上手<code>js</code>，至少是一个官方的实现了</li>
<li>但对熟悉<code>js</code>的人来说，这个东西没啥大影响；一个<code>Object.creat()</code>搞定继承，比<code>class</code>简洁清晰的多</li>
</ul>
<h3 id="什么是面向对象编程及面向过程编程，它们的异同和优缺点"><a href="#什么是面向对象编程及面向过程编程，它们的异同和优缺点" class="headerlink" title="什么是面向对象编程及面向过程编程，它们的异同和优缺点"></a>什么是面向对象编程及面向过程编程，它们的异同和优缺点</h3><ul>
<li>面向过程就是分析出解决问题所需要的步骤，然后用函数把这些步骤一步一步实现，使用的时候一个一个依次调用就可以了</li>
<li>面向对象是把构成问题事务分解成各个对象，建立对象的目的不是为了完成一个步骤，而是为了描叙某个事物在整个解决问题的步骤中的行为</li>
<li>面向对象是以功能来划分问题，而不是步骤</li>
</ul>
<h3 id="面向对象编程思想"><a href="#面向对象编程思想" class="headerlink" title="面向对象编程思想"></a>面向对象编程思想</h3><ul>
<li>基本思想是使用对象，类，继承，封装等基本概念来进行程序设计</li>
<li>优点<ul>
<li>易维护<ul>
<li>采用面向对象思想设计的结构，可读性高，由于继承的存在，即使改变需求，那么维护也只是在局部模块，所以维护起来是非常方便和较低成本的</li>
</ul>
</li>
<li>易扩展</li>
<li>开发工作的重用性、继承性高，降低重复工作量。</li>
<li>缩短了开发周期</li>
</ul>
</li>
</ul>
<h3 id="对web标准、可用性、可访问性的理解"><a href="#对web标准、可用性、可访问性的理解" class="headerlink" title="对web标准、可用性、可访问性的理解"></a>对web标准、可用性、可访问性的理解</h3><ul>
<li>可用性（Usability）：产品是否容易上手，用户能否完成任务，效率如何，以及这过程中用户的主观感受可好，是从用户的角度来看产品的质量。可用性好意味着产品质量高，是企业的核心竞争力</li>
<li>可访问性（Accessibility）：Web内容对于残障用户的可阅读和可理解性</li>
<li>可维护性（Maintainability）：一般包含两个层次，一是当系统出现问题时，快速定位并解决问题的成本，成本低则可维护性好。二是代码是否容易被人理解，是否容易修改和增强功能。</li>
</ul>
<h3 id="❤判断数组的方法"><a href="#❤判断数组的方法" class="headerlink" title="❤判断数组的方法"></a>❤判断数组的方法</h3><ul>
<li><code>instanceof</code>方法<ul>
<li><code>instanceof</code> 运算符是用来测试一个对象是否在其原型链原型构造函数的属性</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li><code>constructor</code>方法<ul>
<li><code>constructor</code>属性返回对创建此对象的数组函数的引用，就是返回对象相对应的构造函数</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span>constructor <span class="token operator">==</span> Array<span class="token punctuation">;</span> <span class="token comment">//true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li>最简单的方法<ul>
<li>这种写法，是 <code>jQuery</code> 正在使用的</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'[object Array]'</span>
<span class="token comment">// 利用这个方法，可以写一个返回数据类型的方法</span>
<span class="token keyword">var</span> <span class="token function-variable function">isType</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
     <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><code>ES6</code>新增方法<code>isArray()</code></li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>原型链方法</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>





<h3 id="谈一谈let与var的区别"><a href="#谈一谈let与var的区别" class="headerlink" title="谈一谈let与var的区别"></a>谈一谈let与var的区别</h3><ul>
<li><code>let</code>命令不存在变量提升，如果在<code>let</code>前使用，会导致报错</li>
<li>如果块区中存在<code>let</code>和<code>const</code>命令，就会形成封闭作用域</li>
<li>不允许重复声明，因此，不能在函数内部重新声明参数</li>
</ul>
<h3 id="❤map与forEach的区别"><a href="#❤map与forEach的区别" class="headerlink" title="❤map与forEach的区别"></a>❤map与forEach的区别</h3><ul>
<li><code>forEach</code>方法，是最基本的方法，就是遍历与循环，默认有3个传参：分别是遍历的数组内容<code>item</code>、数组索引<code>index</code>、和当前遍历数组<code>Array</code></li>
<li><code>map</code>方法，基本用法与<code>forEach</code>一致，但是不同的，它会返回一个新的数组，所以在callback需要有<code>return</code>值，如果没有，会返回<code>undefined</code></li>
</ul>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> map创建新数组、map返回处理后的值、forEach()不修改原数组、forEach()方法返回undefined</li>
<li><strong>标准回答</strong><ul>
<li>map 和 forEach 的<strong>区别</strong>：<ul>
<li>map有返回值，可以开辟新空间，return出来一个length和原数组一致的数组，即便数组元素是undefined或者是null。forEach默认无返回值，返回结果为undefined，可以通过在函数体内部使用索引修改数组元素。</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong> map的处理速度比forEach快，而且返回一个新的数组，方便链式调用其他数组新方法，比如filter、reduce</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> value <span class="token operator">*</span> value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> value <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// arr2 = [16, 25]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h3 id="谈一谈你理解的函数式编程"><a href="#谈一谈你理解的函数式编程" class="headerlink" title="谈一谈你理解的函数式编程"></a>谈一谈你理解的函数式编程</h3><ul>
<li>简单说，”函数式编程”是一种”编程范式”（programming paradigm），也就是如何编写程序的方法论</li>
<li>它具有以下特性：闭包和高阶函数、惰性计算、递归、函数是”第一等公民”、只用”表达式”</li>
</ul>
<h3 id="❤ES6的箭头函数"><a href="#❤ES6的箭头函数" class="headerlink" title="❤ES6的箭头函数"></a>❤ES6的箭头函数</h3><p>箭头函数与普通函数的区别？</p>
<ul>
<li>函数体内的<code>this</code>对象，就是定义时所在的对象，而不是使用时所在的对象</li>
<li>不可以当作构造函数，也就是说，不可以使用<code>new</code>命令，否则会抛出一个错误</li>
<li>不可以使用<code>arguments</code>对象，该对象在函数体内不存在。如果要用，可以用<code>Rest</code>参数代替</li>
<li>不可以使用<code>yield</code>命令，因此箭头函数不能用作<code>Generator</code>函数</li>
</ul>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 没有this、this是从外部获取、不能使用new、没有arguments、没有原型和super</li>
<li><strong>标准回答</strong> 箭头函数相当于匿名函数，简化了函数定义。<ul>
<li>箭头函数有两种写法，当函数体是单条语句的时候可以省略{}和return。另一种是包含多条语句，不可以省略{}和return。</li>
<li>箭头函数最大的特点就是没有this，所以this是从外部获取，就是继承外部的执行上下文中的this，由于没有this关键字所以箭头函数也不能作为构造函数， 同时通过 <code>call()</code> 或 <code>apply()</code> 方法调用一个函数时，只能传递参数（不能绑定this），第一个参数会被忽略。箭头函数也没有原型和super。不能使用yield关键字，因此箭头函数不能用作 Generator 函数。不能返回直接对象字面量。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>箭头函数的<strong>不适用</strong>场景：<ul>
<li>定义对象上的方法 当调用<code> dog.jumps</code> 时，<code>lives</code> 并没有递减。因为 <code>this</code> 没有绑定值，而继承父级作用域。 var dog = { lives: 20, jumps: () =&gt; { this.lives–; } }</li>
<li>不适合做事件处理程序 此时触发点击事件，this不是button，无法进行class切换 var button = document.querySelector(‘button’); button.addEventListener(‘click’, () =&gt; { this.classList.toggle(‘on’); });</li>
</ul>
</li>
<li>箭头函数函数<strong>适用</strong>场景：<ul>
<li>简单的函数表达式，内部没有this引用，没有递归、事件绑定、解绑定，适用于map、filter等方法中，写法简洁 var arr = [1,2,3]; var newArr = arr.map((num)=&gt;num*num)</li>
<li>内层函数表达式，需要调用this，且this应与外层函数一致时 let group = { title: “Our Group”, students: [“John”, “Pete”, “Alice”], showList() { this.students.forEach( student =&gt; alert(this.title + ‘: ‘ + student) ); } }; group.showList();</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="❤JS实现异步编程的方法"><a href="#❤JS实现异步编程的方法" class="headerlink" title="❤JS实现异步编程的方法"></a>❤JS实现异步编程的方法</h3><ul>
<li>回调函数<ul>
<li>优点：简单、容易理解</li>
<li>缺点：不利于维护，代码耦合高</li>
</ul>
</li>
<li>事件监听(采用时间驱动模式，取决于某个事件是否发生)：<ul>
<li>优点：容易理解，可以绑定多个事件，每个事件可以指定多个回调函数</li>
<li>缺点：事件驱动型，流程不够清晰</li>
</ul>
</li>
<li>发布/订阅(观察者模式)<ul>
<li>类似于事件监听，但是可以通过‘消息中心’，了解现在有多少发布者，多少订阅者</li>
</ul>
</li>
<li>Promise对象<ul>
<li>优点：可以利用then方法，进行链式写法；可以书写错误时的回调函数；</li>
<li>缺点：编写和理解，相对比较难</li>
</ul>
</li>
<li>Generator函数<ul>
<li>优点：函数体内外的数据交换、错误处理机制</li>
<li>缺点：流程管理不方便</li>
</ul>
</li>
<li>async函数<ul>
<li>优点：内置执行器、更好的语义、更广的适用性、返回的是Promise、结构清晰。</li>
<li>缺点：错误处理机制</li>
</ul>
</li>
</ul>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点：</strong> 回调函数、事件监听、setTimeout、Promise、生成器Generators/yield、async/awt</li>
<li><strong>标准回答：</strong> 所有异步任务都是在同步任务执行结束之后，从任务队列中依次取出执行。<ul>
<li><strong>回调函数</strong>是异步操作最基本的方法，比如AJAX回调，回调函数的<strong>优点</strong>是简单、容易理解和实现，<strong>缺点</strong>是不利于代码的阅读和维护，各个部分之间高度耦合，使得程序结构混乱、流程难以追踪（尤其是多个回调函数嵌套的情况），而且每个任务只能指定一个回调函数。此外它不能使用 try catch 捕获错误，不能直接 return Promise包装了一个异步调用并生成一个Promise实例，当异步调用返回的时候根据调用的结果分别调用实例化时传入的resolve 和 reject方法，then接收到对应的数据，做出相应的处理。</li>
<li><strong>Promise对象</strong>不仅能够捕获错误，而且也很好地解决了回调地狱的问题，<strong>缺点</strong>是无法取消 Promise，错误需要通过回调函数捕获。</li>
<li><strong>Generator 函数</strong>是 ES6 提供的一种异步编程解决方案，Generator 函数是一个状态机，封装了多个内部状态，可暂停函数, yield可暂停，next方法可启动，每次返回的是yield后的表达式结果。<strong>优点</strong>是异步语义清晰，<strong>缺点</strong>是手动迭代<code>Generator</code> 函数很麻烦，实现逻辑有点绕</li>
<li><strong>async/awt</strong>是基于Promise实现的，async/awt使得异步代码看起来像同步代码，所以<strong>优点</strong>是，使用方法清晰明了，<strong>缺点</strong>是awt 将异步代码改造成了同步代码，如果多个异步代码没有依赖性却使用了 awt 会导致性能上的降低，代码没有依赖性的话，完全可以使用 Promise.all 的方式。</li>
</ul>
</li>
<li><strong>加分回答：</strong> JS 异步编程进化史：callback -&gt; promise -&gt; generator/yield -&gt; async/awt。 async/awt函数对 Generator 函数的改进，体现在以下三点：<ul>
<li> <strong>内置执行器。</strong> Generator 函数的执行必须靠执行器，而 async 函数自带执行器。也就是说，async 函数的执行，与普通函数一模一样，只要一行。</li>
<li><strong>更广的适用性。</strong> yield 命令后面只能是 Thunk 函数或 Promise 对象，而 async 函数的 awt 命令后面，可以跟 Promise 对象和原始类型的值（数值、字符串和布尔值，但这时等同于同步操作）。</li>
<li><strong>更好的语义。</strong> async 和 awt，比起星号和 yield，语义更清楚了。async 表示函数里有异步操作，awt 表示紧跟在后面的表达式需要等待结果。 目前使用很广泛的就是promise和async/awt</li>
</ul>
</li>
</ul>
<h3 id="对原生Javascript了解程度"><a href="#对原生Javascript了解程度" class="headerlink" title="对原生Javascript了解程度"></a>对原生Javascript了解程度</h3><ul>
<li>数据类型、运算、对象、Function、继承、闭包、作用域、原型链、事件、<code>RegExp</code>、<code>JSON</code>、<code>Ajax</code>、<code>DOM</code>、<code>BOM</code>、内存泄漏、跨域、异步装载、模板引擎、前端<code>MVC</code>、路由、模块化、<code>Canvas</code>、<code>ECMAScript</code></li>
</ul>
<h3 id="Js动画与CSS动画区别及相应实现"><a href="#Js动画与CSS动画区别及相应实现" class="headerlink" title="Js动画与CSS动画区别及相应实现"></a>Js动画与CSS动画区别及相应实现</h3><ul>
<li><code>CSS3</code>的动画的优点<ul>
<li>在性能上会稍微好一些，浏览器会对<code>CSS3</code>的动画做一些优化</li>
<li>代码相对简单</li>
</ul>
</li>
<li>缺点<ul>
<li>在动画控制上不够灵活</li>
<li>兼容性不好</li>
</ul>
</li>
<li><code>JavaScript</code>的动画正好弥补了这两个缺点，控制能力很强，可以单帧的控制、变换，同时写得好完全可以兼容<code>IE6</code>，并且功能强大。对于一些复杂控制的动画，使用<code>javascript</code>会比较靠谱。而在实现一些小的交互动效的时候，就多考虑考虑<code>CSS</code>吧</li>
</ul>
<h3 id="JS-数组和对象的遍历方式，以及几种方式的比较"><a href="#JS-数组和对象的遍历方式，以及几种方式的比较" class="headerlink" title="JS 数组和对象的遍历方式，以及几种方式的比较"></a>JS 数组和对象的遍历方式，以及几种方式的比较</h3><blockquote>
<p>通常我们会用循环的方式来遍历数组。但是循环是 导致js 性能问题的原因之一。一般我们会采用下几种方式来进行数组的遍历</p>
</blockquote>
<ul>
<li><code>for in</code>循环</li>
<li><code>for</code>循环</li>
<li><code>forEach</code><ul>
<li>这里的 <code>forEach</code>回调中两个参数分别为 <code>value</code>，<code>index</code></li>
<li><code>forEach</code> 无法遍历对象</li>
<li>IE不支持该方法；<code>Firefox</code> 和 <code>chrome</code> 支持</li>
<li><code>forEach</code> 无法使用 <code>break</code>，<code>continue</code> 跳出循环，且使用 <code>return</code> 是跳过本次循环</li>
</ul>
</li>
<li>这两种方法应该非常常见且使用很频繁。但实际上，这两种方法都存在性能问题</li>
<li>在方式一中，<code>for-in</code>需要分析出<code>array</code>的每个属性，这个操作性能开销很大。用在 <code>key</code> 已知的数组上是非常不划算的。所以尽量不要用<code>for-in</code>，除非你不清楚要处理哪些属性，例如 <code>JSON</code>对象这样的情况</li>
<li>在方式2中，循环每进行一次，就要检查一下数组长度。读取属性（数组长度）要比读局部变量慢，尤其是当 <code>array</code> 里存放的都是 <code>DOM</code> 元素，因为每次读取都会扫描一遍页面上的选择器相关元素，速度会大大降低</li>
</ul>
<h3 id="gulp是什么"><a href="#gulp是什么" class="headerlink" title="gulp是什么"></a>gulp是什么</h3><ul>
<li><code>gulp</code>是前端开发过程中一种基于流的代码构建工具，是自动化项目的构建利器；它不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成</li>
<li>Gulp的核心概念：流</li>
<li>流，简单来说就是建立在面向对象基础上的一种抽象的处理数据的工具。在流中，定义了一些处理数据的基本操作，如读取数据，写入数据等，程序员是对流进行所有操作的，而不用关心流的另一头数据的真正流向</li>
<li>gulp正是通过流和代码优于配置的策略来尽量简化任务编写的工作</li>
<li>Gulp的特点：<ul>
<li><strong>易于使用</strong>：通过代码优于配置的策略，gulp 让简单的任务简单，复杂的任务可管理</li>
<li><strong>构建快速</strong> 利用 <code>Node.js</code> 流的威力，你可以快速构建项目并减少频繁的 <code>IO</code> 操作</li>
<li><strong>易于学习</strong> 通过最少的 <code>API</code>，掌握 <code>gulp</code> 毫不费力，构建工作尽在掌握：如同一系列流管道</li>
</ul>
</li>
</ul>
<h3 id="事件的各个阶段"><a href="#事件的各个阶段" class="headerlink" title="事件的各个阶段"></a>事件的各个阶段</h3><ul>
<li>1：捕获阶段 —&gt; 2：目标阶段 —&gt; 3：冒泡阶段</li>
<li><code>document</code> —&gt; <code>target</code>目标 —-&gt; <code>document</code></li>
<li>由此，<code>addEventListener</code>的第三个参数设置为<code>true</code>和<code>false</code>的区别已经非常清晰了<ul>
<li><code>true</code>表示该元素在事件的“捕获阶段”（由外往内传递时）响应事件</li>
<li><code>false</code>表示该元素在事件的“冒泡阶段”（由内向外传递时）响应事件</li>
</ul>
</li>
</ul>
<h3 id="let-var-const"><a href="#let-var-const" class="headerlink" title="let var const"></a>let var const</h3><p><strong>let</strong></p>
<ul>
<li>允许你声明一个作用域被限制在块级中的变量、语句或者表达式</li>
<li>let绑定不受变量提升的约束，这意味着let声明不会被提升到当前</li>
<li>该变量处于从块开始到初始化处理的“暂存死区”</li>
</ul>
<p><strong>var</strong></p>
<ul>
<li>声明变量的作用域限制在其声明位置的上下文中，而非声明变量总是全局的</li>
<li>由于变量声明（以及其他声明）总是在任意代码执行之前处理的，所以在代码中的任意位置声明变量总是等效于在代码开头声明</li>
</ul>
<p><strong>const</strong></p>
<ul>
<li>声明创建一个值的只读引用 (即指针)</li>
<li>基本数据当值发生改变时，那么其对应的指针也将发生改变，故造成 <code>const</code>申明基本数据类型时</li>
<li>再将其值改变时，将会造成报错， 例如 <code>const a = 3</code> ; <code>a = 5</code>时 将会报错</li>
<li>但是如果是复合类型时，如果只改变复合类型的其中某个<code>Value</code>项时， 将还是正常使用</li>
</ul>
<h3 id="快速的让一个数组乱序"><a href="#快速的让一个数组乱序" class="headerlink" title="快速的让一个数组乱序"></a>快速的让一个数组乱序</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="如何渲染几万条数据并不卡住界面"><a href="#如何渲染几万条数据并不卡住界面" class="headerlink" title="如何渲染几万条数据并不卡住界面"></a>如何渲染几万条数据并不卡住界面</h3><blockquote>
<p>这道题考察了如何在不卡住页面的情况下渲染数据，也就是说不能一次性将几万条都渲染出来，而应该一次渲染部分 <code>DOM</code>，那么就可以通过 <code>requestAnimationFrame</code> 来每 <code>16 ms</code> 刷新一次</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ie=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>控件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 插入十万条数据</span>
      <span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token number">100000</span>
      <span class="token comment">// 一次插入 20 条，如果觉得性能不好就减少</span>
      <span class="token keyword">const</span> once <span class="token operator">=</span> <span class="token number">20</span>
      <span class="token comment">// 渲染数据总共需要几次</span>
      <span class="token keyword">const</span> loopCount <span class="token operator">=</span> total <span class="token operator">/</span> once
      <span class="token keyword">let</span> countOfRender <span class="token operator">=</span> <span class="token number">0</span>
      <span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 优化性能，插入不会造成回流</span>
        <span class="token keyword">const</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> once<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">const</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          li<span class="token punctuation">.</span>innerText <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
          fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
        countOfRender <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">function</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>countOfRender <span class="token operator">&lt;</span> loopCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="希望获取到页面中所有的checkbox怎么做？"><a href="#希望获取到页面中所有的checkbox怎么做？" class="headerlink" title="希望获取到页面中所有的checkbox怎么做？"></a>希望获取到页面中所有的checkbox怎么做？</h3><blockquote>
<p>不使用第三方框架</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> domList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span>‘input’<span class="token punctuation">)</span>
<span class="token keyword">var</span> checkBoxList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> len <span class="token operator">=</span> domList<span class="token punctuation">.</span>length<span class="token punctuation">;</span>　　<span class="token comment">//缓存到局部变量</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>　　<span class="token comment">//使用while的效率会比for循环更高</span>
　　<span class="token keyword">if</span> <span class="token punctuation">(</span>domList<span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">==</span> ‘checkbox’<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    　　checkBoxList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>domList<span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
　　<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="怎样添加、移除、移动、复制、创建和查找节点"><a href="#怎样添加、移除、移动、复制、创建和查找节点" class="headerlink" title="怎样添加、移除、移动、复制、创建和查找节点"></a>怎样添加、移除、移动、复制、创建和查找节点</h3><p><strong>创建新节点</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//创建一个DOM片段</span>
<span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//创建一个具体的元素</span>
<span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//创建一个文本节点</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>添加、移除、替换、插入</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//添加</span>
<span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//移除</span>
<span class="token function">replaceChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//替换</span>
<span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//插入</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>查找</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//通过标签名称</span>
<span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">//通过元素的Name属性的值</span>
<span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">//通过元素Id，唯一性</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><blockquote>
<p>正则表达式构造函数<code>var reg=new RegExp(“xxx”)</code>与正则表达字面量<code>var reg=//</code>有什么不同？匹配邮箱的正则表达式？</p>
</blockquote>
<ul>
<li>当使用<code>RegExp()</code>构造函数的时候，不仅需要转义引号（即<code>\</code>”表示”），并且还需要双反斜杠（即<code>\\</code>表示一个<code>\</code>）。使用正则表达字面量的效率更高</li>
</ul>
<p>邮箱的正则匹配：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> regMail <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]&#123;2,3&#125;)&#123;1,2&#125;)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="Javascript中callee和caller的作用？"><a href="#Javascript中callee和caller的作用？" class="headerlink" title="Javascript中callee和caller的作用？"></a>Javascript中callee和caller的作用？</h3><ul>
<li><code>caller</code>是返回一个对函数的引用，该函数调用了当前函数；</li>
<li><code>callee</code>是返回正在被执行的<code>function</code>函数，也就是所指定的<code>function</code>对象的正文</li>
</ul>
<blockquote>
<p>那么问题来了？如果一对兔子每月生一对兔子；一对新生兔，从第二个月起就开始生兔子；假定每对兔子都是一雌一雄，试问一对兔子，第n个月能繁殖成多少对兔子？（使用<code>callee</code>完成）</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> result<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//典型的斐波那契数列</span>
     <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
     <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
             <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
     <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                  <span class="token keyword">return</span> result<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
         <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
                 <span class="token comment">//argument.callee()表示fn()</span>
                 result<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">=</span>arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token keyword">return</span> result<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
         <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="window-onload和-document-ready"><a href="#window-onload和-document-ready" class="headerlink" title="window.onload和$(document).ready"></a>window.onload和$(document).ready</h3><blockquote>
<p>原生<code>JS</code>的<code>window.onload</code>与<code>Jquery</code>的<code>$(document).ready(function()&#123;&#125;)</code>有什么不同？如何用原生JS实现Jq的<code>ready</code>方法？</p>
</blockquote>
<ul>
<li><code>window.onload()</code>方法是必须等到页面内包括图片的所有元素加载完毕后才能执行。</li>
<li><code>$(document).ready()</code>是<code>DOM</code>结构绘制完毕后就执行，不必等到加载完毕</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ready</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//标准浏览器</span>
          document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
              <span class="token comment">//注销事件, 避免反复触发</span>
              document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span>arguments<span class="token punctuation">.</span>callee<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//执行函数</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//IE</span>
          document<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onreadystatechange'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
             <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token string">'complete'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                 document<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">'onreadystatechange'</span><span class="token punctuation">,</span> arguments<span class="token punctuation">.</span>callee<span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//函数执行</span>
             <span class="token punctuation">&#125;</span>
         <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="addEventListener-和attachEvent-的区别"><a href="#addEventListener-和attachEvent-的区别" class="headerlink" title="addEventListener()和attachEvent()的区别"></a>addEventListener()和attachEvent()的区别</h3><ul>
<li><code>addEventListener()</code>是符合W3C规范的标准方法; <code>attachEvent()</code>是IE低版本的非标准方法</li>
<li><code>addEventListener()</code>支持事件冒泡和事件捕获; - 而<code>attachEvent()</code>只支持事件冒泡</li>
<li><code>addEventListener()</code>的第一个参数中,事件类型不需要添加<code>on</code>; <code>attachEvent()</code>需要添加<code>&#39;on&#39;</code></li>
<li>如果为同一个元素绑定多个事件, <code>addEventListener()</code>会按照事件绑定的顺序依次执行, <code>attachEvent()</code>会按照事件绑定的顺序倒序执行</li>
</ul>
<h3 id="获取页面所有的checkbox"><a href="#获取页面所有的checkbox" class="headerlink" title="获取页面所有的checkbox"></a>获取页面所有的checkbox</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> resultArr<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> input<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> input<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">'checkbox'</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        resultArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> input<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//resultArr即中获取到了页面中的所有checkbox</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤数组去重方法总结"><a href="#❤数组去重方法总结" class="headerlink" title="❤数组去重方法总结"></a>❤数组去重方法总结</h3><p><strong>方法一、利用ES6 Set去重（ES6中最常用）</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, "true", true, 15, false, undefined, null, NaN, "NaN", 0, "a", &#123;&#125;, &#123;&#125;]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法二、利用for嵌套for，然后splice去重（ES5中最常用）</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>         <span class="token comment">//第一个等同于第二个，splice方法删除第二个</span>
                    arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    j<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, "true", 15, false, undefined, NaN, NaN, "NaN", "a", &#123;…&#125;, &#123;…&#125;]     //NaN和&#123;&#125;没有去重，两个null直接消失了</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>双层循环，外层循环元素，内层循环时比较值。值相同时，则删去这个值。</li>
<li>想快速学习更多常用的<code>ES6</code>语法</li>
</ul>
<p><strong>方法三、利用indexOf去重</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'type error!'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// [1, "true", true, 15, false, undefined, null, NaN, NaN, "NaN", 0, "a", &#123;…&#125;, &#123;…&#125;]  //NaN、&#123;&#125;没有去重</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>新建一个空的结果数组，<code>for</code> 循环原数组，判断结果数组是否存在当前元素，如果有相同的值则跳过，不相同则<code>push</code>进数组</p>
</blockquote>
<p><strong>方法四、利用sort()</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'type error!'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> arrry<span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> arr<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            arrry<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> arrry<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// [0, 1, 15, "NaN", NaN, NaN, &#123;…&#125;, &#123;…&#125;, "a", false, null, true, "true", undefined]      //NaN、&#123;&#125;没有去重</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>利用<code>sort()</code>排序方法，然后根据排序后的结果进行遍历及相邻元素比对</p>
</blockquote>
<p><strong>方法五、利用对象的属性不能相同的特点进行去重</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'type error!'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> arrry<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span>  obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            arrry<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            obj<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            obj<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> arrry<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, "true", 15, false, undefined, null, NaN, 0, "a", &#123;…&#125;]    //两个true直接去掉了，NaN和&#123;&#125;去重</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法六、利用includes</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'type error!'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> array <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span>array<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//includes 检测数组是否有某个值</span>
                    array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> array
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//[1, "true", true, 15, false, undefined, null, NaN, "NaN", 0, "a", &#123;…&#125;, &#123;…&#125;]     //&#123;&#125;没有去重</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法七、利用hasOwnProperty</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> item <span class="token operator">+</span> item<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token keyword">typeof</span> item <span class="token operator">+</span> item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, "true", true, 15, false, undefined, null, NaN, "NaN", 0, "a", &#123;…&#125;]   //所有的都去重了</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>利用<code>hasOwnProperty</code> 判断是否存在对象属性</p>
</blockquote>
<p><strong>方法八、利用filter</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//当前元素，在原始数组中的第一个索引==当前索引值，否则返回当前元素</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">===</span> index<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, "true", true, 15, false, undefined, null, "NaN", 0, "a", &#123;…&#125;, &#123;…&#125;]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法九、利用递归去重</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> array<span class="token operator">=</span> arr<span class="token punctuation">;</span>
    <span class="token keyword">var</span> len <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

	array<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token comment">//排序后更加方便去重</span>
		<span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

	<span class="token keyword">function</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">===</span> array<span class="token punctuation">[</span>index<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            array<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token function">loop</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//递归loop，然后数组去重</span>
        <span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">loop</span><span class="token punctuation">(</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, "a", "true", true, 15, false, 1, &#123;…&#125;, null, NaN, NaN, "NaN", 0, "a", &#123;…&#125;, undefined]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法十、利用Map数据结构去重</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">arrayNonRepeatfy</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 数组用于返回结果</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>map <span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 如果有该key值</span>
			map <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
			map <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 如果没有该key值</span>
			array <span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> array <span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, "a", "true", true, 15, false, 1, &#123;…&#125;, null, NaN, NaN, "NaN", 0, "a", &#123;…&#125;, undefined]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>创建一个空<code>Map</code>数据结构，遍历需要去重的数组，把数组的每一个元素作为<code>key</code>存到<code>Map</code>中。由于<code>Map</code>中不会出现相同的<code>key</code>值，所以最终得到的就是去重后的结果</p>
</blockquote>
<p><strong>方法十一、利用reduce+includes</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span>cur</span><span class="token punctuation">)</span> <span class="token operator">=></span> prev<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">?</span> prev <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>prev<span class="token punctuation">,</span>cur<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token string">'true'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span><span class="token string">'NaN'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [1, "true", true, 15, false, undefined, null, NaN, "NaN", 0, "a", &#123;…&#125;, &#123;…&#125;]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>方法十二、[…new Set(arr)]</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment">//代码就是这么少----（其实，严格来说并不算是一种，相对于第一种方法来说只是简化了代码）</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点：</strong> 对象属性、new Set() 、indexOf、hasOwnProperty、reduce+includes、filter</li>
<li><strong>标准回答：</strong><ul>
<li><strong>第一种方法：</strong>利用对象属性key排除重复项：遍历数组，每次判断对象中是否存在该属性，不存在就存储在新数组中，并且把数组元素作为key，设置一个值，存储在对象中，最后返回新数组。这个方法的<strong>优点</strong>是效率较高，<strong>缺点</strong>是占用了较多空间，使用的额外空间有一个查询对象和一个新的数组</li>
<li><strong>第二种方法：</strong>利用Set类型数据无重复项：new 一个 Set，参数为需要去重的数组，Set 会自动删除重复的元素，再将 Set 转为数组返回。这个方法的<strong>优点</strong>是效率更高，代码简单，思路清晰，<strong>缺点</strong>是可能会有兼容性问题</li>
<li><strong>第三种方法：</strong>filter+indexof 去重：这个方法和第一种方法类似，利用 Array 自带的 filter 方法，返回 arr.indexOf(num) 等于 index 的num。原理就是 indexOf 会返回最先找到的数字的索引，假设数组是 [1, 1]，在对第二个1使用 indexOf 方法时，返回的是第一个1的索引0。这个方法的<strong>优点</strong>是可以在去重的时候插入对元素的操作，可拓展性强。</li>
<li><strong>第四种方法：</strong>这个方法比较巧妙，从头遍历数组，如果元素在前面出现过，则将当前元素挪到最后面，继续遍历，直到遍历完所有元素，之后将那些被挪到后面的元素抛弃。这个方法因为是直接操作数组，占用内存较少。</li>
<li><strong>第五种方法：</strong>reduce +includes去重：这个方法就是利用reduce遍历和传入一个空数组作为去重后的新数组，然后内部判断新数组中是否存在当前遍历的元素，不存在就插入到新数组中。这种方法时间消耗多，内存空间也有额外占用。</li>
<li>方法还有很多，常用的、了解的这些就可以</li>
</ul>
</li>
<li><strong>加分回答：</strong> 以上五个方法中，在数据低于10000条的时候没有明显的差别，高于10000条，第一种和第二种的时间消耗最少，后面三种时间消耗依次增加，由于第一种内存空间消耗比较多，且现在很多项目不再考虑低版本浏览器的兼容性问题，所以建议使用第二种去重方法，简洁方便。</li>
</ul>
<h3 id="（设计题）想实现一个对页面某个节点的拖曳？如何做？（使用原生JS）"><a href="#（设计题）想实现一个对页面某个节点的拖曳？如何做？（使用原生JS）" class="headerlink" title="（设计题）想实现一个对页面某个节点的拖曳？如何做？（使用原生JS）"></a>（设计题）想实现一个对页面某个节点的拖曳？如何做？（使用原生JS）</h3><ul>
<li>给需要拖拽的节点绑定<code>mousedown</code>, <code>mousemove</code>, <code>mouseup</code>事件</li>
<li><code>mousedown</code>事件触发后，开始拖拽</li>
<li><code>mousemove</code>时，需要通过<code>event.clientX</code>和<code>clientY</code>获取拖拽位置，并实时更新位置</li>
<li><code>mouseup</code>时，拖拽结束</li>
<li>需要注意浏览器边界的情况</li>
</ul>
<h3 id="❤Javascript全局函数和全局变量"><a href="#❤Javascript全局函数和全局变量" class="headerlink" title="❤Javascript全局函数和全局变量"></a>❤Javascript全局函数和全局变量</h3><p><strong>全局变量</strong></p>
<ul>
<li><code>Infinity</code> 代表正的无穷大的数值。</li>
<li><code>NaN</code> 指示某个值是不是数字值。</li>
<li><code>undefined</code> 指示未定义的值。</li>
</ul>
<p><strong>全局函数</strong></p>
<ul>
<li><code>decodeURI()</code> 解码某个编码的 <code>URI</code>。</li>
<li><code>decodeURIComponent()</code> 解码一个编码的 <code>URI</code> 组件。</li>
<li><code>encodeURI()</code> 把字符串编码为 URI。</li>
<li><code>encodeURIComponent()</code> 把字符串编码为 <code>URI</code> 组件。</li>
<li><code>escape()</code> 对字符串进行编码。</li>
<li><code>eval()</code> 计算 <code>JavaScript</code> 字符串，并把它作为脚本代码来执行。</li>
<li><code>isFinite()</code> 检查某个值是否为有穷大的数。</li>
<li><code>isNaN()</code> 检查某个值是否是数字。</li>
<li><code>Number()</code> 把对象的值转换为数字。</li>
<li><code>parseFloat()</code> 解析一个字符串并返回一个浮点数。</li>
<li><code>parseInt()</code> 解析一个字符串并返回一个整数。</li>
<li><code>String()</code> 把对象的值转换为字符串。</li>
<li><code>unescape()</code> 对由<code>escape()</code> 编码的字符串进行解码</li>
</ul>
<h3 id="使用js实现一个持续的动画效果"><a href="#使用js实现一个持续的动画效果" class="headerlink" title="使用js实现一个持续的动画效果"></a>使用js实现一个持续的动画效果</h3><p><strong>定时器思路</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> e <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    left <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> flag <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token operator">:</span> left <span class="token operator">==</span> <span class="token number">100</span> <span class="token operator">?</span> flag <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token string">''</span>
    flag <span class="token operator">?</span> e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>left<span class="token operator">++</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>left<span class="token operator">--</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>requestAnimationFrame</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//兼容性处理</span>
window<span class="token punctuation">.</span>requestAnimFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> window<span class="token punctuation">.</span>requestAnimationFrame       <span class="token operator">||</span>
           window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span>
           window<span class="token punctuation">.</span>mozRequestAnimationFrame    <span class="token operator">||</span>
           <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> e <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"e"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    left <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> flag <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token operator">:</span> left <span class="token operator">==</span> <span class="token number">100</span> <span class="token operator">?</span> flag <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    flag <span class="token operator">?</span> e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>left<span class="token operator">++</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span>
        e<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>left<span class="token operator">--</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">animloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">requestAnimFrame</span><span class="token punctuation">(</span>animloop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>使用css实现一个持续的动画效果</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">animation</span><span class="token punctuation">:</span>mymove 5s infinite<span class="token punctuation">;</span>

<span class="token atrule"><span class="token rule">@keyframes</span> mymove</span> <span class="token punctuation">&#123;</span>
    <span class="token selector">from</span> <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
    <span class="token selector">to</span> <span class="token punctuation">&#123;</span><span class="token property">top</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><code>animation-name</code> 规定需要绑定到选择器的 <code>keyframe</code>名称。</li>
<li><code>animation-duration</code> 规定完成动画所花费的时间，以秒或毫秒计。</li>
<li><code>animation-timing-function</code> 规定动画的速度曲线。</li>
<li><code>animation-delay</code> 规定在动画开始之前的延迟。</li>
<li><code>animation-iteration-count</code> 规定动画应该播放的次数。</li>
<li><code>animation-direction</code> 规定是否应该轮流反向播放动画</li>
</ul>
<h3 id="封装一个函数，参数是定时器的时间，-then执行回调函数"><a href="#封装一个函数，参数是定时器的时间，-then执行回调函数" class="headerlink" title="封装一个函数，参数是定时器的时间，.then执行回调函数"></a>封装一个函数，参数是定时器的时间，.then执行回调函数</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sleep</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="怎么判断两个对象相等？"><a href="#怎么判断两个对象相等？" class="headerlink" title="怎么判断两个对象相等？"></a>怎么判断两个对象相等？</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js">obj<span class="token operator">=</span><span class="token punctuation">&#123;</span>
    a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">&#125;</span>
obj2<span class="token operator">=</span><span class="token punctuation">&#123;</span>
    a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">&#125;</span>
obj3<span class="token operator">=</span><span class="token punctuation">&#123;</span>
    a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span><span class="token string">'2'</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>可以转换为字符串来判断</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token operator">==</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token operator">==</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="项目做过哪些性能优化？"><a href="#项目做过哪些性能优化？" class="headerlink" title="项目做过哪些性能优化？"></a>项目做过哪些性能优化？</h3><ul>
<li>减少 <code>HTTP</code> 请求数</li>
<li>减少 <code>DNS</code> 查询</li>
<li>使用 <code>CDN</code></li>
<li>避免重定向</li>
<li>图片懒加载</li>
<li>减少 <code>DOM</code> 元素数量</li>
<li>减少<code>DOM</code> 操作</li>
<li>使用外部 <code>JavaScript</code> 和 <code>CSS</code></li>
<li>压缩 <code>JavaScript</code> 、 <code>CSS</code> 、字体、图片等</li>
<li>优化 <code>CSS Sprite</code></li>
<li>使用 <code>iconfont</code></li>
<li>字体裁剪</li>
<li>多域名分发划分内容到不同域名</li>
<li>尽量减少 <code>iframe</code> 使用</li>
<li>避免图片 <code>src</code> 为空</li>
<li>把样式表放在<code>link</code> 中</li>
<li>把<code>JavaScript</code>放在页面底部</li>
</ul>
<h3 id="浏览器缓存"><a href="#浏览器缓存" class="headerlink" title="浏览器缓存"></a>浏览器缓存</h3><blockquote>
<p>浏览器缓存分为强缓存和协商缓存。当客户端请求某个资源时，获取缓存的流程如下</p>
</blockquote>
<ul>
<li>先根据这个资源的一些 <code>http header</code> 判断它是否命中强缓存，如果命中，则直接从本地获取缓存资源，不会发请求到服务器；</li>
<li>当强缓存没有命中时，客户端会发送请求到服务器，服务器通过另一些<code>request header</code>验证这个资源是否命中协商缓存，称为<code>http</code>再验证，如果命中，服务器将请求返回，但不返回资源，而是告诉客户端直接从缓存中获取，客户端收到返回后就会从缓存中获取资源；</li>
<li>强缓存和协商缓存共同之处在于，如果命中缓存，服务器都不会返回资源； 区别是，强缓存不对发送请求到服务器，但协商缓存会。</li>
<li>当协商缓存也没命中时，服务器就会将资源发送回客户端。</li>
<li>当 <code>ctrl+f5</code> 强制刷新网页时，直接从服务器加载，跳过强缓存和协商缓存；</li>
<li>当 <code>f5</code>刷新网页时，跳过强缓存，但是会检查协商缓存；</li>
</ul>
<p><strong>强缓存</strong></p>
<ul>
<li><code>Expires</code>（该字段是 <code>http1.0</code> 时的规范，值为一个绝对时间的 <code>GMT</code> 格式的时间字符串，代表缓存资源的过期时间）</li>
<li><code>Cache-Control:max-age</code>（该字段是 <code>http1.1</code>的规范，强缓存利用其 <code>max-age</code> 值来判断缓存资源的最大生命周期，它的值单位为秒）</li>
</ul>
<p><strong>协商缓存</strong></p>
<ul>
<li><code>Last-Modified</code>（值为资源最后更新时间，随服务器response返回）</li>
<li><code>If-Modified-Since</code>（通过比较两个时间来判断资源在两次请求期间是否有过修改，如果没有修改，则命中协商缓存）</li>
<li><code>ETag</code>（表示资源内容的唯一标识，随服务器<code>response</code>返回）</li>
<li><code>If-None-Match</code>（服务器通过比较请求头部的<code>If-None-Match</code>与当前资源的<code>ETag</code>是否一致来判断资源是否在两次请求之间有过修改，如果没有修改，则命中协商缓存）</li>
</ul>
<h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><blockquote>
<p>由于 <code>http</code> 存在一个明显的弊端（消息只能有客户端推送到服务器端，而服务器端不能主动推送到客户端），导致如果服务器如果有连续的变化，这时只能使用轮询，而轮询效率过低，并不适合。于是 <code>WebSocket</code>被发明出来</p>
</blockquote>
<blockquote>
<p>相比与 <code>http</code> 具有以下有点</p>
</blockquote>
<ul>
<li>支持双向通信，实时性更强；</li>
<li>可以发送文本，也可以二进制文件；</li>
<li>协议标识符是 <code>ws</code>，加密后是 <code>wss</code> ；</li>
<li>较少的控制开销。连接创建后，<code>ws</code>客户端、服务端进行数据交换时，协议控制的数据包头部较小。在不包含头部的情况下，服务端到客户端的包头只有<code>2~10</code>字节（取决于数据包长度），客户端到服务端的的话，需要加上额外的4字节的掩码。而<code>HTTP</code>协议每次通信都需要携带完整的头部；</li>
<li>支持扩展。ws协议定义了扩展，用户可以扩展协议，或者实现自定义的子协议。（比如支持自定义压缩算法等）</li>
<li>无跨域问题。</li>
</ul>
<blockquote>
<p>实现比较简单，服务端库如 <code>socket.io</code>、<code>ws</code>，可以很好的帮助我们入门。而客户端也只需要参照 <code>api</code> 实现即可</p>
</blockquote>
<h3 id="尽可能多的说出你对-Electron-的理解"><a href="#尽可能多的说出你对-Electron-的理解" class="headerlink" title="尽可能多的说出你对 Electron 的理解"></a>尽可能多的说出你对 Electron 的理解</h3><blockquote>
<p>最最重要的一点，<code>electron</code> 实际上是一个套了 <code>Chrome</code> 的 <code>nodeJS</code>程序</p>
</blockquote>
<p><strong>所以应该是从两个方面说开来</strong></p>
<ul>
<li><code>Chrome</code> （无各种兼容性问题）；</li>
<li><code>NodeJS</code>（<code>NodeJS</code> 能做的它也能做）</li>
</ul>
<h3 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h3><p><strong>浅拷贝</strong></p>
<ul>
<li><code>Object.assign</code></li>
<li>或者展开运算符</li>
</ul>
<p><strong>深拷贝</strong></p>
<ul>
<li>可以通过 <code>JSON.parse(JSON.stringify(object))</code> 来解决</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    jobs<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        first<span class="token operator">:</span> <span class="token string">'FE'</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token string">'native'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token comment">// FE</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>该方法也是有局限性的</strong></p>
<ul>
<li>会忽略 <code>undefined</code></li>
<li>不能序列化函数</li>
<li>不能解决循环引用的对象</li>
</ul>
<h3 id="❤防抖-节流"><a href="#❤防抖-节流" class="headerlink" title="❤防抖/节流"></a>❤防抖/节流</h3><p><strong>防抖</strong></p>
<blockquote>
<p>在滚动事件中需要做个复杂计算或者实现一个按钮的防二次点击操作。可以通过函数防抖动来实现</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 使用 underscore 的源码来解释防抖动</span>

<span class="token comment">/**
 * underscore 防抖函数，返回函数连续调用时，空闲时间必须大于或等于 wait，func 才会执行
 *
 * @param  &#123;function&#125; func        回调函数
 * @param  &#123;number&#125;   wait        表示时间窗口的间隔
 * @param  &#123;boolean&#125;  immediate   设置为ture时，是否立即调用函数
 * @return &#123;function&#125;             返回客户调用函数
 */</span>
_<span class="token punctuation">.</span><span class="token function-variable function">debounce</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> immediate</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> timeout<span class="token punctuation">,</span> args<span class="token punctuation">,</span> context<span class="token punctuation">,</span> timestamp<span class="token punctuation">,</span> result<span class="token punctuation">;</span>

    <span class="token keyword">var</span> <span class="token function-variable function">later</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 现在和上一次时间戳比较</span>
      <span class="token keyword">var</span> last <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> timestamp<span class="token punctuation">;</span>
      <span class="token comment">// 如果当前间隔时间少于设定时间且大于0就重新设置定时器</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>last <span class="token operator">&lt;</span> wait <span class="token operator">&amp;&amp;</span> last <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> wait <span class="token operator">-</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 否则的话就是时间到了执行回调函数</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          result <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
      <span class="token comment">// 获得时间戳</span>
      timestamp <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 如果定时器不存在且立即执行函数</span>
      <span class="token keyword">var</span> callNow <span class="token operator">=</span> immediate <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>timeout<span class="token punctuation">;</span>
      <span class="token comment">// 如果定时器不存在就创建一个</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 如果需要立即执行函数的话 通过 apply 执行</span>
        result <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>

      <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>整体函数实现</p>
</blockquote>
<p>对于按钮防点击来说的实现</p>
<ul>
<li>开始一个定时器，只要我定时器还在，不管你怎么点击都不会执行回调函数。一旦定时器结束并设置为 null，就可以再次点击了</li>
<li>对于延时执行函数来说的实现：每次调用防抖动函数都会判断本次调用和之前的时间间隔，如果小于需要的时间间隔，就会重新创建一个定时器，并且定时器的延时为设定时间减去之前的时间间隔。一旦时间到了，就会执行相应的回调函数</li>
</ul>
<p><strong>节流</strong></p>
<blockquote>
<p>防抖动和节流本质是不一样的。防抖动是将多次执行变为最后一次执行，节流是将多次执行变成每隔一段时间执行</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
 * underscore 节流函数，返回函数连续调用时，func 执行频率限定为 次 / wait
 *
 * @param  &#123;function&#125;   func      回调函数
 * @param  &#123;number&#125;     wait      表示时间窗口的间隔
 * @param  &#123;object&#125;     options   如果想忽略开始函数的的调用，传入&#123;leading: false&#125;。
 *                                如果想忽略结尾函数的调用，传入&#123;trailing: false&#125;
 *                                两者不能共存，否则函数不能执行
 * @return &#123;function&#125;             返回客户调用函数
 */</span>
_<span class="token punctuation">.</span><span class="token function-variable function">throttle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> context<span class="token punctuation">,</span> args<span class="token punctuation">,</span> result<span class="token punctuation">;</span>
    <span class="token keyword">var</span> timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// 之前的时间戳</span>
    <span class="token keyword">var</span> previous <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// 如果 options 没传则设为空对象</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">)</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token comment">// 定时器回调函数</span>
    <span class="token keyword">var</span> <span class="token function-variable function">later</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 如果设置了 leading，就将 previous 设为 0</span>
      <span class="token comment">// 用于下面函数的第一个 if 判断</span>
      previous <span class="token operator">=</span> options<span class="token punctuation">.</span>leading <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> _<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 置空一是为了防止内存泄漏，二是为了下面的定时器判断</span>
      timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      result <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 获得当前时间戳</span>
      <span class="token keyword">var</span> now <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 首次进入前者肯定为 true</span>
	  <span class="token comment">// 如果需要第一次不执行函数</span>
	  <span class="token comment">// 就将上次时间戳设为当前的</span>
      <span class="token comment">// 这样在接下来计算 remaining 的值时会大于0</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>previous <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>leading <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> previous <span class="token operator">=</span> now<span class="token punctuation">;</span>
      <span class="token comment">// 计算剩余时间</span>
      <span class="token keyword">var</span> remaining <span class="token operator">=</span> wait <span class="token operator">-</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> previous<span class="token punctuation">)</span><span class="token punctuation">;</span>
      context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
      <span class="token comment">// 如果当前调用已经大于上次调用时间 + wait</span>
      <span class="token comment">// 或者用户手动调了时间</span>
 	  <span class="token comment">// 如果设置了 trailing，只会进入这个条件</span>
	  <span class="token comment">// 如果没有设置 leading，那么第一次会进入这个条件</span>
	  <span class="token comment">// 还有一点，你可能会觉得开启了定时器那么应该不会进入这个 if 条件了</span>
	  <span class="token comment">// 其实还是会进入的，因为定时器的延时</span>
	  <span class="token comment">// 并不是准确的时间，很可能你设置了2秒</span>
	  <span class="token comment">// 但是他需要2.2秒才触发，这时候就会进入这个条件</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>remaining <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> remaining <span class="token operator">></span> wait<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 如果存在定时器就清理掉否则会调用二次回调</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
          timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        previous <span class="token operator">=</span> now<span class="token punctuation">;</span>
        result <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>trailing <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 判断是否设置了定时器和 trailing</span>
	    <span class="token comment">// 没有的话就开启一个定时器</span>
        <span class="token comment">// 并且不能不能同时设置 leading 和 trailing</span>
        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> remaining<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="什么是单线程，和异步的关系"><a href="#什么是单线程，和异步的关系" class="headerlink" title="什么是单线程，和异步的关系"></a>什么是单线程，和异步的关系</h3><ul>
<li>单线程 - 只有一个线程，只能做一件事</li>
<li>原因 - 避免<code>DOM</code>渲染的冲突<ul>
<li>浏览器需要渲染 <code>DOM</code></li>
<li><code>JS</code> 可以修改 <code>DOM</code> 结构</li>
<li><code>JS</code> 执行的时候，浏览器 <code>DOM</code> 渲染会暂停</li>
<li>两段 JS 也不能同时执行（都修改 <code>DOM</code> 就冲突了）</li>
<li><code>webworker</code> 支持多线程，但是不能访问 <code>DOM</code></li>
</ul>
</li>
<li>解决方案 - 异步</li>
</ul>
<h3 id="是否用过-jQuery-的-Deferred"><a href="#是否用过-jQuery-的-Deferred" class="headerlink" title="是否用过 jQuery 的 Deferred"></a>是否用过 jQuery 的 Deferred</h3><p><img data-src="https://s.poetries.work/gitee/2020/07/7.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/8.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/9.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/10.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/11.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/12.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/13.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/14.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/15.png" alt="img"> <img data-src="https://s.poetries.work/gitee/2020/07/16.png" alt="img"></p>
<h3 id="前端面试之hybrid"><a href="#前端面试之hybrid" class="headerlink" title="前端面试之hybrid"></a>前端面试之hybrid</h3><blockquote>
<p><span class="exturl" data-url="aHR0cDovL2Jsb2cucG9ldHJpZXMudG9wLzIwMTgvMTAvMjAvZmUtaW50ZXJ2aWV3LWh5YnJpZC8=">http://blog.poetries.top/2018/10/20/fe-interview-hybrid/(opens new window)<i class="fa fa-external-link-alt"></i></span></p>
</blockquote>
<h3 id="前端面试之组件化"><a href="#前端面试之组件化" class="headerlink" title="前端面试之组件化"></a>前端面试之组件化</h3><blockquote>
<p><span class="exturl" data-url="aHR0cDovL2Jsb2cucG9ldHJpZXMudG9wLzIwMTgvMTAvMjAvZmUtaW50ZXJ2aWV3LWNvbXBvbmVudC8=">http://blog.poetries.top/2018/10/20/fe-interview-component/(opens new window)<i class="fa fa-external-link-alt"></i></span></p>
</blockquote>
<h3 id="前端面试之MVVM浅析"><a href="#前端面试之MVVM浅析" class="headerlink" title="前端面试之MVVM浅析"></a>前端面试之MVVM浅析</h3><blockquote>
<p><span class="exturl" data-url="aHR0cDovL2Jsb2cucG9ldHJpZXMudG9wLzIwMTgvMTAvMjAvZmUtaW50ZXJ2aWV3LW12dm0v">http://blog.poetries.top/2018/10/20/fe-interview-mvvm/(opens new window)<i class="fa fa-external-link-alt"></i></span></p>
</blockquote>
<h3 id="实现效果，点击容器内的图标，图标边框变成border-1px-solid-red，点击空白处重置"><a href="#实现效果，点击容器内的图标，图标边框变成border-1px-solid-red，点击空白处重置" class="headerlink" title="实现效果，点击容器内的图标，图标边框变成border 1px solid red，点击空白处重置"></a>实现效果，点击容器内的图标，图标边框变成border 1px solid red，点击空白处重置</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">isIcon</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> target<span class="token punctuation">.</span>className<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'icon'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

box<span class="token punctuation">.</span><span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isIcon</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">'1px solid red'</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> doc <span class="token operator">=</span> document<span class="token punctuation">;</span>
doc<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> children <span class="token operator">=</span> box<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isIcon</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="实现Storage，使得该对象为单例，并对localStorage进行封装设置值setItem-key-value-和getItem-key"><a href="#实现Storage，使得该对象为单例，并对localStorage进行封装设置值setItem-key-value-和getItem-key" class="headerlink" title="实现Storage，使得该对象为单例，并对localStorage进行封装设置值setItem(key,value)和getItem(key)"></a>实现Storage，使得该对象为单例，并对<code>localStorage</code>进行封装设置值setItem(key,value)和getItem(key)</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Storage</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">static</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function-variable function">setItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=></span> localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getItem</span> <span class="token operator">=</span> <span class="token parameter">key</span> <span class="token operator">=></span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="❤事件循环Event-loop，宏任务与微任务"><a href="#❤事件循环Event-loop，宏任务与微任务" class="headerlink" title="❤事件循环Event loop，宏任务与微任务"></a>❤事件循环<code>Event loop</code>，宏任务与微任务</h3><blockquote>
<p>首先，<code>js</code>是单线程的，主要的任务是处理用户的交互，而用户的交互无非就是响应<code>DOM</code>的增删改，使用事件队列的形式，一次事件循环只处理一个事件响应，使得脚本执行相对连续，所以有了事件队列，用来储存待执行的事件，那么事件队列的事件从哪里被<code>push</code>进来的呢。那就是另外一个线程叫事件触发线程做的事情了，他的作用主要是在定时触发器线程、异步<code>HTTP</code>请求线程满足特定条件下的回调函数<code>push</code>到事件队列中，等待<code>js</code>引擎空闲的时候去执行，当然js引擎执行过程中有优先级之分，首先js引擎在一次事件循环中，会先执行js线程的主任务，然后会去查找是否有微任务<code>microtask（promise）</code>，如果有那就优先执行微任务，如果没有，在去查找宏任务<code>macrotask（setTimeout、setInterval）</code>进行执行</p>
</blockquote>
<blockquote>
<p>众所周知 <code>JS</code> 是门非阻塞单线程语言，因为在最初 <code>JS</code> 就是为了和浏览器交互而诞生的。如果 <code>JS</code> 是门多线程的语言话，我们在多个线程中处理 <code>DOM</code> 就可能会发生问题（一个线程中新加节点，另一个线程中删除节点）</p>
</blockquote>
<ul>
<li><code>JS</code> 在执行的过程中会产生执行环境，这些执行环境会被顺序的加入到执行栈中。如果遇到异步的代码，会被挂起并加入到 <code>Task</code>（有多种 <code>task</code>） 队列中。一旦执行栈为空，<code>Event</code> <code>Loop</code> 就会从 <code>Task</code> 队列中拿出需要执行的代码并放入执行栈中执行，所以本质上来说 <code>JS</code> 中的异步还是同步行为</li>
</ul>
<p><img data-src="https://s.poetries.work/gitee/2020/09/101.png" alt="img"></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>不同的任务源会被分配到不同的 <code>Task</code> 队列中，任务源可以分为 微任务（<code>microtask</code>） 和 宏任务（<code>macrotask</code>）。在 <code>ES6</code> 规范中，<code>microtask</code> 称为 <code>jobs</code>，<code>macrotask</code> 称为 <code>task</code></p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise'</span><span class="token punctuation">)</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// script start => Promise => script end => promise1 => promise2 => setTimeout</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>以上代码虽然 <code>setTimeout</code> 写在 <code>Promise</code> 之前，但是因为 <code>Promise</code> 属于微任务而 <code>setTimeout</code> 属于宏任务</p>
</blockquote>
<p><strong>微任务</strong></p>
<ul>
<li><code>process.nextTick</code></li>
<li><code>promise</code></li>
<li><code>Object.observe</code></li>
<li><code>MutationObserver</code></li>
</ul>
<p><strong>宏任务</strong></p>
<ul>
<li><code>script</code></li>
<li><code>setTimeout</code></li>
<li><code>setInterval</code></li>
<li><code>setImmediate</code></li>
<li><code>I/O</code></li>
<li><code>UI rendering</code></li>
</ul>
<blockquote>
<p>宏任务中包括了 <code>script</code> ，浏览器会先执行一个宏任务，接下来有异步代码的话就先执行微任务</p>
</blockquote>
<p><strong>所以正确的一次 Event loop 顺序是这样的</strong></p>
<ul>
<li>执行同步代码，这属于宏任务</li>
<li>执行栈为空，查询是否有微任务需要执行</li>
<li>执行所有微任务</li>
<li>必要的话渲染 UI</li>
<li>然后开始下一轮 <code>Event loop</code>，执行宏任务中的异步代码</li>
</ul>
<blockquote>
<p>通过上述的 <code>Event loop</code> 顺序可知，如果宏任务中的异步代码有大量的计算并且需要操作 <code>DOM</code> 的话，为了更快的响应界面响应，我们可以把操作 <code>DOM</code> 放入微任务中</p>
</blockquote>
<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 任务挂起、同步任务执行结束执行队列中的异步任务、执行script标签内部代码、setTimeout/setInterval、ajax请、postMessageMessageChannel、setImmediate、I/O（Node.js）Promise、MutonObserver、Object.observe、process.nextTick（Node.js）每个宏任务中都包含了一个微任务队列</li>
<li><strong>标准回答</strong> 浏览器的事件循环：执行js代码的时候，遇见同步任务，直接推入调用栈中执行，遇到异步任务，将该任务挂起，等到异步任务有返回之后推入到任务队列中，当调用栈中的所有同步任务全部执行完成，将任务队列中的任务按顺序一个一个的推入并执行，重复执行这一系列的行为。<ul>
<li>异步任务又分为宏任务和微任务。</li>
<li>宏任务：任务队列中的任务称为宏任务，每个宏任务中都包含了一个微任务队列。</li>
<li>微任务：等宏任务中的主要功能都完成后，渲染引擎不急着去执行下一个宏任务，而是执行当前宏任务中的微任务</li>
<li>宏任务包含：执行script标签内部代码、setTimeout/setInterval、ajax请、postMessageMessageChannel、setImmediate，I/O（Node.js）</li>
<li>微任务包含：Promise、MutonObserver、Object.observe、process.nextTick（Node.js）</li>
</ul>
</li>
<li><strong>加分回答</strong> 浏览器和Node 环境下，microtask 任务队列的执行时机不同<ul>
<li>Node端，microtask 在事件循环的各个阶段之间执行</li>
<li>浏览器端，microtask 在事件循环的 macrotask 执行完之后执行</li>
</ul>
</li>
</ul>
<h3 id="说说事件流"><a href="#说说事件流" class="headerlink" title="说说事件流"></a>说说事件流</h3><p><strong>事件流分为两种，捕获事件流和冒泡事件流</strong></p>
<ul>
<li>捕获事件流从根节点开始执行，一直往子节点查找执行，直到查找执行到目标节点</li>
<li>冒泡事件流从目标节点开始执行，一直往父节点冒泡查找执行，直到查到到根节点</li>
</ul>
<blockquote>
<p>事件流分为三个阶段，一个是捕获节点，一个是处于目标节点阶段，一个是冒泡阶段</p>
</blockquote>
<h3 id="JavaScript-对象生命周期的理解"><a href="#JavaScript-对象生命周期的理解" class="headerlink" title="JavaScript 对象生命周期的理解"></a>JavaScript 对象生命周期的理解</h3><ul>
<li>当创建一个对象时，<code>JavaScript</code> 会自动为该对象分配适当的内存</li>
<li>垃圾回收器定期扫描对象，并计算引用了该对象的其他对象的数量</li>
<li>如果被引用数量为 <code>0</code>，或惟一引用是循环的，那么该对象的内存即可回收</li>
</ul>
<h3 id="我现在有一个canvas，上面随机布着一些黑块，请实现方法，计算canvas上有多少个黑块"><a href="#我现在有一个canvas，上面随机布着一些黑块，请实现方法，计算canvas上有多少个黑块" class="headerlink" title="我现在有一个canvas，上面随机布着一些黑块，请实现方法，计算canvas上有多少个黑块"></a>我现在有一个<code>canvas</code>，上面随机布着一些黑块，请实现方法，计算canvas上有多少个黑块</h3><blockquote>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9mNTRkMjY1ZjdhYTQ=">https://www.jianshu.com/p/f54d265f7aa4<i class="fa fa-external-link-alt"></i></span></p>
</blockquote>
<h3 id="请手写实现一个promise"><a href="#请手写实现一个promise" class="headerlink" title="请手写实现一个promise"></a>请手写实现一个<code>promise</code></h3><blockquote>
<p><span class="exturl" data-url="aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAxMzM5NjYwMQ==">https://segmentfault.com/a/1190000013396601<i class="fa fa-external-link-alt"></i></span></p>
</blockquote>
<h3 id="说说从输入URL到看到页面发生的全过程，越详细越好"><a href="#说说从输入URL到看到页面发生的全过程，越详细越好" class="headerlink" title="说说从输入URL到看到页面发生的全过程，越详细越好"></a>说说从输入URL到看到页面发生的全过程，越详细越好</h3><ul>
<li>首先浏览器主进程接管，开了一个下载线程。</li>
<li>然后进行HTTP请求（DNS查询、IP寻址等等），中间会有三次捂手，等待响应，开始下载响应报文。</li>
<li>将下载完的内容转交给Renderer进程管理。</li>
<li>Renderer进程开始解析css rule tree和dom tree，这两个过程是并行的，所以一般我会把link标签放在页面顶部。</li>
<li>解析绘制过程中，当浏览器遇到link标签或者script、img等标签，浏览器会去下载这些内容，遇到时候缓存的使用缓存，不适用缓存的重新下载资源。</li>
<li>css rule tree和dom tree生成完了之后，开始合成render tree，这个时候浏览器会进行layout，开始计算每一个节点的位置，然后进行绘制。</li>
<li>绘制结束后，关闭TCP连接，过程有四次挥手</li>
</ul>
<h3 id="说一下浏览器的缓存机制"><a href="#说一下浏览器的缓存机制" class="headerlink" title="说一下浏览器的缓存机制"></a>说一下浏览器的缓存机制</h3><blockquote>
<p>浏览器缓存机制有两种，一种为强缓存，一种为协商缓存</p>
</blockquote>
<ul>
<li>对于强缓存，浏览器在第一次请求的时候，会直接下载资源，然后缓存在本地，第二次请求的时候，直接使用缓存。</li>
<li>对于协商缓存，第一次请求缓存且保存缓存标识与时间，重复请求向服务器发送缓存标识和最后缓存时间，服务端进行校验，如果失效则使用缓存</li>
</ul>
<p><strong>协商缓存相关设置</strong></p>
<ul>
<li><code>Exprires</code>：服务端的响应头，第一次请求的时候，告诉客户端，该资源什么时候会过期。<code>Exprires</code>的缺陷是必须保证服务端时间和客户端时间严格同步。</li>
<li><code>Cache-control：max-age</code>：表示该资源多少时间后过期，解决了客户端和服务端时间必须同步的问题，</li>
<li><code>If-None-Match/ETag</code>：缓存标识，对比缓存时使用它来标识一个缓存，第一次请求的时候，服务端会返回该标识给客户端，客户端在第二次请求的时候会带上该标识与服务端进行对比并返回<code>If-None-Match</code>标识是否表示匹配。</li>
<li><code>Last-modified/If-Modified-Since</code>：第一次请求的时候服务端返回<code>Last-modified</code>表明请求的资源上次的修改时间，第二次请求的时候客户端带上请求头<code>If-Modified-Since</code>，表示资源上次的修改时间，服务端拿到这两个字段进行对比</li>
</ul>
<h3 id="现在要你完成一个Dialog组件，说说你设计的思路？它应该有什么功能？"><a href="#现在要你完成一个Dialog组件，说说你设计的思路？它应该有什么功能？" class="headerlink" title="现在要你完成一个Dialog组件，说说你设计的思路？它应该有什么功能？"></a>现在要你完成一个Dialog组件，说说你设计的思路？它应该有什么功能？</h3><ul>
<li>该组件需要提供<code>hook</code>指定渲染位置，默认渲染在body下面。</li>
<li>然后改组件可以指定外层样式，如宽度等</li>
<li>组件外层还需要一层<code>mask</code>来遮住底层内容，点击<code>mask</code>可以执行传进来的<code>onCancel</code>函数关闭<code>Dialog</code>。</li>
<li>另外组件是可控的，需要外层传入<code>visible</code>表示是否可见。</li>
<li>然后<code>Dialog</code>可能需要自定义头head和底部<code>footer</code>，默认有头部和底部，底部有一个确认按钮和取消按钮，确认按钮会执行外部传进来的<code>onOk</code>事件，然后取消按钮会执行外部传进来的<code>onCancel</code>事件。</li>
<li>当组件的<code>visible</code>为<code>true</code>时候，设置<code>body</code>的<code>overflow</code>为<code>hidden</code>，隐藏<code>body</code>的滚动条，反之显示滚动条。</li>
<li>组件高度可能大于页面高度，组件内部需要滚动条。</li>
<li>只有组件的<code>visible</code>有变化且为<code>ture</code>时候，才重渲染组件内的所有内容</li>
</ul>
<h3 id="caller和callee的区别"><a href="#caller和callee的区别" class="headerlink" title="caller和callee的区别"></a><code>caller</code>和<code>callee</code>的区别</h3><p><strong>callee</strong></p>
<blockquote>
<p><code>caller</code>返回一个函数的引用，这个函数调用了当前的函数。</p>
</blockquote>
<p><strong>使用这个属性要注意</strong></p>
<ul>
<li>这个属性只有当函数在执行时才有用</li>
<li>如果在<code>javascript</code>程序中，函数是由顶层调用的，则返回<code>null</code></li>
</ul>
<blockquote>
<p><code>functionName.caller: functionName</code>是当前正在执行的函数。</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>caller<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>callee</strong></p>
<blockquote>
<p><code>callee</code>放回正在执行的函数本身的引用，它是<code>arguments</code>的一个属性</p>
</blockquote>
<blockquote>
<p>使用callee时要注意:</p>
</blockquote>
<ul>
<li>这个属性只有在函数执行时才有效</li>
<li>它有一个<code>length</code>属性，可以用来获得形参的个数，因此可以用来比较形参和实参个数是否一致，即比较<code>arguments.length</code>是否等于<code>arguments.callee.length</code></li>
<li>它可以用来递归匿名函数。</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>callee<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="ajax、axios、fetch区别"><a href="#ajax、axios、fetch区别" class="headerlink" title="ajax、axios、fetch区别"></a>ajax、axios、fetch区别</h3><p><strong>jQuery ajax</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
   type<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
   url<span class="token operator">:</span> url<span class="token punctuation">,</span>
   data<span class="token operator">:</span> data<span class="token punctuation">,</span>
   dataType<span class="token operator">:</span> dataType<span class="token punctuation">,</span>
   <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
   <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>优缺点：</p>
<ul>
<li>本身是针对<code>MVC</code>的编程,不符合现在前端<code>MVVM</code>的浪潮</li>
<li>基于原生的<code>XHR</code>开发，<code>XHR</code>本身的架构不清晰，已经有了<code>fetch</code>的替代方案</li>
<li><code>JQuery</code>整个项目太大，单纯使用<code>ajax</code>却要引入整个<code>JQuery</code>非常的不合理（采取个性化打包的方案又不能享受CDN服务）</li>
</ul>
<p><strong>axios</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    method<span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">'/user/12345'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        firstName<span class="token operator">:</span> <span class="token string">'Fred'</span><span class="token punctuation">,</span>
        lastName<span class="token operator">:</span> <span class="token string">'Flintstone'</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>优缺点：</p>
<ul>
<li>从浏览器中创建 <code>XMLHttpRequest</code></li>
<li>从 <code>node.js</code> 发出 <code>http</code> 请求</li>
<li>支持 <code>Promise API</code></li>
<li>拦截请求和响应</li>
<li>转换请求和响应数据</li>
<li>取消请求</li>
<li>自动转换<code>JSON</code>数据</li>
<li>客户端支持防止<code>CSRF/XSRF</code></li>
</ul>
<p><strong>fetch</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Oops, error"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>优缺点：</p>
<ul>
<li><code>fetcht</code>只对网络请求报错，对<code>400</code>，<code>500</code>都当做成功的请求，需要封装去处理</li>
<li><code>fetch</code>默认不会带<code>cookie</code>，需要添加配置项</li>
<li><code>fetch</code>不支持<code>abort</code>，不支持超时控制，使用<code>setTimeout</code>及<code>Promise.reject</code>的实现的超时控制并不能阻止请求过程继续在后台运行，造成了量的浪费</li>
<li><code>fetch</code>没有办法原生监测请求的进度，而XHR可以</li>
</ul>
<h3 id="❤axios的拦截器原理及应用"><a href="#❤axios的拦截器原理及应用" class="headerlink" title="❤axios的拦截器原理及应用"></a>❤axios的拦截器原理及应用</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 请求（request）拦截器、响应（response）拦截器、Promise控制执行顺序、每个请求带上相应的参数、返回的状态进行判断（token是否过期）</li>
<li><strong>标准回答</strong><ul>
<li>axios的拦截器的<strong>应用场景</strong>： 请求拦截器用于在接口请求之前做的处理，比如为每个请求带上相应的参数（token，时间戳等）。 返回拦截器用于在接口返回之后做的处理，比如对返回的状态进行判断（token是否过期）。 axios为开发者提供了这样一个API：拦截器。拦截器分为 请求（request）拦截器和 响应（response）拦截器。</li>
<li>拦截器<strong>原理</strong>：创建一个chn数组，数组中保存了拦截器相应方法以及<code>dispatchRequest</code>（dispatchRequest这个函数调用才会真正的开始下发请求），把请求拦截器的方法放到chn数组中<code>dispatchRequest</code>的前面，把响应拦截器的方法放到chn数组中<code>dispatchRequest</code>的后面，把请求拦截器和相应拦截器<code>forEach</code>将它们分<code>unshift</code>,<code>push</code>到chn数组中，为了保证它们的执行顺序，需要使用<code>promise</code>，以出队列的方式对chn数组中的方法挨个执行。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。从浏览器中创建 <code>XMLHttpRequests</code>,从 node.js 创建 http 请求,支持 Promise API,可拦截请求和响应，可转换请求数据和响应数据，可取消请求，可自动转换 JSON 数据，客户端支持防御 XSRF</li>
</ul>
</li>
</ul>
<h3 id="❤fetch-请求方式"><a href="#❤fetch-请求方式" class="headerlink" title="❤fetch 请求方式"></a>❤fetch 请求方式</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> Fetch函数就是原生js、没有使用<code>XMLHttpRequest</code>对象、头部信息、请求信息、响应信息等均分布到不同的对象</li>
<li><strong>标准回答</strong><ul>
<li>fetch是一种HTTP数据请求的方式，是<code>XMLHttpRequest</code>的一种替代方案。<code>Fetch</code>函数就是原生js，没有使用<code>XMLHttpRequest</code>对象。<code>fetch()</code>方法返回一个<code>Promise</code>解析<code>Response</code>来自<code>Request</code>显示状态（成功与否）的方法。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>XMLHttpRequest的问题<ul>
<li>所有的功能全部集中在一个对象上, 容易书写出混乱而且不容易维护的代码 -采用传统的事件驱动模式, 无法适配新的 Promise API Fetch API的特点</li>
<li>精细的功能分割: 头部信息, 请求信息, 响应信息等均分布到不同的对象, 更利于处理各种复杂的数据交互场景</li>
<li>使用Promise API, 更利于异步代码的书写</li>
<li>同源请求也可以自定义不带 cookie，某些服务不需要 cookie 场景下能少些流量</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="JavaScript的组成"><a href="#JavaScript的组成" class="headerlink" title="JavaScript的组成"></a>JavaScript的组成</h3><ul>
<li><code>JavaScript</code>由以下三部分组成：<ul>
<li><code>ECMAScript（核心）：</code>JavaScript` 语言基础</li>
<li><code>DOM</code>（文档对象模型）：规定了访问<code>HTML</code>和<code>XML</code>的接口</li>
<li><code>BOM</code>（浏览器对象模型）：提供了浏览器窗口之间进行交互的对象和方法</li>
</ul>
</li>
</ul>
<h3 id="检测浏览器版本版本有哪些方式？"><a href="#检测浏览器版本版本有哪些方式？" class="headerlink" title="检测浏览器版本版本有哪些方式？"></a>检测浏览器版本版本有哪些方式？</h3><ul>
<li>根据 <code>navigator.userAgent</code> <code>UA.toLowerCase().indexOf(&#39;chrome&#39;)</code></li>
<li>根据 <code>window</code> 对象的成员 <code>&#39;ActiveXObject&#39; in window</code></li>
</ul>
<h3 id="介绍JS有哪些内置对象"><a href="#介绍JS有哪些内置对象" class="headerlink" title="介绍JS有哪些内置对象"></a>介绍JS有哪些内置对象</h3><ul>
<li>数据封装类对象：<code>Object</code>、<code>Array</code>、<code>Boolean</code>、<code>Number</code>、<code>String</code></li>
<li>其他对象：<code>Function</code>、<code>Arguments</code>、<code>Math</code>、<code>Date</code>、<code>RegExp</code>、<code>Error</code></li>
<li>ES6新增对象：<code>Symbol</code>、<code>Map</code>、<code>Set</code>、<code>Promises</code>、<code>Proxy</code>、<code>Reflect</code></li>
</ul>
<h3 id="说几条写JavaScript的基本规范-1"><a href="#说几条写JavaScript的基本规范-1" class="headerlink" title="说几条写JavaScript的基本规范"></a>说几条写JavaScript的基本规范</h3><ul>
<li>代码缩进，建议使用“四个空格”缩进</li>
<li>代码段使用花括号<code>&#123;&#125;</code>包裹</li>
<li>语句结束使用分号;</li>
<li>变量和函数在使用前进行声明</li>
<li>以大写字母开头命名构造函数，全大写命名常量</li>
<li>规范定义<code>JSON</code>对象，补全双引号</li>
<li>用<code>&#123;&#125;</code>和<code>[]</code>声明对象和数组</li>
</ul>
<h3 id="如何编写高性能的JavaScript"><a href="#如何编写高性能的JavaScript" class="headerlink" title="如何编写高性能的JavaScript"></a>如何编写高性能的JavaScript</h3><ul>
<li>遵循严格模式：<code>&quot;use strict&quot;;</code></li>
<li>将js脚本放在页面底部，加快渲染页面</li>
<li>将js脚本将脚本成组打包，减少请求</li>
<li>使用非阻塞方式下载js脚本</li>
<li>尽量使用局部变量来保存全局变量</li>
<li>尽量减少使用闭包</li>
<li>使用 <code>window</code> 对象属性方法时，省略 <code>window</code></li>
<li>尽量减少对象成员嵌套</li>
<li>缓存 <code>DOM</code> 节点的访问</li>
<li>通过避免使用 <code>eval()</code> 和 <code>Function()</code> 构造器</li>
<li>给 <code>setTimeout()</code> 和 <code>setInterval()</code> 传递函数而不是字符串作为参数</li>
<li>尽量使用直接量创建对象和数组</li>
<li>最小化重绘(<code>repaint</code>)和回流(<code>reflow</code>)</li>
</ul>
<h3 id="描述浏览器的渲染过程，DOM树和渲染树的区别"><a href="#描述浏览器的渲染过程，DOM树和渲染树的区别" class="headerlink" title="描述浏览器的渲染过程，DOM树和渲染树的区别"></a>描述浏览器的渲染过程，DOM树和渲染树的区别</h3><ul>
<li>浏览器的渲染过程：<ul>
<li>解析<code>HTML</code>构建 <code>DOM</code>(DOM树)，并行请求 <code>css/image/js</code></li>
<li><code>CSS</code> 文件下载完成，开始构建 <code>CSSOM</code>(<code>CSS</code>树)</li>
<li><code>CSSOM</code> 构建结束后，和 <code>DOM</code> 一起生成 <code>Render Tree</code>(渲染树)</li>
<li>布局(<code>Layout</code>)：计算出每个节点在屏幕中的位置</li>
<li>显示(<code>Painting</code>)：通过显卡把页面画到屏幕上</li>
</ul>
</li>
<li><code>DOM</code>树 和 渲染树 的区别：<ul>
<li><code>DOM</code>树与<code>HTML</code>标签一一对应，包括<code>head</code>和隐藏元素</li>
<li>渲染树不包括<code>head</code>和隐藏元素，大段文本的每一个行都是独立节点，每一个节点都有对应的<code>css</code>属性</li>
</ul>
</li>
</ul>
<h3 id="script-的位置是否会影响首屏显示时间"><a href="#script-的位置是否会影响首屏显示时间" class="headerlink" title="script 的位置是否会影响首屏显示时间"></a>script 的位置是否会影响首屏显示时间</h3><ul>
<li>在解析 <code>HTML</code> 生成 <code>DOM</code> 过程中，<code>js</code> 文件的下载是并行的，不需要 <code>DOM</code> 处理到 <code>script</code> 节点。因此，<code>script</code>的位置不影响首屏显示的开始时间。</li>
<li>浏览器解析 <code>HTML</code> 是自上而下的线性过程，<code>script</code>作为 <code>HTML</code> 的一部分同样遵循这个原则</li>
<li>因此，<code>script</code> 会延迟 <code>DomContentLoad</code>，只显示其上部分首屏内容，从而影响首屏显示的完成时间</li>
</ul>
<h3 id="解释JavaScript中的作用域与变量声明提升"><a href="#解释JavaScript中的作用域与变量声明提升" class="headerlink" title="解释JavaScript中的作用域与变量声明提升"></a>解释JavaScript中的作用域与变量声明提升</h3><ul>
<li><code>JavaScript</code>作用域：<ul>
<li>在<code>Java</code>、<code>C</code>等语言中，作用域为for语句、<code>if</code>语句或<code>&#123;&#125;</code>内的一块区域，称为作用域；</li>
<li>而在 <code>JavaScript</code> 中，作用域为<code>function()&#123;&#125;</code>内的区域，称为函数作用域。</li>
</ul>
</li>
<li><code>JavaScript</code>变量声明提升：<ul>
<li>在<code>JavaScript</code>中，函数声明与变量声明经常被<code>JavaScript</code>引擎隐式地提升到当前作用域的顶部。</li>
<li>声明语句中的赋值部分并不会被提升，只有名称被提升</li>
<li>函数声明的优先级高于变量，如果变量名跟函数名相同且未赋值，则函数声明会覆盖变量声明</li>
<li>如果函数有多个同名参数，那么最后一个参数（即使没有定义）会覆盖前面的同名参数</li>
</ul>
</li>
</ul>
<h3 id="JavaScript有几种类型的值？，你能画一下他们的内存图吗"><a href="#JavaScript有几种类型的值？，你能画一下他们的内存图吗" class="headerlink" title="JavaScript有几种类型的值？，你能画一下他们的内存图吗"></a>JavaScript有几种类型的值？，你能画一下他们的内存图吗</h3><ul>
<li>原始数据类型（<code>Undefined</code>，<code>Null</code>，<code>Boolean</code>，<code>Number</code>、<code>String</code>）– 栈</li>
<li>引用数据类型（对象、数组和函数）– 堆</li>
<li>两种类型的区别是：存储位置不同：</li>
<li>原始数据类型是直接存储在栈(<code>stack</code>)中的简单数据段，占据空间小、大小固定，属于被频繁使用数据；</li>
<li>引用数据类型存储在堆(<code>heap</code>)中的对象，占据空间大、大小不固定，如果存储在栈中，将会影响程序运行的性能；</li>
<li>引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。</li>
<li>当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。</li>
</ul>
<h3 id="JavaScript如何实现一个类，怎么实例化这个类"><a href="#JavaScript如何实现一个类，怎么实例化这个类" class="headerlink" title="JavaScript如何实现一个类，怎么实例化这个类"></a>JavaScript如何实现一个类，怎么实例化这个类</h3><ul>
<li>构造函数法（<code>this</code>+<code>prototype</code>） – 用<code>new</code>关键字 生成实例对象<ul>
<li>缺点：用到了 <code>this</code> 和 <code>prototype</code>，编写复杂，可读性差</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Mobile</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Mobile</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sell</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">"，售价 $"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> iPhone7 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mobile</span><span class="token punctuation">(</span><span class="token string">"iPhone7"</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
iPhone7<span class="token punctuation">.</span><span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><code>Object.create</code> 法 – 用 <code>Object.create()</code> 生成实例对象</li>
<li>缺点：不能实现私有属性和私有方法，实例对象之间也不能共享数据</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> Person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    firstname<span class="token operator">:</span> <span class="token string">"Mark"</span><span class="token punctuation">,</span>
    lastname<span class="token operator">:</span> <span class="token string">"Yun"</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
    <span class="token function-variable function">introduce</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'I am '</span> <span class="token operator">+</span> Person<span class="token punctuation">.</span>firstname <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> Person<span class="token punctuation">.</span>lastname<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Object.create 要求 IE9+，低版本浏览器可以自行部署：</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span>create<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
　   Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
　　　 <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
　　　 <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
　　　 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
　　<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
　<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>极简主义法（消除<code>this</code>和 <code>prototype</code>） – 调用<code>createNew()</code> 得到实例对象<ul>
<li>优点：容易理解，结构清晰优雅，符合传统的”面向对象编程”的构造</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> Cat <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  age<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 共享数据 -- 定义在类对象内，createNew() 外</span>
  <span class="token function-variable function">createNew</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> cat <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token comment">// var cat = Animal.createNew(); // 继承 Animal 类</span>
    cat<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"小咪"</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> sound <span class="token operator">=</span> <span class="token string">"喵喵喵"</span><span class="token punctuation">;</span> <span class="token comment">// 私有属性--定义在 createNew() 内，输出对象外</span>
    cat<span class="token punctuation">.</span><span class="token function-variable function">makeSound</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>sound<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 暴露私有属性</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    cat<span class="token punctuation">.</span><span class="token function-variable function">changeAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      Cat<span class="token punctuation">.</span>age <span class="token operator">=</span> num<span class="token punctuation">;</span> <span class="token comment">// 修改共享数据</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> cat<span class="token punctuation">;</span> <span class="token comment">// 输出对象</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> cat <span class="token operator">=</span> Cat<span class="token punctuation">.</span><span class="token function">createNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cat<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p><code>ES6</code> 语法糖 <code>class</code> – 用 <code>new</code> 关键字 生成实例对象</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">'('</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤JS继承的方法和优缺点？"><a href="#❤JS继承的方法和优缺点？" class="headerlink" title="❤JS继承的方法和优缺点？"></a>❤JS继承的方法和优缺点？</h3><blockquote>
<p>构造函数绑定：使用 <code>call</code> 或 <code>apply</code> 方法，将父对象的构造函数绑定在子对象上</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>color</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
 　<span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
 　<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
 　<span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>实例继承：将子对象的 prototype 指向父对象的一个实例</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Cat<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>拷贝继承：如果把父对象的所有属性和方法，拷贝进子对象</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token parameter">Child<span class="token punctuation">,</span> Parent</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
　　　<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
　　　<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
　　　<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
　　　   c<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
　　　<span class="token punctuation">&#125;</span>
　　　c<span class="token punctuation">.</span>uber <span class="token operator">=</span> p<span class="token punctuation">;</span>
　 <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>原型继承：将子对象的 <code>prototype</code> 指向父对象的 <code>prototype</code></p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token parameter">Child<span class="token punctuation">,</span> Parent</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  　<span class="token constant">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  　Child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  　Child<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child<span class="token punctuation">;</span>
  　Child<span class="token punctuation">.</span>uber <span class="token operator">=</span> <span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<pre class="line-numbers language-none"><code class="language-none">ES6&#96; 语法糖 &#96;extends：class ColorPoint extends Point &#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的constructor(x, y)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的toString()</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 原型链继承、借用构造函数继承、组合继承、原型式继承、寄生式继承、寄生组合式继承、ES6 Class</li>
<li><strong>标准回答</strong><ul>
<li><strong>原型链继承：</strong>让一个构造函数的原型是另一个类型的实例，那么这个构造函数new出来的实例就具有该实例的属性，原型链继承的。优点：写法方便简洁，容易理解。缺点：在父类型构造函数中定义的引用类型值的实例属性，会在子类型原型上变成原型属性被所有子类型实例所共享。同时在创建子类型的实例时，不能向超类型的构造函数中传递参数。</li>
<li><strong>借用构造函数继承：</strong>在子类型构造函数的内部调用父类型构造函数；使用 apply() 或 call() 方法将父对象的构造函数绑定在子对象上。优点：解决了原型链实现继承的不能传参的问题和父类的原型共享的问题。缺点：借用构造函数的缺点是方法都在构造函数中定义，因此无法实现函数复用。在父类型的原型中定义的方法，对子类型而言也是不可见的，结果所有类型都只能使用构造函数模式。</li>
<li><strong>组合继承：</strong>将原型链和借用构造函数的组合到一块。使用原型链实现对原型属性和方法的继承，而通过借用构造函数来实现对实例属性的继承。这样，既通过在原型上定义方法实现了函数复用，又能够保证每个实例都有自己的属性。优点就是解决了原型链继承和借用构造函数继承造成的影响。缺点是无论在什么情况下，都会调用两次超类型构造函数：一次是在创建子类型原型的时候，另一次是在子类型构造函数内部</li>
<li><strong>原型式继承：</strong>在一个函数A内部创建一个临时性的构造函数，然后将传入的对象作为这个构造函数的原型，最后返回这个临时类型的一个新实例。本质上，函数A是对传入的对象执行了一次浅复制。ECMAScript 5通过增加Object.create()方法将原型式继承的概念规范化了。这个方法接收两个参数：作为新对象原型的对象，以及给新对象定义额外属性的对象（第二个可选）。在只有一个参数时，Object.create()与这里的函数A方法效果相同。优点是：不需要单独创建构造函数。缺点是：属性中包含的引用值始终会在相关对象间共享</li>
<li><strong>寄生式继承：</strong>寄生式继承背后的思路类似于寄生构造函数和工厂模式：创建一个实现继承的函数，以某种方式增强对象，然后返回这个对象。优点：写法简单，不需要单独创建构造函数。缺点：通过寄生式继承给对象添加函数会导致函数难以重用。</li>
<li><strong>寄生组合式继承：</strong>通过借用构造函数来继承属性，通过原型链的混成形式来继承方法。本质上，就是使用寄生式继承来继承超类型的原型，然后再将结果指定给子类型的原型。优点是：高效率只调用一次父构造函数，并且因此避免了在子原型上面创建不必要，多余的属性。与此同时，原型链还能保持不变；缺点是：代码复杂</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>ES6 Class实现继承。</li>
<li>原理：原理ES5 的继承，实质是先创造子类的实例对象this，然后再将父类的方法添加到this上面（Parent.apply(this)）。 ES6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到this上面（所以必须先调用super方法），然后再用子类的构造函数修改this。需要注意的是，class关键字只是原型的语法糖，JavaScript继承仍然是基于原型实现的。 优点：语法简单易懂,操作更方便。缺点：并不是所有的浏览器都支持class关键字</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//调用类的构造方法</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">&#125;</span> <span class="token comment">//定义一般的方法</span>
    <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"调用父类的方法"</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'kobe'</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
<span class="token comment">//定义一个子类</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> salary</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
        <span class="token comment">//通过super调用父类的构造方法</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>salary <span class="token operator">=</span> salary
    <span class="token punctuation">&#125;</span>
    <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//在子类自身定义方法</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"调用子类的方法"</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'wade'</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">1000000000</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
s1<span class="token punctuation">.</span><span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="Javascript作用链域"><a href="#Javascript作用链域" class="headerlink" title="Javascript作用链域"></a>Javascript作用链域</h3><ul>
<li>全局函数无法查看局部函数的内部细节，但局部函数可以查看其上层的函数细节，直至全局细节</li>
<li>如果当前作用域没有找到属性或方法，会向上层作用域查找，直至全局函数，这种形式就是作用域链</li>
</ul>
<h3 id="介绍-DOM-的发展"><a href="#介绍-DOM-的发展" class="headerlink" title="介绍 DOM 的发展"></a>介绍 DOM 的发展</h3><ul>
<li><code>DOM</code>：文档对象模型（<code>Document Object Model</code>），定义了访问HTML和XML文档的标准，与编程语言及平台无关</li>
<li><code>DOM0</code>：提供了查询和操作Web文档的内容API。未形成标准，实现混乱。如：<code>document.forms[&#39;login&#39;]</code></li>
<li><code>DOM1</code>：W3C提出标准化的DOM，简化了对文档中任意部分的访问和操作。如：<code>JavaScript中的Document</code>对象</li>
<li><code>DOM2</code>：原来DOM基础上扩充了鼠标事件等细分模块，增加了对CSS的支持。如：<code>getComputedStyle(elem, pseudo)</code></li>
<li><code>DOM3</code>：增加了XPath模块和加载与保存（<code>Load and Save</code>）模块。如：<code>XPathEvaluator</code></li>
</ul>
<h3 id="介绍DOM0，DOM2，DOM3事件处理方式区别"><a href="#介绍DOM0，DOM2，DOM3事件处理方式区别" class="headerlink" title="介绍DOM0，DOM2，DOM3事件处理方式区别"></a>介绍DOM0，DOM2，DOM3事件处理方式区别</h3><ul>
<li>DOM0级事件处理方式：<ul>
<li><code>btn.onclick = func;</code></li>
<li><code>btn.onclick = null;</code></li>
</ul>
</li>
<li>DOM2级事件处理方式：<ul>
<li><code>btn.addEventListener(&#39;click&#39;, func, false);</code></li>
<li><code>btn.removeEventListener(&#39;click&#39;, func, false);</code></li>
<li><code>btn.attachEvent(&quot;onclick&quot;, func);</code></li>
<li><code>btn.detachEvent(&quot;onclick&quot;, func);</code></li>
</ul>
</li>
<li>DOM3级事件处理方式：<ul>
<li><code>eventUtil.addListener(input, &quot;textInput&quot;, func);</code></li>
<li><code>eventUtil</code> 是自定义对象，<code>textInput</code> 是DOM3级事件</li>
</ul>
</li>
</ul>
<p><strong>事件的三个阶段</strong></p>
<ul>
<li>捕获、目标、冒泡</li>
</ul>
<h3 id="介绍事件“捕获”和“冒泡”执行顺序和事件的执行次数"><a href="#介绍事件“捕获”和“冒泡”执行顺序和事件的执行次数" class="headerlink" title="介绍事件“捕获”和“冒泡”执行顺序和事件的执行次数"></a>介绍事件“捕获”和“冒泡”执行顺序和事件的执行次数</h3><ul>
<li>按照W3C标准的事件：首是进入捕获阶段，直到达到目标元素，再进入冒泡阶段</li>
<li>事件执行次数（DOM2-addEventListener）：元素上绑定事件的个数<ul>
<li>注意1：前提是事件被确实触发</li>
<li>注意2：事件绑定几次就算几个事件，即使类型和功能完全一样也不会“覆盖”</li>
</ul>
</li>
<li>事件执行顺序：判断的关键是否目标元素<ul>
<li>非目标元素：根据W3C的标准执行：捕获-&gt;目标元素-&gt;冒泡（不依据事件绑定顺序）</li>
<li>目标元素：依据事件绑定顺序：先绑定的事件先执行（不依据捕获冒泡标准）</li>
<li>最终顺序：父元素捕获-&gt;目标元素事件1-&gt;目标元素事件2-&gt;子元素捕获-&gt;子元素冒泡-&gt;父元素冒泡</li>
<li>注意：子元素事件执行前提 事件确实“落”到子元素布局区域上，而不是简单的具有嵌套关系</li>
</ul>
</li>
</ul>
<p><strong>在一个DOM上同时绑定两个点击事件：一个用捕获，一个用冒泡。事件会执行几次，先执行冒泡还是捕获？</strong></p>
<ul>
<li>该DOM上的事件如果被触发，会执行两次（执行次数等于绑定次数）</li>
<li>如果该DOM是目标元素，则按事件绑定顺序执行，不区分冒泡/捕获</li>
<li>如果该DOM是处于事件流中的非目标元素，则先执行捕获，后执行冒泡</li>
</ul>
<p><strong>事件的代理/委托</strong></p>
<ul>
<li>事件委托是指将事件绑定目标元素的到父元素上，利用冒泡机制触发该事件<ul>
<li>优点：<ul>
<li>可以减少事件注册，节省大量内存占用</li>
<li>可以将事件应用于动态添加的子元素上</li>
</ul>
</li>
<li>缺点： 使用不当会造成事件在不应该触发时触发</li>
<li>示例：</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">ulEl.addEventListener(&#39;click&#39;, function(e)&#123;
    var target &#x3D; event.target || event.srcElement;
    if(!!target &amp;&amp; target.nodeName.toUpperCase() &#x3D;&#x3D;&#x3D; &quot;LI&quot;)&#123;
        console.log(target.innerHTML);
    &#125;
&#125;, false);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>W3C事件的 target 与 currentTarget 的区别？</strong></p>
<ul>
<li><code>target</code> 只会出现在事件流的目标阶段</li>
<li><code>currentTarget</code> 可能出现在事件流的任何阶段</li>
<li>当事件流处在目标阶段时，二者的指向相同</li>
<li>当事件流处于捕获或冒泡阶段时：<code>currentTarget</code> 指向当前事件活动的对象(一般为父级)</li>
</ul>
<p><strong>如何派发事件(dispatchEvent)？（如何进行事件广播？）</strong></p>
<ul>
<li>W3C: 使用 <code>dispatchEvent</code> 方法</li>
<li>IE: 使用 <code>fireEvent</code> 方法</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">fireEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>createEventObject<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> mockEvent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEventObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> element<span class="token punctuation">.</span><span class="token function">fireEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> event<span class="token punctuation">,</span> mockEvent<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> mockEvent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">'HTMLEvents'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mockEvent<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">!</span>element<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>mockEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="什么是函数节流？介绍一下应用场景和原理？"><a href="#什么是函数节流？介绍一下应用场景和原理？" class="headerlink" title="什么是函数节流？介绍一下应用场景和原理？"></a>什么是函数节流？介绍一下应用场景和原理？</h3><ul>
<li>函数节流(<code>throttle</code>)是指阻止一个函数在很短时间间隔内连续调用。 只有当上一次函数执行后达到规定的时间间隔，才能进行下一次调用。 但要保证一个累计最小调用间隔（否则拖拽类的节流都将无连续效果）</li>
<li>函数节流用于 <code>onresize</code>, <code>onscroll</code> 等短时间内会多次触发的事件</li>
<li>函数节流的原理：使用定时器做时间节流。 当触发一个事件时，先用 <code>setTimout</code> 让这个事件延迟一小段时间再执行。 如果在这个时间间隔内又触发了事件，就 <code>clearTimeout</code> 原来的定时器， 再 <code>setTimeout</code> 一个新的定时器重复以上流程。</li>
</ul>
<p><strong>函数节流简单实现：</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">method<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
     <span class="token function">clearTimeout</span><span class="token punctuation">(</span>methor<span class="token punctuation">.</span>tId<span class="token punctuation">)</span><span class="token punctuation">;</span>
     method<span class="token punctuation">.</span>tId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
         <span class="token function">method</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">&#125;</span>， <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 两次调用至少间隔 100ms</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 调用</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token function">throttle</span><span class="token punctuation">(</span>myFunc<span class="token punctuation">,</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="区分什么是“客户区坐标”、“页面坐标”、“屏幕坐标”"><a href="#区分什么是“客户区坐标”、“页面坐标”、“屏幕坐标”" class="headerlink" title="区分什么是“客户区坐标”、“页面坐标”、“屏幕坐标”"></a>区分什么是“客户区坐标”、“页面坐标”、“屏幕坐标”</h3><ul>
<li>客户区坐标：鼠标指针在可视区中的水平坐标(<code>clientX</code>)和垂直坐标(<code>clientY</code>)</li>
<li>页面坐标：鼠标指针在页面布局中的水平坐标(<code>pageX</code>)和垂直坐标(<code>pageY</code>)</li>
<li>屏幕坐标：设备物理屏幕的水平坐标(<code>screenX</code>)和垂直坐标(<code>screenY</code>)</li>
</ul>
<p><strong>如何获得一个DOM元素的绝对位置？</strong></p>
<ul>
<li><code>elem.offsetLef</code>t：返回元素相对于其定位父级左侧的距离</li>
<li><code>elem.offsetTop</code>：返回元素相对于其定位父级顶部的距离</li>
<li><code>elem.getBoundingClientRect()</code>：返回一个<code>DOMRect</code>对象，包含一组描述边框的只读属性，单位像素</li>
</ul>
<h3 id="解释一下这段代码的意思"><a href="#解释一下这段代码的意思" class="headerlink" title="解释一下这段代码的意思"></a>解释一下这段代码的意思</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">$$</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>outline <span class="token operator">=</span> <span class="token string">"1px solid #"</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li>解释：获取页面所有的元素，遍历这些元素，为它们添加1像素随机颜色的轮廓(outline)</li>
<li><ol>
<li><code>$$(sel)</code> // $$函数被许多现代浏览器命令行支持，等价于 document.querySelectorAll(sel)</li>
</ol>
</li>
<li><ol>
<li><code>[].forEach.call(NodeLists)</code> // 使用 call 函数将数组遍历函数 forEach 应到节点元素列表</li>
</ol>
</li>
<li><ol>
<li><code>el.style.outline = &quot;1px solid #333&quot;</code> // 样式 outline 位于盒模型之外，不影响元素布局位置</li>
</ol>
</li>
<li><ol>
<li><code>(1&lt;&lt;24)</code> // parseInt(“ffffff”, 16) == 16777215 == 2^24 - 1 // 1&lt;&lt;24 == 2^24 == 16777216</li>
</ol>
</li>
<li><ol>
<li><code>Math.random()*(1&lt;&lt;24)</code> // 表示一个位于 0 到 16777216 之间的随机浮点数</li>
</ol>
</li>
<li><ol>
<li><code>~~Math.random()*(1&lt;&lt;24)</code> // <code>~~</code> 作用相当于 parseInt 取整</li>
</ol>
</li>
<li><ol>
<li><code>(~~(Math.random()*(1&lt;&lt;24))).toString(16)</code> // 转换为一个十六进制</li>
</ol>
</li>
</ul>
<h3 id="❤浏览器垃圾回收机制？"><a href="#❤浏览器垃圾回收机制？" class="headerlink" title="❤浏览器垃圾回收机制？"></a>❤浏览器垃圾回收机制？</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 栈垃圾回收、堆垃圾回收、新生区老生区、Scavenge算法、标记-清除算法、标记-整理算法、全停顿、增量标记</li>
<li><strong>标准回答</strong> 浏览器垃圾回收机制根据数据的存储方式分为栈垃圾回收和堆垃圾回收。<ul>
<li><strong>栈垃圾回收</strong>的方式非常简便，当一个函数执行结束之后，JavaScript 引擎会通过向下移动 ESP 来销毁该函数保存在栈中的执行上下文，遵循先进后出的原则。</li>
<li><strong>堆垃圾回收</strong>，当函数直接结束，栈空间处理完成了，但是堆空间的数据虽然没有被引用，但是还是存储在堆空间中，需要垃圾回收器将堆空间中的垃圾数据回收。</li>
</ul>
</li>
<li>为了使垃圾回收达到更好的效果，根据对象的生命周期不一样，使用不同的垃圾回收的算法。在 V8 中会把堆分为新生代和老生代两个区域，新生代中存放的是生存时间短的对象，老生代中存放的生存时间久的对象。<ul>
<li>新生区中使用Scavenge算法，老生区中使用标记-清除算法和标记-整理算法。</li>
</ul>
</li>
<li><strong>加分回答</strong></li>
<li><strong>Scavenge算法：</strong><ol>
<li>标记：对对象区域中的垃圾进行标记</li>
<li>清除垃圾数据和整理碎片化内存：副垃圾回收器会把这些存活的对象复制到空闲区域中，并且有序的排列起来，复制后空闲区域就没有内存碎片了</li>
<li>角色翻转：完成复制后，对象区域与空闲区域进行角色翻转，也就是原来的对象区域变成空闲区域，原来的空闲区域变成了对象区域，这样就完成了垃圾对象的回收操作，同时这种角色翻转的操作还能让新生代中的这两块区域无限重复使用下去</li>
</ol>
</li>
<li><strong>标记-清除算法：</strong><ol>
<li>标记：标记阶段就是从一组根元素开始，递归遍历这组根元素，在这个遍历过程中，能到达的元素称为活动对象，没有到达的元素就可以判断为垃圾数据。</li>
<li>清除：将垃圾数据进行清除。</li>
<li>产生内存碎片：对一块内存多次执行标记 - 清除算法后，会产生大量不连续的内存碎片。而碎片过多会导致大对象无法分配到足够的连续内存。</li>
</ol>
</li>
<li><strong>标记-整理算法</strong><ol>
<li>标记：和标记 - 清除的标记过程一样，从一组根元素开始，递归遍历这组根元素，在这个遍历过程中，能到达的元素标记为活动对象。</li>
<li>整理：让所有存活的对象都向内存的一端移动</li>
<li>清除：清理掉端边界以外的内存 V8 是使用副垃圾回收器和主垃圾回收器处理垃圾回收的，不过由于 JavaScript 是运行在主线程之上的，一旦执行垃圾回收算法，都需要将正在执行的 JavaScript 脚本暂停下来，待垃圾回收完毕后再恢复脚本执行。我们把这种行为叫做<strong>全停顿</strong>。 为了降低老生代的垃圾回收而造成的卡顿，V8 将标记过程分为一个个的子标记过程，同时让垃圾回收标记和 JavaScript 应用逻辑交替进行，直到标记阶段完成，我们把这个算法称为增量标记（Incremental Marking）算法</li>
</ol>
</li>
</ul>
<h3 id="Javascript垃圾回收方法"><a href="#Javascript垃圾回收方法" class="headerlink" title="Javascript垃圾回收方法"></a>Javascript垃圾回收方法</h3><ul>
<li>标记清除（mark and sweep）</li>
</ul>
<blockquote>
<ul>
<li>这是JavaScript最常见的垃圾回收方式，当变量进入执行环境的时候，比如函数中声明一个变量，垃圾回收器将其标记为“进入环境”，当变量离开环境的时候（函数执行结束）将其标记为“离开环境”</li>
<li>垃圾回收器会在运行的时候给存储在内存中的所有变量加上标记，然后去掉环境中的变量以及被环境中变量所引用的变量（闭包），在这些完成之后仍存在标记的就是要删除的变量了</li>
</ul>
</blockquote>
<p><strong>引用计数(reference counting)</strong></p>
<blockquote>
<p>在低版本IE中经常会出现内存泄露，很多时候就是因为其采用引用计数方式进行垃圾回收。引用计数的策略是跟踪记录每个值被使用的次数，当声明了一个 变量并将一个引用类型赋值给该变量的时候这个值的引用次数就加1，如果该变量的值变成了另外一个，则这个值得引用次数减1，当这个值的引用次数变为0的时 候，说明没有变量在使用，这个值没法被访问了，因此可以将其占用的空间回收，这样垃圾回收器会在运行的时候清理掉引用次数为0的值占用的空间</p>
</blockquote>
<h3 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h3><blockquote>
<p>找出那些不再继续使用的变 量，然后释放其占用的内存。为此，垃圾收集器会按照固定的时间间隔(或代码执行中预定的收集时间)， 周期性地执行这一操作。</p>
</blockquote>
<p><strong>标记清除</strong></p>
<blockquote>
<p>先所有都加上标记，再把环境中引用到的变量去除标记。剩下的就是没用的了</p>
</blockquote>
<p><strong>引用计数</strong></p>
<blockquote>
<p>跟踪记录每 个值被引用的次数。清除引用次数为0的变量 ⚠️会有循环引用问题 。循环引用如果大量存在就会导致内存泄露。</p>
</blockquote>
<h3 id="请解释一下-JavaScript-的同源策略"><a href="#请解释一下-JavaScript-的同源策略" class="headerlink" title="请解释一下 JavaScript 的同源策略"></a>请解释一下 JavaScript 的同源策略</h3><ul>
<li>概念:同源策略是客户端脚本（尤其是Javascript）的重要的安全度量标准。它最早出自Netscape Navigator2.0，其目的是防止某个文档或脚本从多个不同源装载。这里的同源策略指的是：协议，域名，端口相同，同源策略是一种安全协议</li>
<li>指一段脚本只能读取来自同一来源的窗口和文档的属性</li>
</ul>
<p><strong>为什么要有同源限制？</strong></p>
<ul>
<li>我们举例说明：比如一个黑客程序，他利用Iframe把真正的银行登录页面嵌到他的页面上，当你使用真实的用户名，密码登录时，他的页面就可以通过Javascript读取到你的表单中input中的内容，这样用户名，密码就轻松到手了。</li>
<li>缺点<ul>
<li>现在网站的JS都会进行压缩，一些文件用了严格模式，而另一些没有。这时这些本来是严格模式的文件，被 merge后，这个串就到了文件的中间，不仅没有指示严格模式，反而在压缩后浪费了字节</li>
</ul>
</li>
</ul>
<h3 id="如何删除一个cookie"><a href="#如何删除一个cookie" class="headerlink" title="如何删除一个cookie"></a>如何删除一个cookie</h3><ul>
<li>将时间设为当前时间往前一点</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

date<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//真正的删除</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p><code>setDate()</code>方法用于设置一个月的某一天</p>
</blockquote>
<ul>
<li><code>expires</code>的设置</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'user='</span><span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>  <span class="token operator">+</span> <span class="token string">';expires = '</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="页面编码和被请求的资源编码如果不一致如何处理"><a href="#页面编码和被请求的资源编码如果不一致如何处理" class="headerlink" title="页面编码和被请求的资源编码如果不一致如何处理"></a>页面编码和被请求的资源编码如果不一致如何处理</h3><ul>
<li>后端响应头设置 <code>charset</code></li>
<li>前端页面<code>&lt;meta&gt;</code>设置 <code>charset</code></li>
</ul>
<h3 id="把-lt-script-gt-放在-lt-body-gt-之前和之后有什么区别？浏览器会如何解析它们？"><a href="#把-lt-script-gt-放在-lt-body-gt-之前和之后有什么区别？浏览器会如何解析它们？" class="headerlink" title="把&lt;script&gt;放在&lt;/body&gt;之前和之后有什么区别？浏览器会如何解析它们？"></a>把<code>&lt;script&gt;</code>放在<code>&lt;/body&gt;</code>之前和之后有什么区别？浏览器会如何解析它们？</h3><ul>
<li>按照HTML标准，在<code>&lt;/body&gt;</code>结束后出现<code>&lt;script&gt;</code>或任何元素的开始标签，都是解析错误</li>
<li>虽然不符合HTML标准，但浏览器会自动容错，使实际效果与写在<code>&lt;/body&gt;</code>之前没有区别</li>
<li>浏览器的容错机制会忽略<code>&lt;script&gt;</code>之前的<code>&lt;/body&gt;</code>，视作<code>&lt;script&gt;</code>仍在 body 体内。省略<code>&lt;/body&gt;</code>和<code>&lt;/html&gt;</code>闭合标签符合HTML标准，服务器可以利用这一标准尽可能少输出内容</li>
</ul>
<h3 id="JavaScript-中，调用函数有哪几种方式"><a href="#JavaScript-中，调用函数有哪几种方式" class="headerlink" title="JavaScript 中，调用函数有哪几种方式"></a>JavaScript 中，调用函数有哪几种方式</h3><ul>
<li>方法调用模式 <code>Foo.foo(arg1, arg2);</code></li>
<li>函数调用模式 <code>foo(arg1, arg2);</code></li>
<li>构造器调用模式 <code>(new Foo())(arg1, arg2);</code></li>
<li><code>call/applay</code>调用模式 <code>Foo.foo.call(that, arg1, arg2);</code></li>
<li><code>bind</code>调用模式 <code>Foo.foo.bind(that)(arg1, arg2)();</code></li>
</ul>
<h3 id="简单实现-Function-bind-函数"><a href="#简单实现-Function-bind-函数" class="headerlink" title="简单实现 Function.bind 函数"></a>简单实现 Function.bind 函数</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>bind<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">that</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> func <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>that<span class="token punctuation">,</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 只支持 bind 阶段的默认参数：</span>
<span class="token function">func</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>that<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不支持以下调用阶段传入的参数：</span>
<span class="token function">func</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>that<span class="token punctuation">)</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="列举一下JavaScript数组和对象有哪些原生方法？"><a href="#列举一下JavaScript数组和对象有哪些原生方法？" class="headerlink" title="列举一下JavaScript数组和对象有哪些原生方法？"></a>列举一下JavaScript数组和对象有哪些原生方法？</h3><p><strong>数组：</strong></p>
<ul>
<li><code>arr.concat(arr1, arr2, arrn);</code></li>
<li><code>arr.join(&quot;,&quot;);</code></li>
<li><code>arr.sort(func);</code></li>
<li><code>arr.pop();</code></li>
<li><code>arr.push(e1, e2, en);</code></li>
<li><code>arr.shift();</code></li>
<li><code>unshift(e1, e2, en);</code></li>
<li><code>arr.reverse();</code></li>
<li><code>arr.slice(start, end);</code></li>
<li><code>arr.splice(index, count, e1, e2, en);</code></li>
<li><code>arr.indexOf(el);</code></li>
<li><code>arr.includes(el);</code> // ES6</li>
</ul>
<p><strong>对象：</strong></p>
<ul>
<li><code>object.hasOwnProperty(prop);</code></li>
<li><code>object.propertyIsEnumerable(prop);</code></li>
<li><code>object.valueOf();</code></li>
<li><code>object.toString();</code></li>
<li><code>object.toLocaleString();</code></li>
<li><code>Class.prototype.isPropertyOf(object);</code></li>
</ul>
<h3 id="Array-splice-与-Array-splice-的区别？"><a href="#Array-splice-与-Array-splice-的区别？" class="headerlink" title="Array.splice() 与 Array.splice() 的区别？"></a>Array.splice() 与 Array.splice() 的区别？</h3><p><strong><code>slice</code></strong></p>
<blockquote>
<p>“读取”数组指定的元素，不会对原数组进行修改</p>
</blockquote>
<ul>
<li>语法：<code>arr.slice(start, end)</code></li>
<li><code>start</code> 指定选取开始位置（含）</li>
<li><code>end</code> 指定选取结束位置（不含）</li>
</ul>
<p><strong>splice</strong></p>
<ul>
<li>“操作”数组指定的元素，会修改原数组，返回被删除的元素</li>
<li>语法：<code>arr.splice(index, count, [insert Elements])</code></li>
<li><code>index</code> 是操作的起始位置</li>
<li><code>count = 0</code> 插入元素，<code>count &gt; 0</code> 删除元素</li>
<li><code>[insert Elements]</code> 向数组新插入的元素</li>
</ul>
<h3 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h3><p><strong>MVVM 由以下三个内容组成</strong></p>
<ul>
<li><code>View</code>：界面</li>
<li><code>Model</code>：数据模型</li>
<li><code>ViewModel</code>：作为桥梁负责沟通 <code>View</code> 和 <code>Model</code></li>
</ul>
<blockquote>
<ul>
<li>在 JQuery 时期，如果需要刷新 UI 时，需要先取到对应的 DOM 再更新 UI，这样数据和业务的逻辑就和页面有强耦合</li>
<li>在 MVVM 中，UI 是通过数据驱动的，数据一旦改变就会相应的刷新对应的 UI，UI 如果改变，也会改变对应的数据。这种方式就可以在业务处理中只关心数据的流转，而无需直接和页面打交道。ViewModel 只关心数据和业务的处理，不关心 View 如何处理数据，在这种情况下，View 和 Model 都可以独立出来，任何一方改变了也不一定需要改变另一方，并且可以将一些可复用的逻辑放在一个 ViewModel 中，让多个 View 复用这个 ViewModel</li>
</ul>
</blockquote>
<ul>
<li>在 MVVM 中，最核心的也就是数据双向绑定，例如 Angluar 的脏数据检测，Vue 中的数据劫持</li>
</ul>
<p><strong>脏数据检测</strong></p>
<ul>
<li>当触发了指定事件后会进入脏数据检测，这时会调用 $digest 循环遍历所有的数据观察者，判断当前值是否和先前的值有区别，如果检测到变化的话，会调用 $watch 函数，然后再次调用 $digest 循环直到发现没有变化。循环至少为二次 ，至多为十次</li>
<li>脏数据检测虽然存在低效的问题，但是不关心数据是通过什么方式改变的，都可以完成任务，但是这在 Vue 中的双向绑定是存在问题的。并且脏数据检测可以实现批量检测出更新的值，再去统一更新 UI，大大减少了操作 DOM 的次数</li>
</ul>
<p><strong>数据劫持</strong></p>
<ul>
<li><code>Vue</code> 内部使用了 <code>Obeject.defineProperty()</code> 来实现双向绑定，通过这个函数可以监听到 <code>set</code> 和 <code>get</code>的事件</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'yck'</span> <span class="token punctuation">&#125;</span>
<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> data<span class="token punctuation">.</span>name <span class="token comment">// -> get value</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'yyy'</span> <span class="token comment">// -> change value</span>

<span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 判断类型</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">defineReactive</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 递归子属性</span>
  <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get value'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> val
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'change value'</span><span class="token punctuation">)</span>
      val <span class="token operator">=</span> newVal
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>以上代码简单的实现了如何监听数据的 set 和 get 的事件，但是仅仅如此是不够的，还需要在适当的时候给属性添加发布订阅</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    &#123;&#123;name&#125;&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>在解析如上模板代码时，遇到 <code>&#123;name&#125;</code> 就会给属性 <code>name</code> 添加发布订阅</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 通过 Dep 解耦</span>
<span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">addSub</span><span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// sub 是 Watcher 实例</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">sub</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      sub<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 全局属性，通过该属性配置 Watcher</span>
Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> value
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Watcher</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 将 Dep.target 指向自己</span>
    <span class="token comment">// 然后触发属性的 getter 添加监听</span>
    <span class="token comment">// 最后将 Dep.target 置空</span>
    Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cb <span class="token operator">=</span> cb
    <span class="token keyword">this</span><span class="token punctuation">.</span>obj <span class="token operator">=</span> obj
    <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 获得新值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span>
    <span class="token comment">// 调用 update 方法更新 Dom</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'yck'</span> <span class="token punctuation">&#125;</span>
<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token comment">// 模拟解析到 `&#123;&#123;name&#125;&#125;` 触发的操作</span>
<span class="token keyword">new</span> <span class="token class-name">Watcher</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> update<span class="token punctuation">)</span>
<span class="token comment">// update Dom innerText</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'yyy'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>接下来,对 defineReactive 函数进行改造</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 递归子属性</span>
  <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">let</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get value'</span><span class="token punctuation">)</span>
      <span class="token comment">// 将 Watcher 添加到订阅</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        dp<span class="token punctuation">.</span><span class="token function">addSub</span><span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token keyword">return</span> val
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'change value'</span><span class="token punctuation">)</span>
      val <span class="token operator">=</span> newVal
      <span class="token comment">// 执行 watcher 的 update 方法</span>
      dp<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>以上实现了一个简易的双向绑定，核心思路就是手动触发一次属性的 getter 来实现发布订阅的添加</p>
</blockquote>
<p><strong>Proxy 与 Obeject.defineProperty 对比</strong></p>
<ul>
<li><code>Obeject.defineProperty</code>虽然已经能够实现双向绑定了，但是他还是有缺陷的。<ul>
<li>只能对属性进行数据劫持，所以需要深度遍历整个对象</li>
<li>对于数组不能监听到数据的变化</li>
</ul>
</li>
</ul>
<blockquote>
<p>虽然 <code>Vue</code> 中确实能检测到数组数据的变化，但是其实是使用了 <code>hack</code> 的办法，并且也是有缺陷的</p>
</blockquote>
<h3 id="WEB应用从服务器主动推送Data到客户端有那些方式"><a href="#WEB应用从服务器主动推送Data到客户端有那些方式" class="headerlink" title="WEB应用从服务器主动推送Data到客户端有那些方式"></a>WEB应用从服务器主动推送Data到客户端有那些方式</h3><ul>
<li><p><code>AJAX</code> 轮询</p>
</li>
<li><p><code>html5</code> 服务器推送事件 <code>(new EventSource(SERVER_URL)).addEventListener(&quot;message&quot;, func);</code></p>
</li>
<li><p>html5 Websocket</p>
</li>
<li><p><code>(new WebSocket(SERVER_URL)).addEventListener(&quot;message&quot;, func);</code></p>
</li>
</ul>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><ul>
<li><strong>原型链继承</strong>，将父类的实例作为子类的原型，他的特点是实例是子类的实例也是父类的实例，父类新增的原型方法/属性，子类都能够访问，并且原型链继承简单易于实现，缺点是来自原型对象的所有属性被所有实例共享，无法实现多继承，无法向父类构造函数传参。</li>
<li><strong>构造继承</strong>，使用父类的构造函数来增强子类实例，即复制父类的实例属性给子类，构造继承可以向父类传递参数，可以实现多继承，通过<code>call</code>多个父类对象。但是构造继承只能继承父类的实例属性和方法，不能继承原型属性和方法，无法实现函数服用，每个子类都有父类实例函数的副本，影响性能</li>
<li><strong>实例继承</strong>，为父类实例添加新特性，作为子类实例返回，实例继承的特点是不限制调用方法，不管是new 子类（）还是子类（）返回的对象具有相同的效果，缺点是实例是父类的实例，不是子类的实例，不支持多继承</li>
<li><strong>拷贝继承</strong>：特点：支持多继承，缺点：效率较低，内存占用高（因为要拷贝父类的属性）无法获取父类不可枚举的方法（不可枚举方法，不能使用<code>for in</code>访问到）</li>
<li><strong>组合继承</strong>：通过调用父类构造，继承父类的属性并保留传参的优点，然后通过将父类实例作为子类原型，实现函数复用</li>
<li><strong>寄生组合继承</strong>：通过寄生方式，砍掉父类的实例属性，这样，在调用两次父类的构造的时候，就不会初始化两次实例方法/属性，避免的组合继承的缺点</li>
</ul>
<h3 id="判断是否是数组"><a href="#判断是否是数组" class="headerlink" title="判断是否是数组"></a>判断是否是数组</h3><ul>
<li><code>Array.isArray(arr</code></li>
<li><code>Object.prototype.toString.call(arr) === &#39;[Object Array]&#39;</code></li>
<li><code>arr instanceof Array</code></li>
<li><code>array.constructor === Array</code></li>
</ul>
<h3 id="加载"><a href="#加载" class="headerlink" title="加载"></a>加载</h3><p><strong>1. 异步加载js的方法</strong></p>
<ul>
<li><code>defer</code>：只支持IE如果您的脚本不会改变文档的内容，可将 <code>defer</code> 属性加入到<code>&lt;script&gt;</code>标签中，以便加快处理文档的速度。因为浏览器知道它将能够安全地读取文档的剩余部分而不用执行脚本，它将推迟对脚本的解释，直到文档已经显示给用户为止</li>
<li><code>async</code>：<code>HTML5</code> 属性，仅适用于外部脚本；并且如果在IE中，同时存在<code>defer</code>和<code>async</code>，那么<code>defer</code>的优先级比较高；脚本将在页面完成时执行</li>
</ul>
<p><strong>2. 图片的懒加载和预加载</strong></p>
<ul>
<li>预加载：提前加载图片，当用户需要查看时可直接从本地缓存中渲染。</li>
<li>懒加载：懒加载的主要目的是作为服务器前端的优化，减少请求数或延迟请求数</li>
</ul>
<blockquote>
<p>两种技术的本质：两者的行为是相反的，一个是提前加载，一个是迟缓甚至不加载。懒加载对服务器前端有一定的缓解压力作用，预加载则会增加服务器前端压力。</p>
</blockquote>
<h3 id="有四个操作会忽略enumerable为false的属性"><a href="#有四个操作会忽略enumerable为false的属性" class="headerlink" title="有四个操作会忽略enumerable为false的属性"></a>有四个操作会忽略enumerable为false的属性</h3><ul>
<li><code>for...in</code>循环：只遍历对象自身的和继承的可枚举的属性。</li>
<li><code>Object.keys()</code>：返回对象自身的所有可枚举的属性的键名。</li>
<li><code>JSON.stringify()</code>：只串行化对象自身的可枚举的属性。</li>
<li><code>Object.assign()</code>： 忽略<code>enumerable</code>为<code>false</code>的属性，只拷贝对象自身的可枚举的属性。</li>
</ul>
<h3 id="属性的遍历"><a href="#属性的遍历" class="headerlink" title="属性的遍历"></a>属性的遍历</h3><blockquote>
<p>ES6 一共有 5 种方法可以遍历对象的属性。</p>
</blockquote>
<p><strong>（1）for…in</strong></p>
<blockquote>
<p><code>for...in</code>循环遍历对象自身的和继承的可枚举属性（不含 Symbol 属性）。</p>
</blockquote>
<p><strong>（2）Object.keys(obj)</strong></p>
<blockquote>
<p><code>Object.keys</code>返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含 Symbol 属性）的键名。</p>
</blockquote>
<p><strong>（3）Object.getOwnPropertyNames(obj)</strong></p>
<blockquote>
<p><code>Object.getOwnPropertyNames</code>返回一个数组，包含对象自身的所有属性（不含 Symbol 属性，但是包括不可枚举属性）的键名。</p>
</blockquote>
<p><strong>（4）Object.getOwnPropertySymbols(obj)</strong></p>
<blockquote>
<p><code>Object.getOwnPropertySymbols</code>返回一个数组，包含对象自身的所有 Symbol 属性的键名。</p>
</blockquote>
<p><strong>（5）Reflect.ownKeys(obj)</strong></p>
<blockquote>
<p><code>Reflect.ownKeys</code>返回一个数组，包含对象自身的（不含继承的）所有键名，不管键名是 Symbol 或字符串，也不管是否可枚举。</p>
</blockquote>
<blockquote>
<p>以上的 5 种方法遍历对象的键名，都遵守同样的属性遍历的次序规则。</p>
</blockquote>
<ul>
<li>首先遍历所有数值键，按照数值升序排列。</li>
<li>其次遍历所有字符串键，按照加入时间升序排列。</li>
<li>最后遍历所有 Symbol 键，按照加入时间升序排列。</li>
</ul>
<pre class="line-numbers language-text" data-language="text"><code class="language-text">Reflect.ownKeys(&#123; [Symbol()]:0, b:0, 10:0, 2:0, a:0 &#125;)
&#x2F;&#x2F; [&#39;2&#39;, &#39;10&#39;, &#39;b&#39;, &#39;a&#39;, Symbol()]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>上面代码中，<code>Reflect.ownKeys</code>方法返回一个数组，包含了参数对象的所有属性。这个数组的属性次序是这样的，首先是数值属性2和10，其次是字符串属性b和a，最后是 <code>Symbol</code> 属性。</p>
</blockquote>
<h3 id="为什么通常在发送数据埋点请求的时候使用的是-1x1-像素的透明-gif-图片"><a href="#为什么通常在发送数据埋点请求的时候使用的是-1x1-像素的透明-gif-图片" class="headerlink" title="为什么通常在发送数据埋点请求的时候使用的是 1x1 像素的透明 gif 图片"></a>为什么通常在发送数据埋点请求的时候使用的是 1x1 像素的透明 gif 图片</h3><ul>
<li>能够完成整个 HTTP 请求+响应（尽管不需要响应内容）</li>
<li>触发 GET 请求之后不需要获取和处理数据、服务器也不需要发送数据</li>
<li>跨域友好</li>
<li>执行过程无阻塞</li>
<li>相比 XMLHttpRequest 对象发送 GET 请求，性能上更好</li>
<li>GIF的最低合法体积最小（最小的BMP文件需要74个字节，PNG需要67个字节，而合法的GIF，只需要43个字节）</li>
</ul>
<h3 id="在输入框中如何判断输入的是一个正确的网址"><a href="#在输入框中如何判断输入的是一个正确的网址" class="headerlink" title="在输入框中如何判断输入的是一个正确的网址"></a>在输入框中如何判断输入的是一个正确的网址</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">isUrl</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
           <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
       <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
     <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><h3 id="你觉得jQuery或zepto源码有哪些写的好的地方"><a href="#你觉得jQuery或zepto源码有哪些写的好的地方" class="headerlink" title="你觉得jQuery或zepto源码有哪些写的好的地方"></a>你觉得jQuery或zepto源码有哪些写的好的地方</h3><ul>
<li><code>jquery</code>源码封装在一个匿名函数的自执行环境中，有助于防止变量的全局污染，然后通过传入<code>window</code>对象参数，可以使<code>window</code>对象作为局部变量使用，好处是当<code>jquery</code>中访问<code>window</code>对象的时候，就不用将作用域链退回到顶层作用域了，从而可以更快的访问<code>window</code>对象。同样，传入<code>undefined</code>参数，可以缩短查找<code>undefined</code>时的作用域链</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">window<span class="token punctuation">,</span> <span class="token keyword">undefined</span></span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//用一个函数域包起来，就是所谓的沙箱</span>
    <span class="token comment">//在这里边var定义的变量，属于这个函数域内的局部变量，避免污染全局</span>
    <span class="token comment">//把当前沙箱需要的外部变量通过函数参数引入进来</span>
    <span class="token comment">//只要保证参数对内提供的接口的一致性，你还可以随意替换传进来的这个参数</span>
  window<span class="token punctuation">.</span>jQuery <span class="token operator">=</span> window<span class="token punctuation">.</span>$ <span class="token operator">=</span> jQuery<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span> window <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>jquery将一些原型属性和方法封装在了jquery.prototype中，为了缩短名称，又赋值给了jquery.fn，这是很形象的写法</li>
<li>有一些数组或对象的方法经常能使用到，jQuery将其保存为局部变量以提高访问速度</li>
<li>jquery实现的链式调用可以节约代码，所返回的都是同一个对象，可以提高代码效率</li>
</ul>
<h3 id="jQuery-的实现原理"><a href="#jQuery-的实现原理" class="headerlink" title="jQuery 的实现原理"></a>jQuery 的实现原理</h3><ul>
<li><code>(function(window, undefined) &#123;&#125;)(window);</code></li>
<li><code>jQuery</code> 利用 <code>JS</code> 函数作用域的特性，采用立即调用表达式包裹了自身，解决命名空间和变量污染问题</li>
<li><code>window.jQuery = window.$ = jQuery;</code></li>
<li>在闭包当中将 jQuery 和 $ 绑定到 window 上，从而将 jQuery 和 $ 暴露为全局变量</li>
</ul>
<h3 id="jQuery-fn-的-init-方法返回的-this-指的是什么对象"><a href="#jQuery-fn-的-init-方法返回的-this-指的是什么对象" class="headerlink" title="jQuery.fn 的 init 方法返回的 this 指的是什么对象"></a><code>jQuery.fn</code> 的 <code>init</code> 方法返回的 <code>this</code> 指的是什么对象</h3><ul>
<li>jQuery.fn 的 init 方法 返回的 this 就是 jQuery 对象</li>
<li>用户使用 jQuery() 或 $() 即可初始化 jQuery 对象，不需要动态的去调用 init 方法</li>
</ul>
<h3 id="jQuery-extend-与-jQuery-fn-extend-的区别"><a href="#jQuery-extend-与-jQuery-fn-extend-的区别" class="headerlink" title="jQuery.extend 与 jQuery.fn.extend 的区别"></a>jQuery.extend 与 jQuery.fn.extend 的区别</h3><ul>
<li><code>$.fn.extend()</code> 和 <code>$.extend()</code> 是 <code>jQuery</code> 为扩展插件提拱了两个方法</li>
<li><code>$.extend(object)</code>; // 为jQuery添加“静态方法”（工具方法）</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
　　<span class="token function-variable function">min</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> a <span class="token operator">&lt;</span> b <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
　　<span class="token function-variable function">max</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> a <span class="token operator">></span> b <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  2</span>
$<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>$.extend([true,] targetObject, object1[, object2]); // 对targt对象进行扩展</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> settings <span class="token operator">=</span> <span class="token punctuation">&#123;</span>validate<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> limit<span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>validate<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">"bar"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>settings<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 注意：不支持第一个参数传 false</span>
<span class="token comment">// settings == &#123;validate:true, limit:5, name:"bar"&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><code>$.fn.extend(json)</code>; // 为jQuery添加“成员函数”（实例方法）</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
   <span class="token function-variable function">alertValue</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#email"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alertValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="jQuery-的属性拷贝-extend-的实现原理是什么，如何实现深拷贝"><a href="#jQuery-的属性拷贝-extend-的实现原理是什么，如何实现深拷贝" class="headerlink" title="jQuery 的属性拷贝(extend)的实现原理是什么，如何实现深拷贝"></a>jQuery 的属性拷贝(extend)的实现原理是什么，如何实现深拷贝</h3><ul>
<li>浅拷贝（只复制一份原始对象的引用） <code>var newObject = $.extend(&#123;&#125;, oldObject);</code></li>
<li>深拷贝（对原始对象属性所引用的对象进行进行递归拷贝） <code>var newObject = $.extend(true, &#123;&#125;, oldObject);</code></li>
</ul>
<h3 id="jQuery-的队列是如何实现的"><a href="#jQuery-的队列是如何实现的" class="headerlink" title="jQuery 的队列是如何实现的"></a>jQuery 的队列是如何实现的</h3><ul>
<li>jQuery 核心中有一组队列控制方法，由 <code>queue()/dequeue()/clearQueue()</code> 三个方法组成。</li>
<li>主要应用于 <code>animate()</code>，<code>ajax</code>，其他要按时间顺序执行的事件中</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'事件1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> <span class="token function-variable function">func2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'事件2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> <span class="token function-variable function">func3</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'事件3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> <span class="token function-variable function">func4</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'事件4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>

<span class="token comment">// 入栈队列事件</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">"queue1"</span><span class="token punctuation">,</span> func1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// push func1 to queue1</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">"queue1"</span><span class="token punctuation">,</span> func2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// push func2 to queue1</span>

<span class="token comment">// 替换队列事件</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">"queue1"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// delete queue1 with empty array</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">"queue1"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>func3<span class="token punctuation">,</span> func4<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// replace queue1</span>

<span class="token comment">// 获取队列事件（返回一个函数数组）</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">"queue1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [func3(), func4()]</span>

<span class="token comment">// 出栈队列事件并执行</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token string">"queue1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return func3 and do func3</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token string">"queue1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return func4 and do func4</span>

<span class="token comment">// 清空整个队列</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clearQueue</span><span class="token punctuation">(</span><span class="token string">"queue1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// delete queue1 with clearQueue</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="jQuery-中的-bind-live-delegate-on-的区别"><a href="#jQuery-中的-bind-live-delegate-on-的区别" class="headerlink" title="jQuery 中的 bind(), live(), delegate(), on()的区别"></a>jQuery 中的 bind(), live(), delegate(), on()的区别</h3><ul>
<li><code>bind()</code> 直接绑定在目标元素上</li>
<li><code>live()</code> 通过冒泡传播事件，默认<code>document</code>上，支持动态数据</li>
<li><code>delegate()</code> 更精确的小范围使用事件代理，性能优于 live</li>
<li><code>on()</code> 是最新的<code>1.9</code>版本整合了之前的三种方式的新事件绑定机制</li>
</ul>
<h3 id="是否知道自定义事件"><a href="#是否知道自定义事件" class="headerlink" title="是否知道自定义事件"></a>是否知道自定义事件</h3><ul>
<li>事件即“发布/订阅”模式，自定义事件即“消息发布”，事件的监听即“订阅订阅”</li>
<li>JS 原生支持自定义事件，示例：</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建事件</span>
event<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> canBubble<span class="token punctuation">,</span> prevent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化事件</span>
target<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dataavailable'</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 监听事件</span>
target<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 触发事件</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>jQuery 里的<code>fire</code> 函数用于调用<code>jQuery</code>自定义事件列表中的事件</li>
</ul>
<h3 id="jQuery-通过哪个方法和-Sizzle-选择器结合的"><a href="#jQuery-通过哪个方法和-Sizzle-选择器结合的" class="headerlink" title="jQuery 通过哪个方法和 Sizzle 选择器结合的"></a>jQuery 通过哪个方法和 Sizzle 选择器结合的</h3><ul>
<li><code>Sizzle</code> 选择器采取 <code>Right To Left</code> 的匹配模式，先搜寻所有匹配标签，再判断它的父节点</li>
<li><code>jQuery</code> 通过 <code>$(selecter).find(selecter);</code> 和 <code>Sizzle</code> 选择器结合</li>
</ul>
<h3 id="jQuery-中如何将数组转化为-JSON-字符串，然后再转化回来"><a href="#jQuery-中如何将数组转化为-JSON-字符串，然后再转化回来" class="headerlink" title="jQuery 中如何将数组转化为 JSON 字符串，然后再转化回来"></a>jQuery 中如何将数组转化为 JSON 字符串，然后再转化回来</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 通过原生 JSON.stringify/JSON.parse 扩展 jQuery 实现</span>
 $<span class="token punctuation">.</span><span class="token function-variable function">array2json</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>

 $<span class="token punctuation">.</span><span class="token function-variable function">json2array</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// $.parseJSON(array); // 3.0 开始，已过时</span>
    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>

 <span class="token comment">// 调用</span>
 <span class="token keyword">var</span> json <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">array2json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> array <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">json2array</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="jQuery-一个对象可以同时绑定多个事件，这是如何实现的"><a href="#jQuery-一个对象可以同时绑定多个事件，这是如何实现的" class="headerlink" title="jQuery 一个对象可以同时绑定多个事件，这是如何实现的"></a>jQuery 一个对象可以同时绑定多个事件，这是如何实现的</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#btn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"mouseover mouseout"</span><span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#btn"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    mouseover<span class="token operator">:</span> func1<span class="token punctuation">,</span>
    mouseout<span class="token operator">:</span> func2<span class="token punctuation">,</span>
    click<span class="token operator">:</span> func3
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="针对-jQuery-的优化方法"><a href="#针对-jQuery-的优化方法" class="headerlink" title="针对 jQuery 的优化方法"></a>针对 jQuery 的优化方法</h3><ul>
<li>缓存频繁操作<code>DOM</code>对象</li>
<li>尽量使用<code>id</code>选择器代替<code>class</code>选择器</li>
<li>总是从<code>#id</code>选择器来继承</li>
<li>尽量使用链式操作</li>
<li>使用时间委托 <code>on</code>绑定事件</li>
<li>采用<code>jQuery</code>的内部函数<code>data()</code>来存储数据</li>
<li>使用最新版本的 <code>jQuery</code></li>
</ul>
<h3 id="jQuery-的-slideUp-动画，当鼠标快速连续触发-动画会滞后反复执行，该如何处理呢"><a href="#jQuery-的-slideUp-动画，当鼠标快速连续触发-动画会滞后反复执行，该如何处理呢" class="headerlink" title="jQuery 的 slideUp 动画，当鼠标快速连续触发, 动画会滞后反复执行，该如何处理呢"></a>jQuery 的 slideUp 动画，当鼠标快速连续触发, 动画会滞后反复执行，该如何处理呢</h3><ul>
<li>在触发元素上的事件设置为延迟处理：使用 <code>JS</code> 原生 <code>setTimeout</code> 方法</li>
<li>在触发元素的事件时预先停止所有的动画，再执行相应的动画事件：<code>$(&#39;.tab&#39;).stop().slideUp();</code></li>
</ul>
<h3 id="jQuery-UI-如何自定义组件"><a href="#jQuery-UI-如何自定义组件" class="headerlink" title="jQuery UI 如何自定义组件"></a>jQuery UI 如何自定义组件</h3><ul>
<li>通过向 <code>$.widget()</code> 传递组件名称和一个原型对象来完成</li>
<li><code>$.widget(&quot;ns.widgetName&quot;, [baseWidget], widgetPrototype);</code></li>
</ul>
<h3 id="jQuery-与-jQuery-UI、jQuery-Mobile-区别"><a href="#jQuery-与-jQuery-UI、jQuery-Mobile-区别" class="headerlink" title="jQuery 与 jQuery UI、jQuery Mobile 区别"></a>jQuery 与 jQuery UI、jQuery Mobile 区别</h3><ul>
<li><code>jQuery</code> 是 <code>JS</code> 库，兼容各种PC浏览器，主要用作更方便地处理 <code>DOM</code>、事件、动画、<code>AJAX</code></li>
<li><code>jQuery UI</code> 是建立在 <code>jQuery</code> 库上的一组用户界面交互、特效、小部件及主题</li>
<li><code>jQuery Mobile</code> 以 <code>jQuery</code> 为基础，用于创建“移动Web应用”的框架</li>
</ul>
<h3 id="jQuery-和-Zepto-的区别？-各自的使用场景"><a href="#jQuery-和-Zepto-的区别？-各自的使用场景" class="headerlink" title="jQuery 和 Zepto 的区别？ 各自的使用场景"></a>jQuery 和 Zepto 的区别？ 各自的使用场景</h3><ul>
<li><code>jQuery</code> 主要目标是<code>PC</code>的网页中，兼容全部主流浏览器。在移动设备方面，单独推出 `jQuery Mobile</li>
<li><code>Zepto</code>从一开始就定<code>位移动设备，相对更轻量级。它的</code>API <code>基本兼容</code>jQuery`，但对PC浏览器兼容不理想</li>
</ul>
<h3 id="jQuery对象的特点"><a href="#jQuery对象的特点" class="headerlink" title="jQuery对象的特点"></a>jQuery对象的特点</h3><ul>
<li>只有 <code>JQuery</code>对象才能使用 <code>JQuery</code> 方法</li>
<li><code>JQuery</code> 对象是一个数组对象</li>
</ul>
<h2 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h2><h3 id="什么是Bootstrap？以及为什么要使用Bootstrap？"><a href="#什么是Bootstrap？以及为什么要使用Bootstrap？" class="headerlink" title="什么是Bootstrap？以及为什么要使用Bootstrap？"></a>什么是Bootstrap？以及为什么要使用Bootstrap？</h3><blockquote>
<p><code>Bootstrap</code> 是一个用于快速开发 <code>Web</code>应用程序和网站的前端框架。<code>Bootstrap</code>是基于 <code>HTML</code>、<code>CSS</code>、<code>JAVASCRIPT</code> 的</p>
</blockquote>
<ul>
<li><code>Bootstrap</code>具有移动设备优先、浏览器支持良好、容易上手、响应式设计等优点，所以<code>Bootstrap</code>被广泛应用</li>
</ul>
<h3 id="使用Bootstrap时，要声明的文档类型是什么？以及为什么要这样声明？"><a href="#使用Bootstrap时，要声明的文档类型是什么？以及为什么要这样声明？" class="headerlink" title="使用Bootstrap时，要声明的文档类型是什么？以及为什么要这样声明？"></a>使用Bootstrap时，要声明的文档类型是什么？以及为什么要这样声明？</h3><ul>
<li>使用<code>Bootstrap</code>时，需要使用 <code>HTML5</code> 文档类型（<code>Doctype</code>）。<code>&lt;!DOCTYPE html&gt;</code></li>
<li>因为<code>Bootstrap</code>使用了一些 <code>HTML5</code> 元素和 <code>CSS</code> 属性，如果在 <code>Bootstrap</code>创建的网页开头不使用 <code>HTML5</code> 的文档类型（<code>Doctype</code>），可能会面临一些浏览器显示不一致的问题，甚至可能面临一些特定情境下的不一致，以致于代码不能通过 <code>W3C</code> 标准的验证</li>
</ul>
<h3 id="什么是Bootstrap网格系统"><a href="#什么是Bootstrap网格系统" class="headerlink" title="什么是Bootstrap网格系统"></a>什么是Bootstrap网格系统</h3><blockquote>
<p><code>Bootstrap</code> 包含了一个响应式的、移动设备优先的、不固定的网格系统，可以随着设备或视口大小的增加而适当地扩展到 <code>12</code> 列。它包含了用于简单的布局选项的预定义类，也包含了用于生成更多语义布局的功能强大的混合类</p>
</blockquote>
<ul>
<li>响应式网格系统随着屏幕或视口（<code>viewport</code>）尺寸的增加，系统会自动分为最多<code>12</code>列。</li>
</ul>
<h3 id="Bootstrap-网格系统（Grid-System）的工作原理"><a href="#Bootstrap-网格系统（Grid-System）的工作原理" class="headerlink" title="Bootstrap 网格系统（Grid System）的工作原理"></a>Bootstrap 网格系统（Grid System）的工作原理</h3><ul>
<li>（1）行必须放置在 <code>.container class</code> 内，以便获得适当的对齐（<code>alignment</code>）和内边距（<code>padding</code>）。</li>
<li>（2）使用行来创建列的水平组。</li>
<li>（3）内容应该放置在列内，且唯有列可以是行的直接子元素。</li>
<li>（4）预定义的网格类，比如 <code>.row</code> 和 <code>.col-xs-4</code>，可用于快速创建网格布局。<code>LESS</code> 混合类可用于更多语义布局。</li>
<li>（5）列通过内边距（<code>padding</code>）来创建列内容之间的间隙。该内边距是通过 <code>.rows</code> 上的外边距（<code>margin</code>）取负，表示第一列和最后一列的行偏移。</li>
<li>（6）网格系统是通过指定您想要横跨的十二个可用的列来创建的。例如，要创建三个相等的列，则使用三个 <code>.col-xs-4</code></li>
</ul>
<h3 id="对于各类尺寸的设备，Bootstrap设置的class前缀分别是什么"><a href="#对于各类尺寸的设备，Bootstrap设置的class前缀分别是什么" class="headerlink" title="对于各类尺寸的设备，Bootstrap设置的class前缀分别是什么"></a>对于各类尺寸的设备，Bootstrap设置的class前缀分别是什么</h3><ul>
<li>超小设备手机（<code>&lt;768px</code>）：<code>.col-xs-*</code></li>
<li>小型设备平板电脑（<code>&gt;=768px</code>）：<code>.col-sm-*</code></li>
<li>中型设备台式电脑（<code>&gt;=992px</code>）：<code>.col-md-*</code></li>
<li>大型设备台式电脑（<code>&gt;=1200px</code>）：<code>.col-lg-*</code></li>
</ul>
<h3 id="Bootstrap-网格系统列与列之间的间隙宽度是多少"><a href="#Bootstrap-网格系统列与列之间的间隙宽度是多少" class="headerlink" title="Bootstrap 网格系统列与列之间的间隙宽度是多少"></a>Bootstrap 网格系统列与列之间的间隙宽度是多少</h3><blockquote>
<p>间隙宽度为<code>30px</code>（一个列的每边分别是<code>15px</code>）</p>
</blockquote>
<h3 id="如果需要在一个标题的旁边创建副标题，可以怎样操作"><a href="#如果需要在一个标题的旁边创建副标题，可以怎样操作" class="headerlink" title="如果需要在一个标题的旁边创建副标题，可以怎样操作"></a>如果需要在一个标题的旁边创建副标题，可以怎样操作</h3><blockquote>
<p>在元素两旁添加<code>&lt;small&gt;</code>，或者添加<code>.small</code>的<code>class</code></p>
</blockquote>
<h3 id="用Bootstrap，如何设置文字的对齐方式？"><a href="#用Bootstrap，如何设置文字的对齐方式？" class="headerlink" title="用Bootstrap，如何设置文字的对齐方式？"></a>用Bootstrap，如何设置文字的对齐方式？</h3><ul>
<li><code>class=&quot;text-center&quot;</code> 设置居中文本</li>
<li><code>class=&quot;text-right&quot;</code> 设置向右对齐文本</li>
<li><code>class=&quot;text-left&quot;</code> 设置向左对齐文本</li>
</ul>
<h3 id="Bootstrap如何设置响应式表格？"><a href="#Bootstrap如何设置响应式表格？" class="headerlink" title="Bootstrap如何设置响应式表格？"></a>Bootstrap如何设置响应式表格？</h3><blockquote>
<p>增加<code>class=&quot;table-responsive&quot;</code></p>
</blockquote>
<h3 id="使用Bootstrap创建垂直表单的基本步骤？"><a href="#使用Bootstrap创建垂直表单的基本步骤？" class="headerlink" title="使用Bootstrap创建垂直表单的基本步骤？"></a>使用Bootstrap创建垂直表单的基本步骤？</h3><ul>
<li>（1）向父<code>&lt;form&gt;</code>元素添加<code>role=&quot;form&quot;</code>；</li>
<li>（2）把标签和控件放在一个带有<code>class=&quot;form-group&quot;</code>的<code>&lt;div&gt;</code>中，这是获取最佳间距所必需的；</li>
<li>（3）向所有的文本元素<code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code>、<code>&lt;select&gt;</code>添加<code>class=&quot;form-control&quot;</code></li>
</ul>
<h3 id="使用Bootstrap创建水平表单的基本步骤？"><a href="#使用Bootstrap创建水平表单的基本步骤？" class="headerlink" title="使用Bootstrap创建水平表单的基本步骤？"></a>使用Bootstrap创建水平表单的基本步骤？</h3><ul>
<li>（1）向父<code>&lt;form&gt;</code>元素添加<code>class=&quot;form-horizontal&quot;</code>；</li>
<li>（2）把标签和控件放在一个带有<code>class=&quot;form-group&quot;</code>的<code>&lt;div&gt;</code>中；</li>
<li>（3）向标签添加<code>class=&quot;control-label&quot;</code>。</li>
</ul>
<h3 id="使用Bootstrap如何创建表单控件的帮助文本？"><a href="#使用Bootstrap如何创建表单控件的帮助文本？" class="headerlink" title="使用Bootstrap如何创建表单控件的帮助文本？"></a>使用Bootstrap如何创建表单控件的帮助文本？</h3><blockquote>
<p>增加<code>class=&quot;help-block&quot;</code>的<code>span</code>标签或<code>p</code>标签。</p>
</blockquote>
<h3 id="使用Bootstrap激活或禁用按钮要如何操作？"><a href="#使用Bootstrap激活或禁用按钮要如何操作？" class="headerlink" title="使用Bootstrap激活或禁用按钮要如何操作？"></a>使用Bootstrap激活或禁用按钮要如何操作？</h3><ul>
<li>激活按钮：给按钮增加<code>.active</code>的<code>class</code></li>
<li>禁用按钮：给按钮增加<code>disabled=&quot;disabled&quot;</code>的属性</li>
</ul>
<h3 id="Bootstrap有哪些关于img的class？"><a href="#Bootstrap有哪些关于img的class？" class="headerlink" title="Bootstrap有哪些关于img的class？"></a>Bootstrap有哪些关于img的class？</h3><ul>
<li>（1）<code>.img-rounded</code> 为图片添加圆角</li>
<li>（2）<code>.img-circle</code> 将图片变为圆形</li>
<li>（3）<code>.img-thumbnail</code> 缩略图功能</li>
<li>（4）<code>.img-responsive</code> 图片响应式 (将很好地扩展到父元素)</li>
</ul>
<h3 id="Bootstrap中有关元素浮动及清除浮动的class？"><a href="#Bootstrap中有关元素浮动及清除浮动的class？" class="headerlink" title="Bootstrap中有关元素浮动及清除浮动的class？"></a>Bootstrap中有关元素浮动及清除浮动的class？</h3><ul>
<li>（1）<code>class=&quot;pull-left&quot;</code> 元素浮动到左边</li>
<li>（2）<code>class=&quot;pull-right&quot;</code> 元素浮动到右边</li>
<li>（3）<code>class=&quot;clearfix&quot;</code> 清除浮动</li>
</ul>
<h3 id="除了屏幕阅读器外，其他设备上隐藏元素的class？"><a href="#除了屏幕阅读器外，其他设备上隐藏元素的class？" class="headerlink" title="除了屏幕阅读器外，其他设备上隐藏元素的class？"></a>除了屏幕阅读器外，其他设备上隐藏元素的class？</h3><blockquote>
<p>`class=”sr-only”``</p>
</blockquote>
<h3 id="Bootstrap如何制作下拉菜单？"><a href="#Bootstrap如何制作下拉菜单？" class="headerlink" title="Bootstrap如何制作下拉菜单？"></a>Bootstrap如何制作下拉菜单？</h3><ul>
<li>（1）将下拉菜单包裹在<code>class=&quot;dropdown&quot;</code>的<code>&lt;div&gt;</code>中；</li>
<li>（2）在触发下拉菜单的按钮中添加：<code>class=&quot;btn dropdown-toggle&quot; id=&quot;dropdownMenu1&quot; data-toggle=&quot;dropdown&quot;</code></li>
<li>（3）在包裹下拉菜单的ul中添加：<code>class=&quot;dropdown-menu&quot; role=&quot;menu&quot; aria-labelledby=&quot;dropdownMenu1&quot;</code></li>
<li>（4）在下拉菜单的列表项中添加：<code>role=&quot;presentation&quot;</code>。其中，下拉菜单的标题要添加<code>class=&quot;dropdown-header&quot;</code>，选项部分要添加<code>tabindex=&quot;-1&quot;</code>。</li>
</ul>
<h3 id="Bootstrap如何制作按钮组？以及水平按钮组和垂直按钮组的优先级？"><a href="#Bootstrap如何制作按钮组？以及水平按钮组和垂直按钮组的优先级？" class="headerlink" title="Bootstrap如何制作按钮组？以及水平按钮组和垂直按钮组的优先级？"></a>Bootstrap如何制作按钮组？以及水平按钮组和垂直按钮组的优先级？</h3><ul>
<li>（1）用<code>class=&quot;btn-group&quot;</code>的<code>&lt;div&gt;</code>去包裹按钮组；<code>class=&quot;btn-group-vertical&quot;</code>可设置垂直按钮组。</li>
<li>（2）<code>btn-group</code>的优先级高于<code>btn-group-vertical</code>的优先级。</li>
</ul>
<h3 id="Bootstrap如何设置按钮的下拉菜单？"><a href="#Bootstrap如何设置按钮的下拉菜单？" class="headerlink" title="Bootstrap如何设置按钮的下拉菜单？"></a>Bootstrap如何设置按钮的下拉菜单？</h3><blockquote>
<p>在一个 <code>.btn-group</code> 中放置按钮和下拉菜单即可。</p>
</blockquote>
<h3 id="Bootstrap中的输入框组如何制作？"><a href="#Bootstrap中的输入框组如何制作？" class="headerlink" title="Bootstrap中的输入框组如何制作？"></a>Bootstrap中的输入框组如何制作？</h3><ul>
<li>（1）把前缀或者后缀元素放在一个带有<code>class=&quot;input-group&quot;</code>中的<code>&lt;div&gt;</code>中</li>
<li>（2）在该<code>&lt;div&gt;</code>内，在<code>class=&quot;input-group-addon&quot;</code>的<code>&lt;span&gt;</code>里面放置额外的内容；</li>
<li>（3）把<code>&lt;span&gt;</code>放在<code>&lt;input&gt;</code>元素的前面或后面。</li>
</ul>
<h3 id="Bootstrap中的导航都有哪些？"><a href="#Bootstrap中的导航都有哪些？" class="headerlink" title="Bootstrap中的导航都有哪些？"></a>Bootstrap中的导航都有哪些？</h3><ul>
<li>（1）导航元素：有<code>class=&quot;nav nav-tabs&quot;</code>的标签页导航，还有<code>class=&quot;nav nav-pills&quot;</code>的胶囊式标签页导航；</li>
<li>（2）导航栏：<code>class=&quot;navbar navbar-default&quot; role=&quot;navigation&quot;</code>；</li>
<li>（3）面包屑导航：<code>class=&quot;breadcrumb&quot;</code></li>
</ul>
<h3 id="Bootstrap中设置分页的class？"><a href="#Bootstrap中设置分页的class？" class="headerlink" title="Bootstrap中设置分页的class？"></a>Bootstrap中设置分页的class？</h3><ul>
<li>默认的分页：<code>class=&quot;pagination&quot;</code></li>
<li>默认的翻页：<code>class=&quot;pager&quot;</code></li>
</ul>
<h3 id="Bootstrap中显示标签的class？"><a href="#Bootstrap中显示标签的class？" class="headerlink" title="Bootstrap中显示标签的class？"></a>Bootstrap中显示标签的class？</h3><blockquote>
<pre class="line-numbers language-none"><code class="language-none">class&#x3D;&quot;label&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<h3 id="Bootstrap中如何制作徽章？"><a href="#Bootstrap中如何制作徽章？" class="headerlink" title="Bootstrap中如何制作徽章？"></a>Bootstrap中如何制作徽章？</h3><blockquote>
<pre class="line-numbers language-none"><code class="language-none">&lt;span class&#x3D;&quot;badge&quot;&gt;26&lt;&#x2F;span&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<h3 id="Bootstrap中超大屏幕的作用是什么？"><a href="#Bootstrap中超大屏幕的作用是什么？" class="headerlink" title="Bootstrap中超大屏幕的作用是什么？"></a>Bootstrap中超大屏幕的作用是什么？</h3><blockquote>
<p>设置<code>class=&quot;jumbotron&quot;</code>可以制作超大屏幕，该组件可以增加标题的大小并增加更多的外边距</p>
</blockquote>
<h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><h3 id="❤说一说Vuex是什么，每个属性是干嘛的，如何使用-？"><a href="#❤说一说Vuex是什么，每个属性是干嘛的，如何使用-？" class="headerlink" title="❤说一说Vuex是什么，每个属性是干嘛的，如何使用 ？"></a>❤说一说Vuex是什么，每个属性是干嘛的，如何使用 ？</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点：</strong>state、mutations、getters、actions、module、store.commit、store.dispatch</li>
<li><strong>标准回答：</strong> Vuex是集中管理项目公共数据的。<ul>
<li>Vuex 有state、mutations 、getters、actions、module属性。</li>
<li>state 属性用来存储公共管理的数据。</li>
<li>mutations 属性定义改变state中数据的方法， 注意：不要在mutation中的方法中写异步方法ajax，那样数据就不可跟踪了 。</li>
<li>getters 属性可以认为是定义 store 的计算属性。就像计算属性一样，getter 的返回值会根据它的依赖被缓存起来，且只有当它的依赖值发生了改变才会被重新计算。</li>
<li>action属性类似于 mutation，不同在于：Action 提交的是 mutation，而不是直接变更状态。Action 可以包含任意异步操作。</li>
<li>moudle属性是将store分割成模块。每个模块拥有自己的 state、mutation、action、getter、甚至是嵌套子模块，从上至下进行同样方式的分割<ul>
<li>使用方法： state ：直接以对象方式添加属性 mutations ：通过<code>store.commit</code>调用 action：通过 <code>store.dispatch</code> 方法触发 getters：直接通过store.getters.调用</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答：</strong> 可以使用mapState、mapMutations、mapAction、mapGetters一次性获取每个属性下对应的多个方法。 VueX在大型项目中比较常用，非关系组件传递数据比较方便。</li>
</ul>
<h3 id="❤Vue2-0-双向绑定的原理与缺陷？"><a href="#❤Vue2-0-双向绑定的原理与缺陷？" class="headerlink" title="❤Vue2.0 双向绑定的原理与缺陷？"></a>❤Vue2.0 双向绑定的原理与缺陷？</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点：</strong> <code>Object.defineProperty</code>、<code>getter</code>、<code>setter</code></li>
<li><strong>标准回答：</strong> Vue响应式指的是：组件的data发生变化，立刻触发试图的更新<ul>
<li><strong>原理：</strong> Vue 采用数据劫持结合发布者-订阅者模式的方式来实现数据的响应式，通过<code>Object.defineProperty()</code>来劫持数据的<code>setter</code>，<code>getter</code>，在数据变动时发布消息给订阅者，订阅者收到消息后进行相应的处理。 通过原生js提供的监听数据的API，当数据发生变化的时候，在回调函数中修改dom</li>
<li>核心API：<code>Object.defineProperty()</code> API的使用</li>
<li><strong>作用：</strong>用来定义对象属性</li>
<li><strong>特点：</strong> 默认情况下定义的数据的属性不能修改 描述属性和存取属性不能同时使用，使用会报错</li>
<li><strong>响应式原理：</strong> 获取属性值会触发<code>getter</code>方法 设置属性值会触发<code>setter</code>方法 在<code>setter</code>方法中调用修改dom的方法</li>
</ul>
</li>
<li><strong>加分回答：</strong> <code>Object.defineProperty</code>的<strong>缺点</strong><ul>
<li>一次性递归到底开销很大，如果数据很大，大量的递归导致调用栈溢出</li>
<li>不能监听对象的新增属性和删除属性</li>
<li>无法正确的监听数组的方法，当监听的下标对应的数据发生改变时</li>
</ul>
</li>
</ul>
<h3 id="❤Vue3-0-实现数据双向绑定的方法"><a href="#❤Vue3-0-实现数据双向绑定的方法" class="headerlink" title="❤Vue3.0 实现数据双向绑定的方法"></a>❤Vue3.0 实现数据双向绑定的方法</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> Proxy、数据拦截、劫持整个对象、返回一个新对象、有13种劫持</li>
<li><strong>标准回答</strong> Vue3.0 是通过Proxy实现的数据双向绑定，Proxy是ES6中新增的一个特性，实现的过程是在目标对象之前设置了一层“拦截”，外界对该对象的访问，都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写。<ul>
<li>用法： ES6 原生提供 Proxy 构造函数，用来生成 Proxy 实例。 var proxy = new Proxy(target, handler) target: 是用Proxy包装的被代理对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理）。</li>
<li>handler: 是一个对象，其声明了代理target 的一些操作，其属性是当执行一个操作时定义代理的行为的函数。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li><code>Object.defineProperty</code> 的问题：在Vue中，<code>Object.defineProperty</code>无法监控到数组下标的变化，导致直接通过数组的下标给数组设置值，不能实时响应。目前只针对以上方法做了hack处理，所以数组属性是检测不到的，有局限性Object.defineProperty只能劫持对象的属性,因此我们需要对每个对象的每个属性进行遍历。Vue里，是通过递归以及遍历data对象来实现对数据的监控的，如果属性值也是对象那么需要深度遍历,显然如果能劫持一个完整的对象，不管是对操作性还是性能都会有一个很大的提升。</li>
<li>Proxy的两个优点：可以劫持整个对象，并返回一个新对象，有13种劫持</li>
</ul>
</li>
</ul>
<h3 id="请简单实现双向数据绑定mvvm"><a href="#请简单实现双向数据绑定mvvm" class="headerlink" title="请简单实现双向数据绑定mvvm"></a>请简单实现双向数据绑定<code>mvvm</code></h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
const data = &#123;&#125;;
const input = document.getElementById('input');
Object.defineProperty(data, 'text', &#123;
  set(value) &#123;
    input.value = value;
    this.value = value;
  &#125;
&#125;);
input.onChange = function(e) &#123;
  data.text = e.target.value;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="❤HashRouter-和-HistoryRouter的区别和原理？"><a href="#❤HashRouter-和-HistoryRouter的区别和原理？" class="headerlink" title="❤HashRouter 和 HistoryRouter的区别和原理？"></a>❤HashRouter 和 HistoryRouter的区别和原理？</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><p><strong>得分点</strong> <code>#</code> <code>window.onhashchange</code> <code>history.pushState </code> <code>window.onpopstate</code></p>
</li>
<li><p><strong>标准回答</strong></p>
<ul>
<li>HashRouter和 HistoryRouter的<strong>区别</strong>：<ol>
<li>history和hash都是利用浏览器的两种特性实现前端路由，history是利用浏览历史记录栈的API实现，hash是监听location对象hash值变化事件来实现</li>
<li>history的url没有’#’号，hash反之</li>
<li>相同的url，history会触发添加到浏览器历史记录栈中，hash不会触发，history需要后端配合，如果后端不配合刷新新页面会出现404，hash不需要。</li>
</ol>
</li>
<li><strong>HashRouter的原理：</strong>通过<code>window.onhashchange</code>方法获取新URL中hash值，再做进一步处理</li>
<li><strong>HistoryRouter的原理：</strong>通过<code>history.pushState </code>使用它做页面跳转不会触发页面刷新，使用<code>window.onpopstate</code> 监听浏览器的前进和后退，再做其他处理</li>
</ul>
</li>
<li><p><strong>加分回答</strong> hash模式下url会带有#，需要url更优雅时，可以使用history模式。 需要兼容低版本的浏览器时，建议使用hash模式。 需要添加任意类型数据到记录时，可以使用history模式。</p>
</li>
</ul>
<h3 id="❤Diff算法"><a href="#❤Diff算法" class="headerlink" title="❤Diff算法"></a>❤Diff算法</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> patch、patchVnode、updateChildren、vue优化时间复杂度为O(n)</li>
<li><strong>标准回答</strong><ul>
<li><strong>Diff算法比较过程</strong></li>
<li>第一步：patch函数中对新老节点进行比较 如果新节点不存在就销毁老节点 如果老节点不存在，直接创建新的节点 当两个节点是相同节点的时候，进入 patctVnode 的过程，比较两个节点的内部</li>
<li>第二步：patchVnode函数比较两个虚拟节点内部 如果两个虚拟节点完全相同，返回 当前vnode 的children 不是textNode，再分成三种情况 - 有新children，没有旧children，创建新的 - 没有新children，有旧children，删除旧的 - 新children、旧children都有，执行<code>updateChildren</code>比较children的差异，这里就是diff算法的核心 当前vnode 的children 是textNode，直接更新text</li>
<li>第三步：updateChildren函数子节点进行比较<ul>
<li>第一步 头头比较。若相似，旧头新头指针后移（即 <code>oldStartIdx++</code> &amp;&amp; <code>newStartIdx++</code>），真实dom不变，进入下一次循环；不相似，进入第二步。</li>
<li>第二步 尾尾比较。若相似，旧尾新尾指针前移（即 <code>oldEndIdx--</code> &amp;&amp; <code>newEndIdx--</code>），真实dom不变，进入下一次循环；不相似，进入第三步。</li>
<li> 第三步 头尾比较。若相似，旧头指针后移，新尾指针前移（即 <code>oldStartIdx++</code> &amp;&amp; <code>newEndIdx--</code>），未确认dom序列中的头移到尾，进入下一次循环；不相似，进入第四步。</li>
<li>第四步 尾头比较。若相似，旧尾指针前移，新头指针后移（即 <code>oldEndIdx--</code> &amp;&amp; <code>newStartIdx++</code>），未确认dom序列中的尾移到头，进入下一次循环；不相似，进入第五步。</li>
<li>第五步 若节点有key且在旧子节点数组中找到sameVnode（tag和key都一致），则将其dom移动到当前真实dom序列的头部，新头指针后移（即 <code>newStartIdx++</code>）；否则，vnode对应的dom（<code>vnode[newStartIdx].elm</code>）插入当前真实dom序列的头部，新头指针后移（即 <code>newStartIdx++</code>）。</li>
<li>但结束循环后，有两种情况需要考虑：<ul>
<li>新的字节点数组（newCh）被遍历完（<code>newStartIdx &gt; newEndIdx</code>）。那就需要把多余的旧dom（<code>oldStartIdx -&gt; oldEndIdx</code>）都删除，上述例子中就是<code>c,d</code>；</li>
<li>新的字节点数组（oldCh）被遍历完（<code>oldStartIdx &gt; oldEndIdx</code>）。那就需要把多余的新dom（<code>newStartIdx -&gt; newEndIdx</code>）都添加。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="❤vue的-keep-alive"><a href="#❤vue的-keep-alive" class="headerlink" title="❤vue的 keep-alive"></a>❤vue的 keep-alive</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 缓存组件、条件缓存、路由配合条件缓存、不重新加载、activated、deactivated</li>
<li><strong>标准回答</strong><ul>
<li><code>&lt;keep-alive&gt;</code>作用：缓存组件，提升性能，避免重复加载一些不需要经常变动且内容较多的组件。</li>
<li><code>&lt;keep-alive&gt;</code>的使用方法：使用<code>&lt;keep-alive&gt;</code>标签对需要缓存的组件进行包裹，默认情况下被<code>&lt;keep-alive&gt;</code>标签包裹的组件都会进行缓存，区分被包裹的组件是否缓存有两种方法，<ul>
<li>第一种是给keepalive 添加属性，组件名称指的是具体组件添加的name，不是路由里面的name。include 包含的组件(可以为字符串，数组，以及正则表达式,只有匹配的组件会被缓存)。exclude 排除的组件(以为字符串，数组，以及正则表达式,任何匹配的组件都不会被缓存)。</li>
<li>第二种也是最常用的一种是，和路由配合使用：在路由中添加meta属性。 使用keepalive导致组件不重新加载，也就不会重新执行生命周期的函数，如果要解决这个问题，就需要两个属性进入时触发：activated 退出时触发：deactivated</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li><code>&lt;keep-alive&gt;</code>适用的场景：首页展示固定数据的组件，比如banner九宫格</keep-alive></keep-alive></keep-alive></keep-alive></keep-alive></li>
</ul>
</li>
</ul>
<h3 id="❤computed和watch的区别"><a href="#❤computed和watch的区别" class="headerlink" title="❤computed和watch的区别"></a>❤computed和watch的区别</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> computed值有缓存、触发条件是依赖值发生更改、 watch无缓存支持异步、监听数据变化</li>
<li><strong>标准回答</strong><ul>
<li>computed： 是计算属性，依赖其它属性值，并且 computed 的值有缓存，只有它依赖的属性值发生改变，下一次获取 computed 的值时才会重新计算 computed 的值；</li>
<li>watch： 更多的是观察的作用，支持异步，类似于某些数据的监听回调 ，每当监听的数据变化时都会执行回调进行后续操作；</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>computed应用场景：需要进行数值计算，并且依赖于其它数据时，应该使用 computed，因为可以利用 computed 的缓存特性，避免每次获取值时，都要重新计算；</li>
<li>watch应用场景：需要在数据变化时执行异步或开销较大的操作时，应该使用 watch，使用 watch 选项允许我们执行异步操作 ( 访问一个 API )，限制我们执行该操作的频率，并在我们得到最终结果前，设置中间状态。这些都是计算属性无法做到的。</li>
</ul>
</li>
</ul>
<h3 id="❤Vue-中-nextTick-作用与原理"><a href="#❤Vue-中-nextTick-作用与原理" class="headerlink" title="❤Vue 中 $nextTick 作用与原理"></a>❤Vue 中 $nextTick 作用与原理</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 异步渲染、获取DOM、Promise</li>
<li><strong>标准回答</strong> Vue 在更新 DOM 时是异步执行的，在修改数据后，视图不会立刻更新，而是等同一事件循环中的所有数据变化完成之后，再统一进行视图更新。所以修改完数据，立即在方法中获取DOM，获取的仍然是未修改的DOM。<ul>
<li><code>$nextTick</code>的作用是：该方法中的代码会在当前渲染完成后执行，就解决了异步渲染获取不到更新后DOM的问题了。</li>
<li><code>$nextTick</code>的原理：<code>$nextTick</code> 本质是返回一个Promise</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>应用场景：在钩子函数created()里面想要获取操作Dom，把操作DOM的方法放在 <code>$nextTick</code>中</li>
</ul>
</li>
</ul>
<h3 id="❤组件通信的方式"><a href="#❤组件通信的方式" class="headerlink" title="❤组件通信的方式"></a>❤组件通信的方式</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 父子通信、自定义属性、<code>props</code>、<code>$emit、EventBus</code>、<code>$on</code>、<code>VueX </code></li>
<li><strong>标准回答</strong></li>
<li>Vue组件的通信方式分为两大类，一类是父子组件通信，另一类是任何关系类型组件通信（父子、兄弟、非兄弟） 父子组件的通信方式： 父给子传递数据，通过给子组件添加自定义属性，比如：，list是父组件给子组件传递的数据。子获取父的数据，在子组件中使用props属性获取 子给父传递数据，通过给子组件传递父组件的方法，子组件调用父组件的方法传递数据，比如：<code>deleteHandler</code>就是父组件的函数，在子组件中通过<code>this.$emit(&#39;方法名&#39;,参数)</code>，调用父组件的方法，并把数据传递到父组件。 props是只读，不可以被修改，所有被修改都会失效和被警告 任何关系类型组件通信（父子、兄弟、非兄弟）方式： EventBus： 使用方法是创建一个新的Vue实例，需要通信的组件都引入该Vue实例，传递数据的组件使用 <code>event.$emit(&#39;名称&#39;,参数)</code>发送数据，接收数据的组件使用 <code>event.$on(&#39;名称&#39;,方法)</code>接收数据。<ul>
<li>VueX： 集中管理项目公共数据，Vuex 的状态存储是响应式的，当 Vue 组件从 store 中读取状态的时候，若 store 中的状态发生变化，那么相应的组件也会相应地得到高效更新。不能直接改变 store 中的状态。改变 store 中的状态的唯一途径就是显式地提交 (commit) mutation。</li>
</ul>
</li>
<li><strong>加分回答</strong></li>
<li>EventBus的优缺点，缺点vue是单页应用，如果你在某一个页面刷新了之后，与之相关的EventBus会被移除，这样就导致业务走不下去。同时如果页面中有反复操作的业务，EventBus在监听的时候就会触发很多次，需要好好处理EventBus在项目中的关系。在vue页面销毁时，同时移除EventBus事件监听。优点，解决了多层组件之间繁琐的事件传播，使用原理十分简单，代码量少。适合业简单，组件传递数据较少的项目，大型项目业务复杂的还是尽量使用VueX</li>
</ul>
<h3 id="❤v-if-和-v-show区别"><a href="#❤v-if-和-v-show区别" class="headerlink" title="❤v-if 和 v-show区别"></a>❤v-if 和 v-show区别</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> v-show true/false都渲染 、 v-if true渲染 false不渲染</li>
<li><strong>标准回答</strong><ul>
<li>作用: 都是控制元素隐藏和显示的指令</li>
<li>区别： v-show: 控制的元素无论是true还是false，都被渲染出来了，通过display：none控制元素隐藏 v-if: 控制的元素是true，进行渲染，如果是false不渲染，根本在dom树结构中不显示</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>应用：<ul>
<li>v-show: 适合使用在切换频繁显示/隐藏的元素上</li>
<li>v-if: 适合使用在切换不频繁，且元素内容很多，渲染一次性能消耗很大的元素上</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="❤Vue-列表为什么加-key"><a href="#❤Vue-列表为什么加-key" class="headerlink" title="❤Vue 列表为什么加 key"></a>❤Vue 列表为什么加 key</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 性能优化、diff算法节点比对、key不能是index</li>
<li><strong>标准回答</strong> 为了性能优化 因为vue是虚拟DOM，更新DOM时用diff算法对节点进行一一比对，比如有很多li元素，要在某个位置插入一个li元素，但没有给li上加key，那么在进行运算的时候，就会将所有li元素重新渲染一遍，但是如果有key，那么它就会按照key一一比对li元素，只需要创建新的li元素，插入即可，不需要对其他元素进行修改和重新渲染。</li>
<li><strong>加分回答</strong> key也不能是li元素的index，因为假设我们给数组前插入一个新元素，它的下标是0，那么和原来的第一个元素重复了，整个数组的key都发生了改变，这样就跟没有key的情况一样了</li>
</ul>
<h3 id="❤vue-router-实现懒加载的方法"><a href="#❤vue-router-实现懒加载的方法" class="headerlink" title="❤vue-router 实现懒加载的方法"></a>❤vue-router 实现懒加载的方法</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><p><strong>得分点</strong> import、require</p>
</li>
<li><p><strong>标准回答</strong></p>
<ul>
<li><p>vue-router 实现懒加载的方法有两种：</p>
<ul>
<li><p><strong>ES6的impot方式:</strong></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span>
    <span class="token comment">/* webpackChunkName: "about" */</span>
    <span class="token string">'../views/About.vue'</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>VUE中的异步组件进行懒加载方式:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token parameter">resolve</span><span class="token operator">=></span><span class="token punctuation">(</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'../views/About'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>resolve<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>加分回答</strong></p>
<ul>
<li>vue-router 实现懒加载的作用：性能优化，不用到该路由，不加载该组件。</li>
</ul>
</li>
</ul>
<h3 id="❤vue钩子函数"><a href="#❤vue钩子函数" class="headerlink" title="❤vue钩子函数"></a>❤vue钩子函数</h3><ul>
<li><strong>得分点</strong> beforeCreate、created、beforeMounted、mounted beforeUpdate、updated 、 beforeDestroy、destroyed</li>
<li><strong>标准回答</strong> 钩子函数用来描述一个组件从引入到退出的全过程中的某个过程，整个过程称为生命周期。 钩子函数按照组件生命周期的过程分为，挂载阶段=&gt;更新阶段=&gt;销毁阶段。 每个阶段对应的钩子函数 挂载阶段：beforeCreate、created、beforeMounted、mounted 更新阶段：beforeUpdate、updated 销毁阶段：beforeDestroy、destroyed 每个阶段特点与适合做什么 created：实例创建完成，可访问data、computed、watch、methods上的方法和数据，未挂载到DOM，不能访问到el属性，el属性，ref属性内容为空数组常用于简单的ajax请求，页面的初始化 beforeMount：在挂载开始之前被调用，beforeMount之前，会找到对应的template，并编译成render函数 mounted：实例挂载到DOM上，此时可以通过DOM API获取到DOM节点，$ref属性可以访问常用于获取VNode信息和操作，ajax请求 beforeupdate：响应式数据更新时调用，发生在虚拟DOM打补丁之前，适合在更新之前访问现有的DOM，比如手动移除已添加的事件监听器 updated：虚拟 DOM 重新渲染和打补丁之后调用，组件DOM已经更新，可执行依赖于DOM的操作避免在这个钩子函数中操作数据，可能陷入死循环 beforeDestroy：实例销毁之前调用。这一步，实例仍然完全可用，this仍能获取到实例，常用于销毁定时器、解绑全局事件、销毁插件对象等操作</li>
<li><strong>加分回答</strong> 父子组件钩子函数在三个阶段的代码执行顺序 挂载：父亲created&gt; 子created &gt; 子mounted&gt; 父亲mounted&gt; 更新：父亲beforeUpdate &gt; 子beforeUpdated &gt; 子updated &gt; 父亲updated 销毁：父亲beforeDestroy&gt; 子beforeDestroy &gt; 子destroyed&gt; 父destroyed</li>
</ul>
<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h3 id="❤React生命周期的各个阶段"><a href="#❤React生命周期的各个阶段" class="headerlink" title="❤React生命周期的各个阶段"></a>❤React生命周期的各个阶段</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点：</strong> constructor、componentDidMount、componentDidUpdate、componentWillUnmount、getDerivedStateFromProps、shouldComponentUpdate、getSnapshotBeforeUpdate、componentWillUpdate。</li>
<li><strong>标准回答</strong><ul>
<li>React的生命周期中常用的有：<ul>
<li>constructor，负责数据初始化。</li>
<li>render，将jsx转换成真实的dom节点。</li>
<li>componentDidMount，组件第一次渲染完成时触发。</li>
<li>componentDidUpdate，组件更新完成时触发。</li>
<li>componentWillUnmount，组件销毁和卸载时触发。</li>
</ul>
</li>
<li>不常用的有：<ul>
<li>getDerivedStateFromProps，更新state和处理回调。</li>
<li>shouldComponentUpdate，用于性能优化。</li>
<li>getSnapshotBeforeUpdate，替代了componentWillUpdate。</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>React的生命周期中有常用的和不常用的。</li>
<li>常用的有：<ul>
<li>constructor()： 完成了数据的初始化。注意：只要使用了constructor()就必须写super()，否则this指向会出错。 -</li>
<li>render()： render()函数会将jsx生成的dom插入到目标节点中。在每次组件更新时，react通过diff算法比较更新前和更新之后的dom节点，找到最小的有差异的dom位置并更新，花费最小的开销。</li>
<li>componentDidMount()： 组件第一次渲染完成，此时dom节点已经生成，在这里调用接口请求，返回数据后使用setState()更新数据后重新渲染。</li>
<li>componentDidUpdate(prevProps,prevState)： 组件更新完成。每次react重新渲染之后都会进入这个生命周期，可以拿到更新之前的props和state。</li>
<li>componentWillUnmount()： 在这个生命周期完成组件的数据销毁和卸载，移除所有的定时器和监听。 不常用的有：</li>
<li>getDerivedStateFromProps(nextProps,prevState)： 代替老版的componentWillReceiveProps()。官方将更新state与触发回调重新分配到了componentWillReceiveProps()中，让组件整体的更新逻辑更加清晰，并且在当前生命周期中，禁止使用this.props，强制让开发者们通过比较nextProps和PrevState去保证数据的正确行为。</li>
<li>shouldComponentUpdate()： return true可以渲染，return false不重新渲染。为什么会出现这个SCU生命周期？主要用于性能优化。也是唯一可以控制组件渲染的生命周期，在setState之后state发生改变组件会重新渲染，在当前生命周期内return false会阻止组件的更新。因为react中父组件重新渲染导致子组件也重新渲染，这时在子组件的当前生命周期内做判断是否真的需要重新渲染。</li>
<li>getSnapshotBeforeUpdate(prevProps,prevState)： 代替componentWillUpdate()，核心区别在于getSnapshotBeforeUpdate()中读取到的dom元素状态是可以保证和componentDidUpdate()中的一致。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="❤React组件间传值的方法"><a href="#❤React组件间传值的方法" class="headerlink" title="❤React组件间传值的方法"></a>❤React组件间传值的方法</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> props、context、发布/订阅。</li>
<li><strong>标准回答</strong> React中组件之间的传值方法有很多，按照不同的组件间关系可以把组件传值的方法分为父子组件传值，跨级组件传值和非嵌套关系组件传值。父子组件常用的传值方法是当父组件给子组件传值时通过props，子组件向父组件传值通过回调函数来传值。跨级组件常用的传值方法是props一层一层的传，或者使用context对象，将父组件设置为生产者而子组件都设置对应的contextType即可。非嵌套关系组件传值的方法是使用共同的父级组件进行props传值，或者通过context传值，推荐使用发布/订阅的自定义事件传值。</li>
<li><strong>加分回答</strong> React中组件间传值方法有很多，按照不同的组件间关系可以把组件间传值的方法分为：<ul>
<li>父子组件传值：父子组件传值是最常见的应用场景也是非常简单的一种通信方式，父组件通过向子组件传递props，子组件得到props之后做处理就行。而子组件向父组件传值需要通过回调函数触发，具体操作是父组件将一个函数作为props的属性传递给子组件，子组件通过this.props.xxx()调用父组件的函数，参数根据需要自己进行搭配即可。</li>
<li>跨级组件传值：跨级的组件之间传值无非就是重复多个父子组件传值的过程。一般跨级的传值方式有两种，分别是：<ul>
<li>一层一层的传递props：写法很复杂，耦合程度也很高，如果两个组件之间隔了很多层，那么也会影响中间组件的性能，开销大。不过这种方法也是可以的，如果组件之间的层级不是非常多，可以考虑使用这个方法。</li>
</ul>
</li>
<li>context对象：context相当于一个全局的变量，是一个大的容器，可以把需要传递的数据放在这个容器中，不论嵌套多深都可以轻易的使用。具体操作是创建一个context对象，需要输入默认值。在父组件中使用生产者标签将需要传值的所有子组件包裹起来。子组件通过指定contextType获取到这个context对象，直接调用this.context即可获得值。</li>
<li>非嵌套关系组件传值：就是没有任何包含关系的组件之间的传值，包括了兄弟组件。对于肺嵌套关系组件传值一般用两种方法： - 通过相同的父组件传值：子组件通过回调函数的形式将数据传给父组件，父组件直接通过属性将数据传递给子组件。</li>
<li>context：利用共同的父组件context对象进行传值</li>
<li>通过发布/订阅进行传递：也可以说是自定义事件。重点是在子组件的componentDidMount生命周期通过声明一个自定义事件，然后在componentWillUnmount生命周期组件销毁时移除自定义事件。</li>
</ul>
</li>
</ul>
<h3 id="❤React事件绑定原理"><a href="#❤React事件绑定原理" class="headerlink" title="❤React事件绑定原理"></a>❤React事件绑定原理</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 非原生事件、SyntheticBaseEvent</li>
<li><strong>标准回答</strong><ul>
<li>React中event事件不是原生事件，而是对原生event进行了封装的新类SyntheticBaseEvent，模拟出DOM事件的所有功能，通过event.nativeEvent可以获取到原生事件。</li>
<li>React17版本开始所有事件都绑定在root根组件上，之前都是绑定在document上。</li>
<li>React中event和DOM事件不一样，和Vue也不一样。</li>
</ul>
</li>
<li><strong>加分回答</strong> React并不是将click事件绑在该div的真实DOM上，而是在root处监听所有支持的事件，当事件发生并冒泡至root处时，React将事件内容封装并交由真正的处理函数运行。这样的方式不仅减少了内存消耗，还能在组件挂载销毁时统一订阅和移除事件。另外冒泡到 root上的事件也不是原生浏览器事件，而是 React 自己实现的合成事件（SyntheticBaseEvent）。因此我们如果不想要事件冒泡的话，调用 <code>event.stopPropagation</code> 是无效的，而应该调用<code>event.preventDefault</code>。</li>
</ul>
<h3 id="❤ReactRouter基本用法"><a href="#❤ReactRouter基本用法" class="headerlink" title="❤ReactRouter基本用法"></a>❤ReactRouter基本用法</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 路由的模式有两种、hash模式、history模式、路由的动态传参、重定向、高阶路由组件。</li>
<li><strong>标准回答</strong> react的路由保证了界面和URL的同步，拥有简单的API和强大的功能。react中的路由模式有两种，分别是：hash路由和history路由。<ul>
<li>首先用析构的方法引入需要用到的路由方式，需要注意的是路由所有的配置都必须被包裹在hash路由或者history路由里面。</li>
<li>然后在路由标签内先再配置Route标签，它的参数有：path，路由匹配的路径。component，路由匹配成功之后渲染的组件。</li>
<li>react中路由的跳转使用Link标签，它的参数to指路由匹配的路径，也需要引入。NavLink标签和Link的区别就是渲染成a标签之后会自带一个class属性，对应的是NavLink标签的active属性。</li>
<li>react路由中有高阶路由组件withRouter，它和普通路由一样需要引入，主要作用是增加了路由跳转的方式，可以调用history方法进行函数中路由的跳转。</li>
<li>react中路由的动态传值是一个重点，{/:属性名}和{/属性名/值}搭配的方式进行传值，在需要接收参数的组件通过this.props.match.params来进行接收。react中路由的query传值是通过问号的方法将参数拼接在url之后，在需要接收参数的组件通过url.parse(this.props.location.search).query获取参数。</li>
<li>路由的重定向需要用组件Redirect来完成，参数to是目标组件。 - 路由的懒加载需要从react中引入Suspense和lazy，引入组件时通过lazy(() =&gt; import())来引入，使用Suspense标签将Route包裹起来即可。</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>react中路由模式分为hash路由和history路由。<ul>
<li>hash路由的原理是window.onhashchange监听，url前面会有一个#号，这个就是锚点，每个路由前面都会有#锚点，特点是#之后的数据改变不会发起请求，因此改变hash不会重新加载页面。</li>
<li>history路由的原理是window.history API，在HTML5中新增了pushState和replaceState方法，这两个方法是在浏览器的历史记录栈上做文章，提供了对历史记录做修改的功能，虽然更改了url但是不会向服务器发起请求。history模式虽然去掉了hash模式的#锚点，但是它怕刷新，因为刷新时是真实的请求。而hash模式下，修改的是#锚点之后的信息，浏览器不会将#锚点之后的数据发送到服务器，所以没有问题。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="❤setState是同步还是异步的"><a href="#❤setState是同步还是异步的" class="headerlink" title="❤setState是同步还是异步的"></a>❤setState是同步还是异步的</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 是同步也是异步、合成事件、生命周期函数、原生事件、定时器</li>
<li><strong>标准回答</strong> setState在合成事件和生命周期函数中是异步的，在原生事件和定时器中都是同步的。</li>
<li><strong>加分回答</strong><ul>
<li>setState本身不分同步或者异步，而是取决于是否处于batch update中。组件中的所有函数在执行时临时设置一个变量isBatchingUpdates = true，当遇到setState时，如果isBatchingUpdates是true，那么setState就是异步的，如果是false，那么setState就是同步的。那么什么时候isBatchingUpdates会被设置成false呢？</li>
<li>当函数运行结束时isBatchingUpdates = false - 当函数遇到setTimeout、setInterval时isBatchingUpdates = false</li>
<li>当dom添加自定义事件时isBatchingUpdates = false</li>
</ul>
</li>
</ul>
<h3 id="❤React中hooks的优缺点"><a href="#❤React中hooks的优缺点" class="headerlink" title="❤React中hooks的优缺点"></a>❤React中hooks的优缺点</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 可读性强、组件层级变得更浅、不再需要考虑class组件中this指向、部分生命周期不支持</li>
<li><strong>标准回答</strong><ul>
<li><strong>优点：</strong><ul>
<li>代码的可读性强，在使用hooks之前比如发布/订阅自定义事件被挂载在componentDidMount生命周期中，然后需要在componentWillUnmount生命周期中将它清楚，这样就不便于开发者维护和迭代。在使用hooks之后，通过useEffect可以将componentDidMount生命周期、componentDidUpdate生命周期和componentWillUnmount生命周期聚合起来，方便代码的维护。</li>
<li>组件层级变得更浅了，在使用hooks之前通常使用高阶组件HOC的方法来复用多个组件公共的状态，增强组建的功能，这样肯定是加大了组件渲染的开销，损失了性能。但是在hooks中可以通过自定义组件useXxx()的方法将多个组件之间的共享逻辑放在自定义hook中，就可以轻松的进行数据互通。</li>
<li>不再需要考虑class组件中this指向的问题，hook在函数组件中不需要通过this.state或者this.fn来获取数据或者方法。</li>
</ul>
</li>
<li><strong>缺点：</strong>hooks的useEffect只包括了<code>componentDidMount</code>、<code>componentDidUpdate</code>还有<code>componentWillUnmount</code>这三个生命周期，对于<code>getSnapshotBeforeUpdate</code>和<code>componentDidCatch</code>等其他的生命周期没有支持。</li>
</ul>
</li>
<li><strong>加分回答</strong> 使用useEffect时候里面不能写太多依赖项，将各个不同的功能划分为多个useEffect模块，将各项功能拆开写，这是遵循了软件设计的“单一职责模式”。如果遇到状态不同步的情况，使用手动传递参数的形式。如果业务复杂，就使用Component代替hooks，hooks的出现并不是取代了class组件，而是在函数组件的基础上可以实现一部分的类似class组件功能。</li>
</ul>
<h2 id="微信小程序"><a href="#微信小程序" class="headerlink" title="微信小程序"></a>微信小程序</h2><h3 id="微信小程序有几个文件"><a href="#微信小程序有几个文件" class="headerlink" title="微信小程序有几个文件"></a>微信小程序有几个文件</h3><ul>
<li><code>WXSS (WeiXin Style Sheets)</code>是一套样式语言，用于描述 <code>WXML</code> 的组件样式， <code>js</code> 逻辑处理，网络请求<code>json</code>小程序设置，如页面注册，页面标题及 <code>tabBar</code>。</li>
<li><code>app.json</code> 必须要有这个文件，如果没有这个文件，项目无法运行，因为微信框架把这个作为配置文件入口，整个小程序的全局配置。包括页面注册，网络设置，以及小程序的<code>window</code> 背景色，配置导航条样式，配置默认标题。</li>
<li><code>app.js</code> 必须要有这个文件，没有也是会报错！但是这个文件创建一下就行 什么都不需要写以后我们可以在这个文件中监听并处理小程序的生命周期函数、声明全局变量。</li>
<li><code>app.wxss</code> 配置全局 <code>css</code></li>
</ul>
<h3 id="微信小程序怎样跟事件传值"><a href="#微信小程序怎样跟事件传值" class="headerlink" title="微信小程序怎样跟事件传值"></a>微信小程序怎样跟事件传值</h3><blockquote>
<p>给 <code>HTML</code> 元素添加 <code>data-*</code>属性来传递我们需要的值，然后通过 <code>e.currentTarget.dataset</code> 或<code>onload</code>的<code>param</code>参数获取。但 <code>data -</code> 名称不能有大写字母和不可以存放对象</p>
</blockquote>
<h3 id="小程序的-wxss-和-css-有哪些不一样的地方？"><a href="#小程序的-wxss-和-css-有哪些不一样的地方？" class="headerlink" title="小程序的 wxss 和 css 有哪些不一样的地方？"></a>小程序的 wxss 和 css 有哪些不一样的地方？</h3><ul>
<li><code>wxss</code>的图片引入需使用外链地址</li>
<li>没有 <code>Body</code>；样式可直接使用 <code>import</code> 导入</li>
</ul>
<h3 id="小程序关联微信公众号如何确定用户的唯一性"><a href="#小程序关联微信公众号如何确定用户的唯一性" class="headerlink" title="小程序关联微信公众号如何确定用户的唯一性"></a>小程序关联微信公众号如何确定用户的唯一性</h3><blockquote>
<p>使用 <code>wx.getUserInfo</code> 方法 <code>withCredentials</code> 为 <code>true</code> 时 可获取 <code>encryptedData</code>，里面有 <code>union_id</code>。后端需要进行对称解密</p>
</blockquote>
<h3 id="微信小程序与vue区别"><a href="#微信小程序与vue区别" class="headerlink" title="微信小程序与vue区别"></a>微信小程序与vue区别</h3><ul>
<li>生命周期不一样，微信小程序生命周期比较简单</li>
<li>数据绑定也不同，微信小程序数据绑定需要使用<code>&#123;&#123;&#125;&#125;</code>，<code>vue</code> 直接<code>:</code>就可以</li>
<li>显示与隐藏元素，<code>vue</code>中，使用 <code>v-if</code> 和 <code>v-show</code> 控制元素的显示和隐藏，小程序中，使用<code>wx-if</code> 和<code>hidden</code> 控制元素的显示和隐藏</li>
<li>事件处理不同，小程序中，全用 <code>bindtap(bind+event)</code>，或者 <code>catchtap(catch+event)</code> 绑定事件,<code>vue：</code>使用 <code>v-on:event</code> 绑定事件，或者使用<code>@event</code> 绑定事件</li>
<li>数据双向绑定也不也不一样在 <code>vue</code>中,只需要再表单元素上加上 <code>v-model</code>,然后再绑定 <code>data</code>中对应的一个值，当表单元素内容发生变化时，<code>data</code>中对应的值也会相应改变，这是 <code>vue</code>非常 nice 的一点。微信小程序必须获取到表单元素，改变的值，然后再把值赋给一个 <code>data</code>中声明的变量。</li>
</ul>
<h2 id="webpack相关"><a href="#webpack相关" class="headerlink" title="webpack相关"></a>webpack相关</h2><h3 id="打包体积-优化思路"><a href="#打包体积-优化思路" class="headerlink" title="打包体积 优化思路"></a>打包体积 优化思路</h3><ul>
<li>提取第三方库或通过引用外部文件的方式引入第三方库</li>
<li>代码压缩插件<code>UglifyJsPlugin</code></li>
<li>服务器启用gzip压缩</li>
<li>按需加载资源文件 <code>require.ensure</code></li>
<li>优化<code>devtool</code>中的<code>source-map</code></li>
<li>剥离<code>css</code>文件，单独打包</li>
<li>去除不必要插件，通常就是开发环境与生产环境用同一套配置文件导致</li>
</ul>
<h3 id="打包效率"><a href="#打包效率" class="headerlink" title="打包效率"></a>打包效率</h3><ul>
<li>开发环境采用增量构建，启用热更新</li>
<li>开发环境不做无意义的工作如提取<code>css</code>计算文件hash等</li>
<li>配置<code>devtool</code></li>
<li>选择合适的<code>loader</code></li>
<li>个别<code>loader</code>开启<code>cache</code> 如<code>babel-loader</code></li>
<li>第三方库采用引入方式</li>
<li>提取公共代码</li>
<li>优化构建时的搜索路径 指明需要构建目录及不需要构建目录</li>
<li>模块化引入需要的部分</li>
</ul>
<h3 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h3><p>编写一个loader</p>
<blockquote>
<pre class="line-numbers language-none"><code class="language-none">loader&#96;就是一个&#96;node&#96;模块，它输出了一个函数。当某种资源需要用这个&#96;loader&#96;转换时，这个函数会被调用。并且，这个函数可以通过提供给它的&#96;this&#96;上下文访问&#96;Loader API&#96;。 &#96;reverse-txt-loader<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 定义</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//src是原文件内容（abcde），下面对内容进行处理，这里是反转</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> src<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//返回JavaScript源码，必须是String或者Buffer</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">module.exports = '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>result<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//使用</span>
<span class="token punctuation">&#123;</span>
	test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.txt$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
	use<span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">&#123;</span>
			<span class="token string">'./path/reverse-txt-loader'</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="说一下webpack的一些plugin，怎么使用webpack对项目进行优化"><a href="#说一下webpack的一些plugin，怎么使用webpack对项目进行优化" class="headerlink" title="说一下webpack的一些plugin，怎么使用webpack对项目进行优化"></a>说一下webpack的一些plugin，怎么使用webpack对项目进行优化</h3><p><strong>构建优化</strong></p>
<ul>
<li>减少编译体积 <code>ContextReplacementPugin</code>、<code>IgnorePlugin</code>、<code>babel-plugin-import</code>、<code>babel-plugin-transform-runtime</code></li>
<li>并行编译 <code>happypack</code>、<code>thread-loader</code>、<code>uglifyjsWebpackPlugin</code>开启并行</li>
<li>缓存 <code>cache-loader</code>、<code>hard-source-webpack-plugin</code>、<code>uglifyjsWebpackPlugin</code>开启缓存、<code>babel-loader</code>开启缓存</li>
<li>预编译 <code>dllWebpackPlugin &amp;&amp; DllReferencePlugin</code>、<code>auto-dll-webapck-plugin</code></li>
</ul>
<p><strong>性能优化</strong></p>
<ul>
<li>减少编译体积 <code>Tree-shaking</code>、<code>Scope Hositing</code></li>
<li><code>hash</code>缓存 <code>webpack-md5-plugin</code></li>
<li>拆包 <code>splitChunksPlugin</code>、<code>import()</code>、<code>require.ensure</code></li>
</ul>
<h2 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h2><h3 id="写一个通用的事件侦听器函数"><a href="#写一个通用的事件侦听器函数" class="headerlink" title="写一个通用的事件侦听器函数"></a>写一个通用的事件侦听器函数</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// event(事件)工具集，来源：github.com/markyun</span>
   markyun<span class="token punctuation">.</span>Event <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
       <span class="token comment">// 视能力分别使用dom0||dom2||IE方式 来绑定事件</span>
       <span class="token comment">// 参数： 操作的元素,事件名称 ,事件处理程序</span>
       <span class="token function-variable function">addEvent</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               <span class="token comment">//事件类型、需要执行的函数、是否捕捉</span>
               element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               element<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                   <span class="token function">handler</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
               element<span class="token punctuation">[</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> handler<span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
       <span class="token comment">// 移除事件</span>
       <span class="token function-variable function">removeEvent</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>removeEventListener<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               element<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>datachEvent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               element<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
               element<span class="token punctuation">[</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
       <span class="token comment">// 阻止事件 (主要是事件冒泡，因为IE不支持事件捕获)</span>
       <span class="token function-variable function">stopPropagation</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>ev<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               ev<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
               ev<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
       <span class="token comment">// 取消事件的默认行为</span>
       <span class="token function-variable function">preventDefault</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>preventDefault<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
               event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
       <span class="token comment">// 获取事件目标</span>
       <span class="token function-variable function">getTarget</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token keyword">return</span> event<span class="token punctuation">.</span>target <span class="token operator">||</span> event<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
       <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="如何判断一个对象是否为数组"><a href="#如何判断一个对象是否为数组" class="headerlink" title="如何判断一个对象是否为数组"></a>如何判断一个对象是否为数组</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isArray</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> arg <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><ul>
<li>每次比较相邻的两个数，如果后一个比前一个小，换位置</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">var</span> temp<span class="token punctuation">;</span>
            temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">bubbleSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><blockquote>
<p>采用二分法，取出中间数，数组每次和中间数比较，小的放到左边，大的放到右边</p>
</blockquote>
<p><strong>快速排序的思想很简单，整个排序过程只需要三步：</strong></p>
<ul>
<li>（1）在数据集之中，找一个基准点</li>
<li>（2）建立两个数组，分别存储左边和右边的数组</li>
<li>（3）利用递归进行下次比较</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 返回空数组</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">var</span> cIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> c <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>cIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> c<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            l<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            r<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="编写一个方法-求一个字符串的字节长度"><a href="#编写一个方法-求一个字符串的字节长度" class="headerlink" title="编写一个方法 求一个字符串的字节长度"></a>编写一个方法 求一个字符串的字节长度</h3><ul>
<li>假设：一个英文字符占用一个字节，一个中文字符占用两个字节</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">GetBytes</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> len <span class="token operator">=</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">var</span> bytes <span class="token operator">=</span> len<span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">255</span><span class="token punctuation">)</span> bytes<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> bytes<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">GetBytes</span><span class="token punctuation">(</span><span class="token string">"你好,as"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="bind的用法，以及如何实现bind的函数和需要注意的点"><a href="#bind的用法，以及如何实现bind的函数和需要注意的点" class="headerlink" title="bind的用法，以及如何实现bind的函数和需要注意的点"></a>bind的用法，以及如何实现bind的函数和需要注意的点</h3><ul>
<li><code>bind</code>的作用与<code>call</code>和<code>apply</code>相同，区别是<code>call</code>和<code>apply</code>是立即调用函数，而<code>bind</code>是返回了一个函数，需要调用的时候再执行。 一个简单的<code>bind</code>函数实现如下</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="实现一个函数clone"><a href="#实现一个函数clone" class="headerlink" title="实现一个函数clone"></a>实现一个函数clone</h3><blockquote>
<p>可以对<code>JavaScript</code>中的5种主要的数据类型,包括<code>Number</code>、<code>String</code>、<code>Object</code>、<code>Array</code>、<code>Boolean</code>）进行值复</p>
</blockquote>
<ul>
<li>考察点1：对于基本数据类型和引用数据类型在内存中存放的是值还是指针这一区别是否清楚</li>
<li>考察点2：是否知道如何判断一个变量是什么类型的</li>
<li>考察点3：递归算法的设计</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 方法一：</span>
  <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">clone</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
          <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
          <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> e <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                  o<span class="token punctuation">[</span>e<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">[</span>e<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">"object"</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>
          <span class="token keyword">return</span> o<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

 <span class="token comment">//方法二：</span>
   <span class="token comment">/**
      * 克隆一个对象
      * @param Obj
      * @returns
      */</span>
     <span class="token keyword">function</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token parameter">Obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
         <span class="token keyword">var</span> buf<span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>Obj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
             buf <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token comment">//创建一个空的数组</span>
             <span class="token keyword">var</span> i <span class="token operator">=</span> Obj<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
             <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                 buf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">clone</span><span class="token punctuation">(</span>Obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">&#125;</span>
             <span class="token keyword">return</span> buf<span class="token punctuation">;</span>
         <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Obj <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
             buf <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                   <span class="token comment">//创建一个空对象</span>
             <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> Obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>           <span class="token comment">//为这个对象添加新的属性</span>
                 buf<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">clone</span><span class="token punctuation">(</span>Obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">&#125;</span>
             <span class="token keyword">return</span> buf<span class="token punctuation">;</span>
         <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                         <span class="token comment">//普通变量直接赋值</span>
             <span class="token keyword">return</span> Obj<span class="token punctuation">;</span>
         <span class="token punctuation">&#125;</span>
     <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="下面这个ul，如何点击每一列的时候alert其index"><a href="#下面这个ul，如何点击每一列的时候alert其index" class="headerlink" title="下面这个ul，如何点击每一列的时候alert其index"></a>下面这个ul，如何点击每一列的时候alert其index</h3><blockquote>
<p>考察闭包</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>”test”</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第一条<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第二条<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>这是第三条<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
 // 方法一：
 var lis=document.getElementById('2223').getElementsByTagName('li');
 for(var i=0;i&lt;3;i++)
 &#123;
     lis[i].index=i;
     lis[i].onclick=function()&#123;
         alert(this.index);
 &#125;

//方法二：
var lis=document.getElementById('2223').getElementsByTagName('li');
for(var i=0;i&lt;3;i++)
&#123;
    lis[i].index=i;
    lis[i].onclick=(function(a)&#123;
        return function() &#123;
            alert(a);
        &#125;
    &#125;)(i);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="定义一个log方法，让它可以代理console-log的方法"><a href="#定义一个log方法，让它可以代理console-log的方法" class="headerlink" title="定义一个log方法，让它可以代理console.log的方法"></a>定义一个log方法，让它可以代理console.log的方法</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js">可行的方法一：

 <span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span>　<span class="token punctuation">&#123;</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>

 <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span> <span class="token comment">// hello world!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>如果要传入多个参数呢？显然上面的方法不能满足要求，所以更好的方法是：</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>console<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="输出今天的日期"><a href="#输出今天的日期" class="headerlink" title="输出今天的日期"></a>输出今天的日期</h3><blockquote>
<p>以<code>YYYY-MM-DD</code>的方式，比如今天是2014年9月26日，则输出2014-09-26</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 获取年，getFullYear()返回4位的数字</span>
  <span class="token keyword">var</span> year <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 获取月，月份比较特殊，0是1月，11是12月</span>
  <span class="token keyword">var</span> month <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token comment">// 变成两位</span>
  month <span class="token operator">=</span> month <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> month <span class="token operator">:</span> month<span class="token punctuation">;</span>
  <span class="token comment">// 获取日</span>
  <span class="token keyword">var</span> day <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 day <span class="token operator">=</span> day <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> day <span class="token operator">:</span> day<span class="token punctuation">;</span>
 <span class="token function">alert</span><span class="token punctuation">(</span>year <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> month <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="用js实现随机选取10–100之间的10个数字，存入一个数组，并排序"><a href="#用js实现随机选取10–100之间的10个数字，存入一个数组，并排序" class="headerlink" title="用js实现随机选取10–100之间的10个数字，存入一个数组，并排序"></a>用js实现随机选取10–100之间的10个数字，存入一个数组，并排序</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> iArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 funtion <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token parameter">istart<span class="token punctuation">,</span> iend</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
         <span class="token keyword">var</span> iChoice <span class="token operator">=</span> istart <span class="token operator">-</span> iend <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
         <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> iChoice <span class="token operator">+</span> istart<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
         iArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 iArray<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="写一段JS程序提取URL中的各个GET参数"><a href="#写一段JS程序提取URL中的各个GET参数" class="headerlink" title="写一段JS程序提取URL中的各个GET参数"></a>写一段JS程序提取URL中的各个GET参数</h3><blockquote>
<p>有这样一个<code>URL</code>：<code>http://item.taobao.com/item.htm?a=1&amp;b=2&amp;c=&amp;d=xxx&amp;e</code>，请写一段JS程序提取URL中的各个GET参数(参数名和参数个数不确定)，将其按<code>key-value</code>形式返回到一个<code>json</code>结构中，如<code>&#123;a:&#39;1&#39;, b:&#39;2&#39;, c:&#39;&#39;, d:&#39;xxx&#39;, e:undefined&#125;</code></p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">serilizeUrl</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
     <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
     url <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> map <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"&amp;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> map<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
         result<span class="token punctuation">[</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token punctuation">&#125;</span>
     <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="写一个function，清除字符串前后的空格"><a href="#写一个function，清除字符串前后的空格" class="headerlink" title="写一个function，清除字符串前后的空格"></a>写一个<code>function</code>，清除字符串前后的空格</h3><blockquote>
<p>使用自带接口<code>trim()</code>，考虑兼容性：</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>trim<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

 <span class="token comment">// test the function</span>
 <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">" \t\n test string "</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">alert</span><span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"test string"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// alerts "true"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="实现每隔一秒钟输出1-2-3…数字"><a href="#实现每隔一秒钟输出1-2-3…数字" class="headerlink" title="实现每隔一秒钟输出1,2,3…数字"></a>实现每隔一秒钟输出1,2,3…数字</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
     <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
     <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>j<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span>
   <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="实现一个函数，判断输入是不是回文字符串"><a href="#实现一个函数，判断输入是不是回文字符串" class="headerlink" title="实现一个函数，判断输入是不是回文字符串"></a>实现一个函数，判断输入是不是回文字符串</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> input <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">===</span> input<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="数组扁平化处理"><a href="#数组扁平化处理" class="headerlink" title="数组扁平化处理"></a>数组扁平化处理</h3><blockquote>
<p>实现一个<code>flatten</code>方法，使得输入一个数组，该数组里面的元素也可以是数组，该方法会输出一个扁平化的数组</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span>item</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> prev<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">?</span><span class="token function">flatten</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">:</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="实现一个函数clone，可以对JavaScript中的5种主要的数据类型（包括Number、String、Object、Array、Boolean）进行值复制"><a href="#实现一个函数clone，可以对JavaScript中的5种主要的数据类型（包括Number、String、Object、Array、Boolean）进行值复制" class="headerlink" title="实现一个函数clone，可以对JavaScript中的5种主要的数据类型（包括Number、String、Object、Array、Boolean）进行值复制"></a>实现一个函数clone，可以对JavaScript中的5种主要的数据类型（包括Number、String、Object、Array、Boolean）进行值复制</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">clone</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> e <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      o<span class="token punctuation">[</span>e<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">[</span>e<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">"object"</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> o<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h3><blockquote>
<p>多台服务器共同协作，不让其中某一台或几台超额工作，发挥服务器的最大作用</p>
</blockquote>
<ul>
<li><code>http</code>重定向负载均衡：调度者根据策略选择服务器以302响应请求，缺点只有第一次有效果，后续操作维持在该服务器 dns负载均衡：解析域名时，访问多个<code>ip</code>服务器中的一个（可监控性较弱）</li>
<li>反向代理负载均衡：访问统一的服务器，由服务器进行调度访问实际的某个服务器，对统一的服务器要求大，性能受到 服务器群的数量</li>
</ul>
<h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><blockquote>
<p>内容分发网络，基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。</p>
</blockquote>
<h3 id="内存泄漏"><a href="#内存泄漏" class="headerlink" title="内存泄漏"></a>内存泄漏</h3><blockquote>
<p>定义：程序中己动态分配的堆内存由于某种原因程序未释放或无法释放引发的各种问题。</p>
</blockquote>
<p><strong>js中可能出现的内存泄漏情况</strong></p>
<blockquote>
<p>结果：变慢，崩溃，延迟大等，原因：</p>
</blockquote>
<ul>
<li>全局变量</li>
<li><code>dom</code>清空时，还存在引用</li>
<li><code>ie</code>中使用闭包</li>
<li>定时器未清除</li>
<li>子元素存在引起的内存泄露</li>
</ul>
<p><strong>避免策略</strong></p>
<ul>
<li>减少不必要的全局变量，或者生命周期较长的对象，及时对无用的数据进行垃圾回收；</li>
<li>注意程序逻辑，避免“死循环”之类的 ；</li>
<li>避免创建过多的对象 原则：不用了的东西要及时归还。</li>
<li>减少层级过多的引用</li>
</ul>
<h3 id="babel原理"><a href="#babel原理" class="headerlink" title="babel原理"></a>babel原理</h3><blockquote>
<p><code>ES6、7</code>代码输入 -&gt; <code>babylon</code>进行解析 -&gt; 得到<code>AST</code>（抽象语法树）-&gt; <code>plugin</code>用b<code>abel-traverse</code>对<code>AST</code>树进行遍历转译 -&gt;得到新的<code>AST</code>树-&gt;用<code>babel-generator</code>通过<code>AST</code>树生成<code>ES5</code>代码</p>
</blockquote>
<h3 id="js自定义事件"><a href="#js自定义事件" class="headerlink" title="js自定义事件"></a>js自定义事件</h3><blockquote>
<p>三要素： <code>document.createEvent()</code> <code>event.initEvent()</code> <code>element.dispatchEvent()</code></p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// (en:自定义事件名称，fn:事件处理函数，addEvent:为DOM元素添加自定义事件，triggerEvent:触发自定义事件)</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> demo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"demo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    demo<span class="token punctuation">.</span><span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"handler1"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    demo<span class="token punctuation">.</span><span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"handler2"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    demo<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">addEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">en<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pools <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pools <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>en <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pools<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pools<span class="token punctuation">[</span>en<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pools<span class="token punctuation">[</span>en<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pools<span class="token punctuation">[</span>en<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">triggerEvent</span>  <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">en</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>en <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pools<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> fns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pools<span class="token punctuation">[</span>en<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>il<span class="token operator">=</span>fns<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">&lt;</span>il<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            fns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="前后端路由差别"><a href="#前后端路由差别" class="headerlink" title="前后端路由差别"></a>前后端路由差别</h3><ul>
<li>后端每次路由请求都是重新访问服务器</li>
<li>前端路由实际上只是<code>JS</code>根据<code>URL</code>来操作<code>DOM</code>元素，根据每个页面需要的去服务端请求数据，返回数据后和模板进行组合</li>
</ul>
<h3 id="❤有什么方法可以保持前后端实时通信"><a href="#❤有什么方法可以保持前后端实时通信" class="headerlink" title="❤有什么方法可以保持前后端实时通信"></a>❤有什么方法可以保持前后端实时通信</h3><p><strong>牛客网解释：</strong></p>
<ul>
<li><strong>得分点</strong> 轮询、长轮询、 iframe流、WebSocket、SSE</li>
<li><strong>标准回答</strong></li>
<li>保持前后端实时通信的方法有以下几种：<ul>
<li><strong>轮询</strong>是客户端和服务器之间会一直进行连接，每隔一段时间就询问一次。其<strong>缺点</strong>也很明显：连接数会很多，一个接受，一个发送。而且每次发送请求都会有Http的Header，会很耗流量，也会消耗CPU的利用率。<strong>优点</strong>就是实现简单，无需做过多的更改。缺点是轮询的间隔过长，会导致用户不能及时接收到更新的数据；轮询的间隔过短，会导致查询请求过多，增加服务器端的负担</li>
<li><strong>长轮询</strong>是对轮询的改进版，客户端发送HTTP给服务器之后，如果没有新消息，就一直等待。有新消息，才会返回给客户端。在某种程度上减小了网络带宽和CPU利用率等问题。由于http数据包的头部数据量往往很大（通常有400多个字节），但是真正被服务器需要的数据却很少（有时只有10个字节左右），这样的数据包在网络上周期性的传输，难免对网络带宽是一种浪费。<strong>优点</strong>是做了优化，有较好的时效性。<strong>缺点</strong>是保持连接会消耗资源; 服务器没有返回有效数据，程序超时。</li>
<li><strong>iframe流</strong>方式是在页面中插入一个隐藏的iframe，利用其src属性在服务器和客户端之间创建一条长连接，服务器向iframe传输数据（通常是HTML，内有负责插入信息的javascript），来实时更新页面。<strong>优点</strong>是消息能够实时到达；浏览器兼容好。<strong>缺点</strong>是服务器维护一个长连接会增加开销；IE、chrome、Firefox会显示加载没有完成，图标会不停旋转。</li>
<li><strong>WebSocket</strong>是类似Socket的TCP长连接的通讯模式，一旦WebSocket连接建立后，后续数据都以帧序列的形式传输。在客户端断开WebSocket连接或Server端断掉连接前，不需要客户端和服务端重新发起连接请求。在海量并发和客户端与服务器交互负载流量大的情况下，极大的节省了网络带宽资源的消耗，有明显的性能优势，且客户端发送和接受消息是在同一个持久连接上发起，实时性优势明显。缺点是浏览器支持程度不一致，不支持断开重连。</li>
<li><strong>SSE</strong>(Server-Sent Event)是建立在浏览器与服务器之间的通信渠道，然后服务器向浏览器推送信息。SSE 是单向通道，只能服务器向浏览器发送，因为 streaming 本质上就是下载。 <strong>优点</strong>是SSE 使用 HTTP 协议，现有的服务器软件都支持。SSE 属于轻量级，使用简单；SSE 默认支持断线重连；</li>
</ul>
</li>
<li><strong>加分回答</strong><ul>
<li>轮询适用于：小型应用，实时性不高</li>
<li>长轮询适用于：一些早期的对及时性有一些要求的应用：web IM 聊天</li>
<li>iframe适用于：客服通信等</li>
<li>WebSocket适用于：微信、网络互动游戏等</li>
<li>SSE适用于：金融股票数据、看板等</li>
</ul>
</li>
</ul>
<h2 id="综合"><a href="#综合" class="headerlink" title="综合"></a>综合</h2><h3 id="谈谈你对重构的理解"><a href="#谈谈你对重构的理解" class="headerlink" title="谈谈你对重构的理解"></a>谈谈你对重构的理解</h3><ul>
<li>网站重构：在不改变外部行为的前提下，简化结构、添加可读性，而在网站前端保持一致的行为。也就是说是在不改变UI的情况下，对网站进行优化， 在扩展的同时保持一致的UI</li>
<li>对于传统的网站来说重构通常是：<ul>
<li>表格(<code>table</code>)布局改为<code>DIV+CSS</code></li>
<li>使网站前端兼容于现代浏览器(针对于不合规范的<code>CSS</code>、如对IE6有效的)</li>
<li>对于移动平台的优化</li>
<li>针对于<code>SEO</code>进行优化</li>
</ul>
</li>
</ul>
<h3 id="什么样的前端代码是好的"><a href="#什么样的前端代码是好的" class="headerlink" title="什么样的前端代码是好的"></a>什么样的前端代码是好的</h3><ul>
<li>高复用低耦合，这样文件小，好维护，而且好扩展。</li>
<li>具有可用性、健壮性、可靠性、宽容性等特点</li>
<li>遵循设计模式的六大原则</li>
</ul>
<h3 id="对前端工程师这个职位是怎么样理解的？它的前景会怎么样"><a href="#对前端工程师这个职位是怎么样理解的？它的前景会怎么样" class="headerlink" title="对前端工程师这个职位是怎么样理解的？它的前景会怎么样"></a>对前端工程师这个职位是怎么样理解的？它的前景会怎么样</h3><ul>
<li>前端是最贴近用户的程序员，比后端、数据库、产品经理、运营、安全都近<ul>
<li>实现界面交互</li>
<li>提升用户体验</li>
<li>基于NodeJS，可跨平台开发</li>
</ul>
</li>
<li>前端是最贴近用户的程序员，前端的能力就是能让产品从 90分进化到 100 分，甚至更好，</li>
<li>与团队成员，<code>UI</code>设计，产品经理的沟通；</li>
<li>做好的页面结构，页面重构和用户体验；</li>
</ul>
<h3 id="你觉得前端工程的价值体现在哪"><a href="#你觉得前端工程的价值体现在哪" class="headerlink" title="你觉得前端工程的价值体现在哪"></a>你觉得前端工程的价值体现在哪</h3><ul>
<li>为简化用户使用提供技术支持（交互部分）</li>
<li>为多个浏览器兼容性提供支持</li>
<li>为提高用户浏览速度（浏览器性能）提供支持</li>
<li>为跨平台或者其他基于webkit或其他渲染引擎的应用提供支持</li>
<li>为展示数据提供支持（数据接口）</li>
</ul>
<h3 id="平时如何管理你的项目"><a href="#平时如何管理你的项目" class="headerlink" title="平时如何管理你的项目"></a>平时如何管理你的项目</h3><ul>
<li><p>先期团队必须确定好全局样式（<code>globe.css</code>），编码模式(<code>utf-8</code>) 等；</p>
</li>
<li><p>编写习惯必须一致（例如都是采用继承式的写法，单样式都写成一行）；</p>
</li>
<li><p>标注样式编写人，各模块都及时标注（标注关键样式调用的地方）；</p>
</li>
<li><p>页面进行标注（例如 页面 模块 开始和结束）；</p>
</li>
<li><p><code>CSS</code>跟<code>HTML</code> 分文件夹并行存放，命名都得统一（例如<code>style.css</code>）；</p>
</li>
<li><p><code>JS</code> 分文件夹存放 命名以该<code>JS</code>功能为准的英文翻译。</p>
</li>
<li><p>图片采用整合的 <code>images.png png8</code> 格式文件使用 - 尽量整合在一起使用方便将来的管理</p>
</li>
<li><p>规定全局样式、公共脚本</p>
</li>
<li><p>严格要求代码注释(html/js/css)</p>
</li>
<li><p>严格要求静态资源存放路径</p>
</li>
<li><p>Git 提交必须填写说明</p>
</li>
</ul>
<h3 id="组件封装"><a href="#组件封装" class="headerlink" title="组件封装"></a>组件封装</h3><blockquote>
<p>目的：为了重用，提高开发效率和代码质量 注意：低耦合，单一职责，可复用性，可维护性 常用操作</p>
</blockquote>
<ul>
<li>分析布局</li>
<li>初步开发</li>
<li>化繁为简</li>
<li>组件抽象</li>
</ul>
<h3 id="Web-前端开发的注意事项"><a href="#Web-前端开发的注意事项" class="headerlink" title="Web 前端开发的注意事项"></a>Web 前端开发的注意事项</h3><ul>
<li>特别设置 meta 标签 viewport</li>
<li>百分比布局宽度，结合 box-sizing: border-box;</li>
<li>使用 rem 作为计算单位。rem 只参照跟节点 html 的字体大小计算</li>
<li>使用 css3 新特性。弹性盒模型、多列布局、媒体查询等</li>
<li>多机型、多尺寸、多系统覆盖测试</li>
</ul>
<h3 id="在设计-Web-APP-时，应当遵循以下几点"><a href="#在设计-Web-APP-时，应当遵循以下几点" class="headerlink" title="在设计 Web APP 时，应当遵循以下几点"></a>在设计 Web APP 时，应当遵循以下几点</h3><ul>
<li>简化不重要的动画/动效/图形文字样式</li>
<li>少用手势，避免与浏览器手势冲突</li>
<li>减少页面内容，页面跳转次数，尽量在当前页面显示</li>
<li>增强 <code>Loading</code> 趣味性，增强页面主次关系</li>
</ul>
<h3 id="你怎么看待-Web-App-hybrid-App-Native-App？（移动端前端-和-Web-前端区别？）"><a href="#你怎么看待-Web-App-hybrid-App-Native-App？（移动端前端-和-Web-前端区别？）" class="headerlink" title="你怎么看待 Web App/hybrid App/Native App？（移动端前端 和 Web 前端区别？）"></a>你怎么看待 Web App/hybrid App/Native App？（移动端前端 和 Web 前端区别？）</h3><ul>
<li>Web App(HTML5)：采用HTML5生存在浏览器中的应用，不需要下载安装<ul>
<li>优点：开发成本低，迭代更新容易，不需用户升级，跨多个平台和终端</li>
<li>缺点：消息推送不够及时，支持图形和动画效果较差，功能使用限制（相机、GPS等）</li>
</ul>
</li>
<li>Hybrid App(混合开发)：UI WebView，需要下载安装<ul>
<li>优点：接近 Native App 的体验，部分支持离线功能</li>
<li>缺点：性能速度较慢，未知的部署时间，受限于技术尚不成熟</li>
</ul>
</li>
<li>Native App(原生开发)：依托于操作系统，有很强的交互，需要用户下载安装使用<ul>
<li>优点：用户体验完美，支持离线工作，可访问本地资源（通讯录，相册）</li>
<li>缺点：开发成本高（多系统），开发成本高（版本更新），需要应用商店的审核</li>
</ul>
</li>
</ul>
<h3 id="页面重构怎么操作"><a href="#页面重构怎么操作" class="headerlink" title="页面重构怎么操作"></a>页面重构怎么操作</h3><blockquote>
<p>网站重构：不改变UI的情况下，对网站进行优化，在扩展的同时保持一致的UI。</p>
</blockquote>
<ul>
<li>页面重构可以考虑的方面：<ul>
<li>升级第三方依赖</li>
<li>使用<code>HTML5</code>、<code>CSS3</code>、<code>ES6</code> 新特性</li>
<li>加入响应式布局</li>
<li>统一代码风格规范</li>
<li>减少代码间的耦合</li>
<li>压缩/合并静态资源</li>
<li>程序的性能优化</li>
<li>采用<code>CDN</code>来加速资源加载</li>
<li>对于<code>JS DOM</code>的优化</li>
<li>HTTP服务器的文件缓存</li>
</ul>
</li>
</ul>
<h2 id="一些常见问题"><a href="#一些常见问题" class="headerlink" title="一些常见问题"></a>一些常见问题</h2><ul>
<li>自我介绍</li>
<li>面试完你还有什么问题要问的吗</li>
<li>你有什么爱好?</li>
<li>你最大的优点和缺点是什么?</li>
<li>你为什么会选择这个行业，职位?</li>
<li>你觉得你适合从事这个岗位吗?</li>
<li>你有什么职业规划?</li>
<li>你对工资有什么要求?</li>
<li>如何看待前端开发？</li>
<li>未来三到五年的规划是怎样的？</li>
<li>你的项目中技术难点是什么？遇到了什么问题？你是怎么解决的？</li>
<li>你们部门的开发流程是怎样的</li>
<li>你认为哪个项目做得最好？</li>
<li>说下工作中你做过的一些性能优化处理</li>
<li>最近在看哪些前端方面的书？</li>
<li>平时是如何学习前端开发的？</li>
<li>你最有成就感的一件事</li>
<li>你为什么要离开前一家公司？</li>
<li>你对加班的看法</li>
<li>你希望通过这份工作获得什么？</li>
</ul>
<h2 id="HR面"><a href="#HR面" class="headerlink" title="HR面"></a>HR面</h2><h3 id="你还有其他公司的Offer吗"><a href="#你还有其他公司的Offer吗" class="headerlink" title="你还有其他公司的Offer吗?"></a>你还有其他公司的Offer吗?</h3><ul>
<li>表明自己有三四个已经确认过的offer了(没有offer也要吹,但是不要透露具体公司)</li>
<li>但是第一意向还是本公司,如果薪资差距不大,会优先考虑本公司</li>
<li>再透露出,有一两个offer催得比较急,希望这边快点出结果</li>
</ul>
<h3 id="为什么从上一家公司离职"><a href="#为什么从上一家公司离职" class="headerlink" title="为什么从上一家公司离职?"></a>为什么从上一家公司离职?</h3><ul>
<li>因为公司搬家，通勤时间三个小时</li>
<li>因为离家远花费在路途上的时间过多,不如用来充电,因为加班多导致没有时间充电,无法提高等等</li>
</ul>
<h3 id="如何看待加班-996"><a href="#如何看待加班-996" class="headerlink" title="如何看待加班(996)?"></a>如何看待加班(996)?</h3><ul>
<li>把加班分为紧急加班和长期加班</li>
<li>对于紧急加班,表示这是每个公司都会遇到的情况,自己愿意牺牲时间帮助公司和团队</li>
<li>对于长期加班,如果是自己长期加班那么会磨练自己的技能,提高自己的效率,如果是团队长期加班,自己会帮助团队找到问题,利用自动化工具或者更高效的协作流程来提高整个团队的效率,帮助大家摆脱加班</li>
</ul>
<h3 id="你对未来3-5年的职业规划"><a href="#你对未来3-5年的职业规划" class="headerlink" title="你对未来3-5年的职业规划"></a>你对未来3-5年的职业规划</h3><ul>
<li>首先表示考虑过这个问题(有规划),如何谈一谈自己的现状(结合实际).</li>
<li>接着从工作本身出发,谈谈自己会如何出色完成本职工作,如何对团队贡献、如何帮助带领团队其他成员创造更多的价值、如何帮助团队扩大影响力.</li>
<li>最后从学习出发,谈谈自己会如何精进领域知识、如何通过提升自己专业能力,如何反哺团队.</li>
</ul>
<h3 id="如何与HR谈薪资"><a href="#如何与HR谈薪资" class="headerlink" title="如何与HR谈薪资"></a>如何与HR谈薪资</h3><p>正确的回答可以这样，并且还能够反套路一下HR</p>
<ul>
<li>HR: 您期望的薪资是多少？</li>
<li>你: 就我的面试表现，贵公司最高可以给多少薪水？</li>
</ul>
<p>如果经验不够老道的HR可能就真会说出一个报价（如25K）来，然后，你就可以很开心地顺着这个价慢慢地往上谈了。所以这种情况下，你最终的薪资肯定是大于25K的。当然，经验老道的HR会给你一句很官方的套话：</p>
<ul>
<li>HR: 您期望的薪资是多少？</li>
<li>你: 就我的面试表现，贵公司最高可以给多少薪水？</li>
<li>HR: 这个暂且没法确定，要结合您几轮面试结果和用人部门的意见来综合评定。</li>
</ul>
<blockquote>
<p>虽然薪资很重要，但是我个人觉得这不是最重要的。我有以下建议：</p>
</blockquote>
<ul>
<li>如果你觉得你技术面试效果很好，可以报一个高一点的薪资，这样如果HR想要你，会找你商量的。</li>
<li>如果你觉得技术面试效果一般，但是你比较想进这家公司，可以报一个折中的薪资。</li>
<li>如果你觉得面试效果很好，但是你不想进这家公司，你可以适当“漫天要价”一下。</li>
<li>如果你觉得面试效果不好，但是你想进这家公司，你可以开一个稍微低一点的工资</li>
</ul>
]]></content>
      <categories>
        <category>前端</category>
      </categories>
      <tags>
        <tag>前端 面试</tag>
      </tags>
  </entry>
</search>
